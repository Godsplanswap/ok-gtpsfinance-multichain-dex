(this["webpackJsonp@kyberswap/interface"]=this["webpackJsonp@kyberswap/interface"]||[]).push([[23],{"./src/components/AddressInputPanel/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var s=n("./node_modules/@lingui/react/esm/index.js"),o=n("./node_modules/@lingui/core/esm/index.js"),r=n("./node_modules/react/index.js"),a=n("./node_modules/rebass/dist/index.esm.js"),i=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),c=n("./node_modules/@svgr/webpack/lib/index.js?-svgo,+titleProp,+ref!./src/assets/svg/down.svg"),l=n("./src/components/Column/index.tsx"),d=n("./src/hooks/index.ts"),u=n("./src/hooks/useENS.ts"),p=n("./src/hooks/useTheme.ts"),b=n("./src/theme/index.tsx"),j=n("./src/utils/index.ts"),m=n("./node_modules/react/jsx-runtime.js"),x=i.default.div.withConfig({displayName:"AddressInputPanel__InputPanel",componentId:"sc-1nhkr5x-0"})([""," position:relative;border-radius:12px;background-color:",";z-index:1;width:100%;transition:max-height 200ms ease-in-out;overflow:hidden;"],(e=>e.theme.flexColumnNoWrap),(e=>e.theme.buttonBlack)),h=i.default.div.withConfig({displayName:"AddressInputPanel__ContainerRow",componentId:"sc-1nhkr5x-1"})(["display:flex;justify-content:center;align-items:center;border-radius:12px;background-color:",";"],(e=>e.theme.buttonBlack)),O=i.default.div.withConfig({displayName:"AddressInputPanel__InputContainer",componentId:"sc-1nhkr5x-2"})(["flex:1;padding:0.75rem;"]),f=i.default.input.withConfig({displayName:"AddressInputPanel__Input",componentId:"sc-1nhkr5x-3"})(["font-size:14px;line-height:20px;outline:none;border:none;flex:1 1 auto;width:0;background-color:",";transition:color 300ms ",";color:",";overflow:hidden;text-overflow:ellipsis;font-weight:500;width:100%;::placeholder{color:",";}padding:0px;-webkit-appearance:textfield;::-webkit-search-decoration{-webkit-appearance:none;}::-webkit-outer-spin-button,::-webkit-inner-spin-button{-webkit-appearance:none;}"],(e=>e.theme.buttonBlack),(e=>e.error?"step-end":"step-start"),(e=>{var t=e.error,n=e.theme;return t?n.red:n.text}),(e=>e.theme.border)),g=Object(i.default)(c.a).withConfig({displayName:"AddressInputPanel__DropdownIcon",componentId:"sc-1nhkr5x-4"})(["cursor:pointer;transition:transform 300ms;transform:rotate(",");"],(e=>e.open?"-180deg":0));function v(e){var t=e.id,n=e.value,i=e.onChange,c=Object(d.b)(),v=c.chainId,y=c.networkInfo,w=c.isEVM,T=Object(u.a)(n),k=T.address,C=T.loading,P=T.name,_=Object(r.useCallback)((e=>{var t=e.target.value.replace(/\s+/g,"");i(t)}),[i]),I=Object(p.a)(),A=Boolean((n||"").length>0&&!C&&!k);return w?Object(m.jsxs)(l.a,{gap:"4px",children:[Object(m.jsxs)(a.b,{justifyContent:"space-between",alignItems:"center",marginTop:"4px",color:I.subText,children:[Object(m.jsxs)(a.d,{fontSize:"12px",fontWeight:"500",children:[Object(m.jsx)(s.b,{id:"Recipient (Optional)"}),k&&Object(m.jsxs)(b.c,{href:Object(j.n)(v,null!==P&&void 0!==P?P:k,"address"),style:{fontSize:"12px",marginLeft:"4px"},children:["(",y.etherscanName,")"]})]}),Object(m.jsx)(g,{open:null!==n,onClick:()=>i(null===n?"":null)})]}),Object(m.jsx)(x,{id:t,style:{maxHeight:null===n?0:"44px"},children:Object(m.jsx)(h,{error:A,children:Object(m.jsx)(O,{children:Object(m.jsx)(l.a,{gap:"md",children:Object(m.jsx)(f,{className:"recipient-address-input",type:"text",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",placeholder:o.a._("Wallet Address or ENS name"),error:A,pattern:"^(0x[a-fA-F0-9]{40})$",onChange:_,value:n||""})})})})})]}):null}},"./src/components/ProgressSteps/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var s=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),o=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),r=n("./node_modules/polished/dist/polished.esm.js"),a=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),i=n("./src/components/Column/index.tsx"),c=n("./src/components/Row/index.tsx"),l=n("./node_modules/react/jsx-runtime.js"),d=["steps","disabled"],u=Object(a.default)(i.a).withConfig({displayName:"ProgressSteps__Wrapper",componentId:"sc-nc82fo-0"})([""]),p=Object(a.default)(c.b).withConfig({displayName:"ProgressSteps__Grouping",componentId:"sc-nc82fo-1"})(["width:50%;"]),b=a.default.div.withConfig({displayName:"ProgressSteps__Circle",componentId:"sc-nc82fo-2"})(["min-width:20px;min-height:20px;background-color:",";border-radius:50%;color:",";display:flex;align-items:center;justify-content:center;line-height:8px;font-size:12px;"],(e=>{var t=e.theme,n=e.confirmed;return e.disabled?t.buttonGray:n?t.green1:t.primary}),(e=>e.theme.textReverse)),j=a.default.div.withConfig({displayName:"ProgressSteps__CircleRow",componentId:"sc-nc82fo-3"})(["width:calc(100% - 20px);display:flex;align-items:center;"]),m=a.default.div.withConfig({displayName:"ProgressSteps__Connector",componentId:"sc-nc82fo-4"})(["width:100%;height:2px;background-color:;background:linear-gradient( 90deg,"," 0%,"," 80% );opacity:0.6;"],(e=>{var t=e.theme,n=e.prevConfirmed;return e.disabled?t.bg4:Object(r.g)(.5,n?t.green1:t.primary)}),(e=>{var t=e.theme,n=e.prevConfirmed;return e.disabled?t.bg4:n?t.primary:t.bg4}));function x(e){var t=e.steps,n=e.disabled,r=void 0!==n&&n,a=Object(o.a)(e,d);return Object(l.jsx)(u,Object(s.a)(Object(s.a)({justify:"center"},a),{},{children:Object(l.jsxs)(p,{children:[t.map(((e,n)=>Object(l.jsxs)(j,{children:[Object(l.jsx)(b,{confirmed:e,disabled:r||!t[n-1]&&0!==n,children:e?"\u2713":n+1}),Object(l.jsx)(m,{prevConfirmed:e,disabled:r})]},n))),Object(l.jsx)(b,{disabled:r||!t[t.length-1],children:t.length+1})]})}))}},"./src/components/SwitchLocaleLink/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var s,o=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),r=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),a=n("./node_modules/querystring-es3/index.js"),i=n("./node_modules/react/index.js"),c=n("./node_modules/react-router/esm/react-router.js"),l=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),d=n("./src/constants/locales.tsx"),u=n("./src/hooks/useActiveLocale.ts"),p=n("./src/hooks/useParsedQueryString.ts"),b=n("./src/theme/index.tsx"),j=n("./node_modules/react/jsx-runtime.js"),m=Object(l.default)(b.l.small).withConfig({displayName:"SwitchLocaleLink__Container",componentId:"sc-1rrcg41-0"})(["opacity:0.6;:hover{opacity:1;}margin-top:1rem !important;",";"],(e=>e.theme.mediaWidth.upToMedium(s||(s=Object(r.a)(["\n    display: none;\n  "])))));function x(){var e=Object(u.b)(),t=Object(i.useMemo)((()=>Object(u.a)()),[]),n=Object(c.h)(),s=Object(p.a)();if(t&&(t!==d.a||e!==d.a)){var r;r=e===t?d.a:t;var l=Object(o.a)(Object(o.a)({},n),{},{search:Object(a.stringify)(Object(o.a)(Object(o.a)({},s),{},{lng:r}))});return Object(j.jsxs)(m,{children:["KyberSwap available in: ",Object(j.jsx)(b.k,{to:l,children:d.b[r]})]})}return null}},"./src/components/TokenWarningModal/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=n("./src/components/Modal/index.tsx"),o=n("./src/components/SearchModal/ImportToken.tsx"),r=n("./node_modules/react/jsx-runtime.js");function a(e){var t=e.isOpen,n=e.tokens,a=e.onConfirm,i=e.onDismiss;return Object(r.jsx)(s.b,{isOpen:t,onDismiss:i,maxHeight:100,children:Object(r.jsx)(o.a,{tokens:n,handleCurrencySelect:a,enterToImport:t})})}},"./src/components/swap/FormattedPriceImpact.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n("./src/constants/index.ts"),o=n("./src/utils/prices.ts"),r=n("./src/components/swap/styleds.tsx"),a=n("./node_modules/react/jsx-runtime.js");function i(e){var t=e.priceImpact;return!t||t.lessThan("0")?Object(a.jsx)("div",{children:"--"}):Object(a.jsx)(r.d,{fontWeight:500,fontSize:14,severity:Object(o.e)(t),children:t.lessThan(s.Q)?"<0.01%":"".concat(t.toFixed(2),"%")})}},"./src/hooks/solana/useProvider.ts":function(e,t,n){"use strict";var s=n("./node_modules/@project-serum/anchor/dist/browser/index.js"),o=n("./node_modules/@solana/wallet-adapter-react/lib/esm/useAnchorWallet.js"),r=n("./node_modules/react/index.js"),a=n("./src/state/connection/connection.ts");t.a=()=>{var e=Object(o.a)();return Object(r.useMemo)((()=>e?new s.AnchorProvider(a.a,e,s.AnchorProvider.defaultOptions()):null),[e])}},"./src/hooks/useWrapCallback.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return y}));var s,o=n("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),r=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),a=n("./node_modules/@lingui/core/esm/index.js"),i=n("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),c=n("./node_modules/@solana/web3.js/lib/index.browser.esm.js"),l=n("./node_modules/react/index.js"),d=n("./src/constants/tokens.ts"),u=n("./src/state/connection/connection.ts"),p=n("./src/state/swap/hooks.ts"),b=n("./src/state/transactions/hooks.tsx"),j=n("./src/state/transactions/type.ts"),m=n("./src/state/wallet/hooks.ts"),x=n("./src/utils/index.ts"),h=n("./src/utils/solanaInstructions.ts"),O=n("./src/hooks/index.ts"),f=n("./src/hooks/solana/useProvider.ts"),g=n("./src/hooks/useContract.ts");!function(e){e[e.NOT_APPLICABLE=0]="NOT_APPLICABLE",e[e.WRAP=1]="WRAP",e[e.UNWRAP=2]="UNWRAP"}(s||(s={}));var v={wrapType:s.NOT_APPLICABLE};function y(e,t,n){var y=Object(O.b)(),w=y.chainId,T=y.isEVM,k=y.isSolana,C=y.account,P=Object(f.a)(),_=Object(g.y)(),I=Object(m.b)(null!==e&&void 0!==e?e:void 0),A=Object(l.useMemo)((()=>Object(p.a)(n,null!==e&&void 0!==e?e:void 0)),[e,n]),S=Object(b.h)();return Object(l.useMemo)((()=>{if(!_&&T||!w||!e||!t)return v;var l=A&&I&&!I.lessThan(A),p=d.i[w].symbol;return e.isNative&&i.WETH[w].equals(t)?{wrapType:s.WRAP,execute:l&&A?Object(r.a)(Object(o.a)().mark((function e(){var t,n,s,r,a,i,l,d,b;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!T||!_){e.next=11;break}return e.next=4,_.estimateGas.deposit({value:"0x".concat(A.quotient.toString(16))});case 4:return n=e.sent,e.next=7,_.deposit({value:"0x".concat(A.quotient.toString(16)),gasLimit:Object(x.b)(n)});case 7:s=e.sent,t=null===s||void 0===s?void 0:s.hash,e.next=26;break;case 11:if(!(k&&C&&P)){e.next=26;break}return r=new c.PublicKey(C),e.next=15,Object(h.e)(r,A);case 15:return a=e.sent,e.next=18,u.a.getLatestBlockhash();case 18:return i=e.sent,l=i.blockhash,d=i.lastValidBlockHeight,(b=new c.Transaction({blockhash:l,lastValidBlockHeight:d,feePayer:r})).add(...a),e.next=25,P.sendAndConfirm(b);case 25:t=e.sent;case 26:throw t&&S({hash:t,type:j.a.WRAP,summary:"".concat(A.toSignificant(6)," ").concat(p," to ").concat(A.toSignificant(6)," W").concat(p)}),new Error;case 30:e.prev=30,e.t0=e.catch(0),console.error("Could not deposit",e.t0);case 33:case"end":return e.stop()}}),e,null,[[0,30]])}))):void 0,inputError:n?l?void 0:a.a._("Insufficient {0} balance",{0:d.i[w].symbol}):a.a._("Enter an amount")}:i.WETH[w].equals(e)&&t.isNative?{wrapType:s.UNWRAP,execute:l&&A?Object(r.a)(Object(o.a)().mark((function e(){var t,n,s,r,a,i,l,d,b;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!T||!_){e.next=11;break}return e.next=4,_.estimateGas.withdraw("0x".concat(A.quotient.toString(16)));case 4:return n=e.sent,e.next=7,_.withdraw("0x".concat(A.quotient.toString(16)),{gasLimit:Object(x.b)(n)});case 7:s=e.sent,t=s.hash,e.next=27;break;case 11:if(!(k&&C&&P)){e.next=27;break}return r=new c.PublicKey(C),e.next=15,Object(h.b)(r);case 15:if(!(a=e.sent)){e.next=27;break}return e.next=19,u.a.getLatestBlockhash();case 19:return i=e.sent,l=i.blockhash,d=i.lastValidBlockHeight,(b=new c.Transaction({blockhash:l,lastValidBlockHeight:d,feePayer:r})).add(a),e.next=26,P.sendAndConfirm(b);case 26:t=e.sent;case 27:throw t&&S({hash:t,type:j.a.UNWRAP,summary:"".concat(A.toSignificant(6)," W").concat(p," to ").concat(A.toSignificant(6)," ").concat(p)}),new Error;case 31:e.prev=31,e.t0=e.catch(0),console.error("Could not withdraw",e.t0);case 34:case"end":return e.stop()}}),e,null,[[0,31]])}))):void 0,inputError:n?l?void 0:a.a._("Insufficient W{0} balance",{0:d.i[w].symbol}):a.a._("Enter an amount")}:v}),[_,T,w,e,t,A,I,n,k,C,P,S])}},"./src/pages/AppBody.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));n("./node_modules/react/index.js");var s=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),o=n("./node_modules/react/jsx-runtime.js"),r=s.default.div.withConfig({displayName:"AppBody__BodyWrapper",componentId:"sc-1ls32jt-0"})(["position:relative;max-width:425px;width:100%;background:#ffffff;box-shadow:0px 0px 1px rgba(0,0,0,0.01),0px 4px 8px rgba(0,0,0,0.04),0px 16px 24px rgba(0,0,0,0.04),0px 24px 32px rgba(0,0,0,0.01);border-radius:20px;padding:2rem 1.5rem 1.5rem 1.5rem;margin-top:20px;"]);function a(e){var t=e.children,n=e.className;return Object(o.jsx)(r,{className:n,children:t})}},"./src/pages/Pool/styleds.tsx":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var s=n("./node_modules/rebass/dist/index.esm.js"),o=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),r=o.default.div.withConfig({displayName:"styleds__Wrapper",componentId:"sc-qs1q00-0"})(["position:relative;"]),a=Object(o.default)(s.d).withConfig({displayName:"styleds__ClickableText",componentId:"sc-qs1q00-1"})([":hover{cursor:pointer;}color:",";"],(e=>e.theme.primary)),i=o.default.span.withConfig({displayName:"styleds__Dots",componentId:"sc-qs1q00-2"})(["&::after{display:inline-block;animation:ellipsis 1.25s infinite;content:'.';width:1em;text-align:left;}@keyframes ellipsis{0%{content:'.';}33%{content:'..';}66%{content:'...';}}"])},"./src/pages/Swap/index.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Pe}));var s=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=n("./node_modules/@lingui/react/esm/index.js"),r=n("./node_modules/@lingui/core/esm/index.js"),a=n("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),i=n("./node_modules/jsbi/dist/jsbi-umd.js"),c=n.n(i),l=n("./node_modules/react/index.js"),d=n("./node_modules/react-feather/dist/icons/arrow-down.js"),u=n("./node_modules/rebass/dist/index.esm.js"),p=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),b=n.p+"static/media/swap.b65645c2.svg",j=n("./src/components/AddressInputPanel/index.tsx"),m=n("./src/components/Button/index.tsx"),x=n("./src/components/Card/index.tsx"),h=n("./src/components/Column/index.tsx"),O=n("./src/components/CurrencyInputPanel/index.tsx"),f=n("./src/components/Loader/index.tsx"),g=n("./src/components/NavigationTabs/index.tsx"),v=n("./src/components/ProgressSteps/index.tsx"),y=n("./src/components/Row/index.tsx"),w=n("./src/components/SwitchLocaleLink/index.tsx"),T=n("./src/components/TokenWarningModal/index.tsx"),k=n("./src/components/TransactionSettings/index.tsx"),C=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),P=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),_=n("./src/hooks/useLast.ts"),I=n("./src/components/QuestionHelper/index.tsx"),A=n("./src/constants/index.ts"),S=n("./src/hooks/index.ts"),N=n("./src/hooks/useTheme.ts"),U=n("./src/state/swap/actions.ts"),E=n("./src/state/user/hooks.tsx"),W=n("./src/theme/index.tsx"),M=n("./src/utils/dmm.ts"),z=n("./src/utils/prices.ts"),R=n("./src/components/swap/FormattedPriceImpact.tsx"),L=n("./node_modules/react-feather/dist/icons/chevron-right.js"),D=n("./src/components/CurrencyLogo/index.tsx"),B=n("./node_modules/react/jsx-runtime.js"),F=Object(l.memo)((function(e){var t=e.trade,n=Object(N.a)();return Object(B.jsx)(u.b,{px:"1rem",py:"0.5rem",my:"0.5rem",style:{border:"1px solid ".concat(n.bg3),borderRadius:"1rem"},flexWrap:"wrap",width:"100%",justifyContent:"center",alignItems:"center",children:t.route.path.map(((e,t,s)=>{var o=t===s.length-1;return Object(B.jsxs)(l.Fragment,{children:[Object(B.jsxs)(u.b,{my:"0.5rem",alignItems:"center",style:{flexShrink:0},children:[Object(B.jsx)(D.a,{currency:e,size:"1.5rem"}),Object(B.jsx)(W.l.black,{fontSize:14,color:n.text,ml:"0.5rem",children:e.symbol})]}),o?null:Object(B.jsx)(L.a,{color:n.text2})]},t)}))})})),q=n("./src/components/swap/styleds.tsx"),H=Object(p.default)(W.c).withConfig({displayName:"AdvancedSwapDetails__InfoLink",componentId:"sc-ibs6pn-0"})(["width:100%;border-top:1px solid ",";padding:12px 6px;text-align:center;font-size:12px;color:",";"],(e=>e.theme.advancedBorder),(e=>e.theme.text10));function V(e){var t,n,s,i,c=e.trade,l=e.allowedSlippage,d=Object(N.a)(),u=Object(z.c)(c),p=u.priceImpactWithoutFee,b=u.realizedLPFee,j=u.accruedFeePercent,m=c.tradeType===a.TradeType.EXACT_INPUT,x=Object(z.b)(c,l),O=Object(M.j)(c.inputAmount.currency),f=Object(M.j)(c.outputAmount.currency);return Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)(h.a,{style:{padding:"0 20px"},children:[Object(B.jsxs)(y.b,{children:[Object(B.jsxs)(y.d,{children:[Object(B.jsx)(W.l.black,{fontSize:14,fontWeight:400,color:d.text2,children:m?r.a._("Minimum Received"):r.a._("Maximum Sold")}),Object(B.jsx)(I.a,{text:r.a._("Your transaction will revert if there is a large, unfavorable price movement before it is confirmed")})]}),Object(B.jsx)(y.d,{children:Object(B.jsx)(W.l.black,{color:d.text,fontSize:14,children:m?null!==(t="".concat(null===(n=x[U.a.OUTPUT])||void 0===n?void 0:n.toSignificant(4)," ").concat(null===f||void 0===f?void 0:f.symbol))&&void 0!==t?t:"-":null!==(s="".concat(null===(i=x[U.a.INPUT])||void 0===i?void 0:i.toSignificant(4)," ").concat(null===O||void 0===O?void 0:O.symbol))&&void 0!==s?s:"-"})})]}),Object(B.jsxs)(y.b,{children:[Object(B.jsxs)(y.d,{children:[Object(B.jsx)(W.l.black,{fontSize:14,fontWeight:400,color:d.text2,children:Object(B.jsx)(o.b,{id:"Price Impact"})}),Object(B.jsx)(I.a,{text:r.a._("The difference between the market price and your price due to trade size. Adjust the price impact tolerance in the top right configuration")})]}),Object(B.jsx)(R.a,{priceImpact:p})]}),Object(B.jsxs)(y.b,{children:[Object(B.jsxs)(y.d,{children:[Object(B.jsx)(W.l.black,{fontSize:14,fontWeight:400,color:d.text2,children:Object(B.jsx)(o.b,{id:"Liquidity Provider Fee"})}),Object(B.jsx)(I.a,{text:r.a._("A portion of each trade ({0}%) goes to liquidity providers as a protocol incentive",{0:j.toSignificant(6)})})]}),Object(B.jsx)(W.l.black,{fontSize:14,color:d.text,children:b?"".concat(b.toSignificant(4)," ").concat(null===O||void 0===O?void 0:O.symbol):"-"})]})]})})}function G(e){var t=e.trade,n=Object(S.b)().chainId,a=Object(N.a)(),i=Object(E.y)(),c=Object(s.a)(i,1)[0],l=Boolean(t&&t.route.path.length>2);return Object(B.jsx)(h.a,{gap:"md",children:t&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(V,{trade:t,allowedSlippage:c}),l&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(q.e,{}),Object(B.jsxs)(h.a,{style:{padding:"0 24px"},children:[Object(B.jsxs)(y.d,{children:[Object(B.jsx)(W.l.black,{fontSize:14,fontWeight:400,color:a.text2,children:Object(B.jsx)(o.b,{id:"Route"})}),Object(B.jsx)(I.a,{text:r.a._("Routing through these tokens resulted in the best price for your trade")})]}),Object(B.jsx)(F,{trade:t})]})]}),Object(B.jsx)(h.a,{style:{padding:"0 24px"},children:Object(B.jsx)(H,{href:"".concat(A.B[n],"/pool/").concat(null===t||void 0===t?void 0:t.route.pairs[0].liquidityToken.address),target:"_blank",children:Object(B.jsx)(o.b,{id:"Token pool analytics \u2192"})})})]})})}var X=["trade"],Y=p.default.div.withConfig({displayName:"AdvancedSwapDetailsDropdown__AdvancedDetailsFooter",componentId:"sc-1nue7h0-0"})(["padding-top:10px;padding-bottom:8px;margin-top:10px;width:100%;max-width:400px;border-radius:8px;color:",";background-color:",";z-index:1;border:dashed 1px ",";transform:",";transition:transform 300ms ease-in-out;"],(e=>e.theme.text2),(e=>e.theme.advancedBG),(e=>e.theme.advancedBorder),(e=>e.show?"translateY(0%)":"translateY(calc(-100% - 50px))"));function J(e){var t,n=e.trade,s=Object(P.a)(e,X),o=Object(_.b)(n);return Object(B.jsx)(Y,{show:Boolean(n),children:Object(B.jsx)(G,Object(C.a)(Object(C.a)({},s),{},{trade:null!==(t=null!==n&&void 0!==n?n:o)&&void 0!==t?t:void 0}))})}var K=n("./src/components/TransactionConfirmationModal/index.tsx"),Q=n("./node_modules/react-feather/dist/icons/repeat.js");function Z(e){var t,n,i,c,d=e.trade,p=e.onConfirm,b=e.allowedSlippage,j=e.swapErrorMessage,x=e.disabledConfirm,O=Object(S.b)().chainId,f=Object(l.useState)(!1),g=Object(s.a)(f,2),v=g[0],w=g[1],T=Object(N.a)(),k=Object(l.useMemo)((()=>Object(z.b)(d,b)),[b,d]),C=Object(l.useMemo)((()=>Object(z.c)(d)),[d]),P=C.priceImpactWithoutFee,_=C.realizedLPFee,A=C.accruedFeePercent,E=Object(z.e)(P),L=Object(M.j)(d.inputAmount.currency),D=Object(M.j)(d.outputAmount.currency);return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)(h.a,{gap:"0px",children:[Object(B.jsxs)(y.b,{align:"center",children:[Object(B.jsx)(u.d,{fontWeight:400,fontSize:14,color:T.text2,children:"Price"}),Object(B.jsxs)(u.d,{fontWeight:500,fontSize:14,color:T.text,style:{justifyContent:"center",alignItems:"center",display:"flex",textAlign:"right",paddingLeft:"10px"},children:[Object(z.d)(d,v,O),Object(B.jsx)(q.f,{onClick:()=>w(!v),children:Object(B.jsx)(Q.a,{size:14})})]})]}),Object(B.jsxs)(y.b,{children:[Object(B.jsxs)(y.d,{children:[Object(B.jsx)(W.l.black,{fontSize:14,fontWeight:400,color:T.text2,children:d.tradeType===a.TradeType.EXACT_INPUT?r.a._("Minimum Received"):r.a._("Maximum Sold")}),Object(B.jsx)(I.a,{text:r.a._("Your transaction will revert if there is a large, unfavorable price movement before it is confirmed")})]}),Object(B.jsxs)(y.d,{children:[Object(B.jsx)(W.l.black,{fontSize:14,children:d.tradeType===a.TradeType.EXACT_INPUT?null!==(t=null===(n=k[U.a.OUTPUT])||void 0===n?void 0:n.toSignificant(4))&&void 0!==t?t:"-":null!==(i=null===(c=k[U.a.INPUT])||void 0===c?void 0:c.toSignificant(4))&&void 0!==i?i:"-"}),Object(B.jsx)(W.l.black,{fontSize:14,marginLeft:"4px",children:d.tradeType===a.TradeType.EXACT_INPUT?null===D||void 0===D?void 0:D.symbol:null===L||void 0===L?void 0:L.symbol})]})]}),Object(B.jsxs)(y.b,{children:[Object(B.jsxs)(y.d,{children:[Object(B.jsx)(W.l.black,{color:T.text2,fontSize:14,fontWeight:400,children:"Price Impact"}),Object(B.jsx)(I.a,{text:r.a._("The difference between the market price and your price due to trade size. Adjust the price impact tolerance in the top right configuration")})]}),Object(B.jsx)(R.a,{priceImpact:P})]}),Object(B.jsxs)(y.b,{children:[Object(B.jsxs)(y.d,{children:[Object(B.jsx)(W.l.black,{fontSize:14,fontWeight:400,color:T.text2,children:Object(B.jsx)(o.b,{id:"Liquidity Provider Fee"})}),Object(B.jsx)(I.a,{text:r.a._("A portion of each trade ({0}%) goes to liquidity providers as a protocol incentive",{0:A&&A.toSignificant(6)})})]}),Object(B.jsx)(W.l.black,{fontSize:14,children:_?(null===_||void 0===_?void 0:_.toSignificant(6))+" "+(null===L||void 0===L?void 0:L.symbol):"-"})]})]}),Object(B.jsxs)(y.a,{children:[Object(B.jsx)(m.d,{onClick:p,disabled:x,error:E>2,style:{margin:"10px 0 0 0"},id:"confirm-swap-or-send",children:Object(B.jsx)(u.d,{fontSize:20,fontWeight:500,children:E>2?r.a._("Swap Anyway"):r.a._("Confirm Swap")})}),j?Object(B.jsx)(q.g,{error:j}):null]})]})}var $=n("./node_modules/react-feather/dist/icons/alert-triangle.js"),ee=n("./src/utils/index.ts");function te(e){var t,n,s=e.trade,i=e.allowedSlippage,c=e.recipient,p=e.showAcceptChanges,b=e.onAcceptChanges,j=Object(S.b)().chainId,x=Object(l.useMemo)((()=>Object(z.b)(s,i)),[s,i]),O=Object(l.useMemo)((()=>Object(z.c)(s).priceImpactWithoutFee),[s]),f=Object(z.e)(O),g=Object(N.a)(),v=Object(M.j)(s.inputAmount.currency),w=Object(M.j)(s.outputAmount.currency);return Object(B.jsxs)(h.a,{gap:"md",style:{marginTop:"20px"},children:[Object(B.jsxs)(y.b,{align:"flex-end",children:[Object(B.jsxs)(y.d,{gap:"0px",children:[Object(B.jsx)(D.a,{currency:s.inputAmount.currency,size:"24px",style:{marginRight:"12px"}}),Object(B.jsx)(q.i,{fontSize:24,fontWeight:500,color:p&&s.tradeType===a.TradeType.EXACT_OUTPUT?g.primary:"",children:s.inputAmount.toSignificant(6)})]}),Object(B.jsx)(y.d,{gap:"0px",children:Object(B.jsx)(u.d,{fontSize:24,fontWeight:500,style:{marginLeft:"10px"},children:null===v||void 0===v?void 0:v.symbol})})]}),Object(B.jsx)(y.d,{children:Object(B.jsx)(d.a,{size:"16",color:g.text2,style:{marginLeft:"4px",minWidth:"16px"}})}),Object(B.jsxs)(y.b,{align:"flex-end",children:[Object(B.jsxs)(y.d,{gap:"0px",children:[Object(B.jsx)(D.a,{currency:s.outputAmount.currency,size:"24px",style:{marginRight:"12px"}}),Object(B.jsx)(q.i,{fontSize:24,fontWeight:500,color:f>2?g.red1:p&&s.tradeType===a.TradeType.EXACT_INPUT?g.primary:"",children:s.outputAmount.toSignificant(6)})]}),Object(B.jsx)(y.d,{gap:"0px",children:Object(B.jsx)(u.d,{fontSize:24,fontWeight:500,style:{marginLeft:"10px"},children:null===w||void 0===w?void 0:w.symbol})})]}),p?Object(B.jsx)(q.h,{justify:"flex-start",gap:"0px",children:Object(B.jsxs)(y.b,{children:[Object(B.jsxs)(y.d,{children:[Object(B.jsx)($.a,{size:20,style:{marginRight:"8px",minWidth:24}}),Object(B.jsx)(W.l.main,{color:g.primary,children:" Price Updated"})]}),Object(B.jsx)(m.h,{style:{padding:".5rem",width:"fit-content",fontSize:"0.825rem",borderRadius:"12px"},onClick:b,children:Object(B.jsx)(o.b,{id:"Accept"})})]})}):null,Object(B.jsx)(h.a,{justify:"flex-start",gap:"sm",style:{padding:"12px 0 0 0px"},children:s.tradeType===a.TradeType.EXACT_INPUT?Object(B.jsxs)(W.l.italic,{textAlign:"left",style:{width:"100%"},children:[r.a._("Output is estimated. You will receive at least")," ",Object(B.jsxs)("b",{children:[null===(t=x[U.a.OUTPUT])||void 0===t?void 0:t.toSignificant(6)," ",null===w||void 0===w?void 0:w.symbol]})," ",r.a._("or the transaction will revert.")]}):Object(B.jsxs)(W.l.italic,{textAlign:"left",style:{width:"100%"},children:[r.a._("Input is estimated. You will sell at most"),Object(B.jsxs)("b",{children:[null===(n=x[U.a.INPUT])||void 0===n?void 0:n.toSignificant(6)," ",null===v||void 0===v?void 0:v.symbol]}),r.a._("or the transaction will revert."),r.a._("or the transaction will revert.")]})}),null!==c?Object(B.jsx)(h.a,{justify:"flex-start",gap:"sm",style:{padding:"12px 0 0 0px"},children:Object(B.jsxs)(W.l.main,{children:["Output will be sent to"," ",Object(B.jsx)("b",{title:c,children:Object(ee.r)(j,c)?Object(ee.w)(j,c):c})]})}):null]})}function ne(e){var t,n,s,o,a=e.trade,i=e.originalTrade,c=e.onAcceptChanges,d=e.allowedSlippage,u=e.onConfirm,p=e.onDismiss,b=e.recipient,j=e.swapErrorMessage,m=e.isOpen,x=e.attemptingTxn,h=e.txHash,O=e.tokenAddToMetaMask,f=e.showTxBanner,g=Object(l.useMemo)((()=>{return Boolean(a&&i&&(t=i,(e=a).tradeType!==t.tradeType||!e.inputAmount.currency.equals(t.inputAmount.currency)||!e.inputAmount.equalTo(t.inputAmount)||!e.outputAmount.currency.equals(t.outputAmount.currency)||!e.outputAmount.equalTo(t.outputAmount)));var e,t}),[i,a]),v=Object(l.useCallback)((()=>a?Object(B.jsx)(te,{trade:a,allowedSlippage:d,recipient:b,showAcceptChanges:g,onAcceptChanges:c}):null),[d,c,b,g,a]),y=Object(l.useCallback)((()=>a?Object(B.jsx)(Z,{onConfirm:u,trade:a,disabledConfirm:g,swapErrorMessage:j,allowedSlippage:d}):null),[d,u,g,j,a]),w=Object(M.j)(null===a||void 0===a||null===(t=a.inputAmount)||void 0===t?void 0:t.currency),T=Object(M.j)(null===a||void 0===a||null===(n=a.outputAmount)||void 0===n?void 0:n.currency),k="Swapping ".concat(null===a||void 0===a||null===(s=a.inputAmount)||void 0===s?void 0:s.toSignificant(6)," ").concat(null===w||void 0===w?void 0:w.symbol," for ").concat(null===a||void 0===a||null===(o=a.outputAmount)||void 0===o?void 0:o.toSignificant(6)," ").concat(null===T||void 0===T?void 0:T.symbol),C=Object(l.useCallback)((()=>j?Object(B.jsx)(K.b,{onDismiss:p,message:j}):Object(B.jsx)(K.a,{title:r.a._("Confirm Swap"),onDismiss:p,topContent:v,bottomContent:y})),[p,y,v,j]);return Object(B.jsx)(K.c,{isOpen:m,onDismiss:p,attemptingTxn:x,hash:h,content:C,pendingText:k,tokenAddToMetaMask:O,showTxBanner:f})}function se(e){var t,n=e.price,s=e.showInverted,o=e.setShowInverted,r=Object(N.a)(),a=s?null===n||void 0===n?void 0:n.toSignificant(6):null===n||void 0===n||null===(t=n.invert())||void 0===t?void 0:t.toSignificant(6),i=Boolean((null===n||void 0===n?void 0:n.baseCurrency)&&(null===n||void 0===n?void 0:n.quoteCurrency)),c=Object(M.j)(null===n||void 0===n?void 0:n.quoteCurrency),l=Object(M.j)(null===n||void 0===n?void 0:n.baseCurrency),d=s?"".concat(null===c||void 0===c?void 0:c.symbol," = 1 ").concat(null===l||void 0===l?void 0:l.symbol):"".concat(null===l||void 0===l?void 0:l.symbol," = 1 ").concat(null===c||void 0===c?void 0:c.symbol);return Object(B.jsx)(u.d,{fontWeight:500,fontSize:14,color:r.text2,style:{alignItems:"center",display:"flex"},children:i?Object(B.jsxs)(B.Fragment,{children:[null!==a&&void 0!==a?a:"-"," ",d,Object(B.jsx)(q.f,{onClick:()=>o(!s),children:Object(B.jsx)(Q.a,{size:14,color:r.primary})})]}):"-"})}var oe,re=n("./src/components/swapv2/styleds.tsx"),ae=n("./src/hooks/Tokens.ts"),ie=n("./src/hooks/useApproveCallback.ts"),ce=n("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),le=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),de=n("./node_modules/@kyberswap/ks-sdk-classic/dist/index.js"),ue=n("./src/hooks/Trades.ts"),pe=n("./src/hooks/useENS.ts"),be=n("./src/hooks/useTransactionDeadline.ts"),je=n("./src/state/transactions/hooks.tsx"),me=n("./src/state/transactions/type.ts"),xe=n("./src/utils/formatBalance.ts"),he=n("./src/utils/getContract.ts"),Oe=n("./src/utils/isZero.ts");function fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.H,n=arguments.length>2?arguments[2]:void 0,s=Object(S.b)(),o=s.account,r=s.chainId,i=Object(S.e)(),d=i.library,u=Object(pe.a)(n),p=u.address,b=null===n?o:p,j=Object(be.a)(),m=Object(ue.a)(null===e||void 0===e?void 0:e.inputAmount,(null===e||void 0===e?void 0:e.outputAmount.currency)||void 0);return Object(l.useMemo)((()=>{if(!e||!b||!d||!o||!r||!j)return[];var n=Object(he.d)(r,d,o);if(!n)return[];var s=[de.Router.swapCallParameters(e,{feeOnTransfer:!1,allowedSlippage:new a.Percent(c.a.BigInt(t),A.m),recipient:b,deadline:j.toNumber()})];return e.tradeType===a.TradeType.EXACT_INPUT?s.push(de.Router.swapCallParameters(e,{feeOnTransfer:!0,allowedSlippage:new a.Percent(c.a.BigInt(t),A.m),recipient:b,deadline:j.toNumber()})):m&&s.push(de.Router.swapCallParameters(m,{feeOnTransfer:!0,allowedSlippage:new a.Percent(c.a.BigInt(t),A.m),recipient:b,deadline:j.toNumber()})),s.map((e=>{var t=e.methodName,s=e.args,o=e.value;return{address:n.address,calldata:n.interface.encodeFunctionData(t,s),value:o}}))}),[o,t,r,j,d,b,e,m])}!function(e){e[e.INVALID=0]="INVALID",e[e.LOADING=1]="LOADING",e[e.VALID=2]="VALID"}(oe||(oe={}));var ge=n("./src/hooks/useWrapCallback.ts"),ve=n("./src/pages/AppBody.tsx"),ye=n("./src/pages/Pool/styleds.tsx"),we=n("./src/state/application/hooks.ts"),Te=n("./src/state/swap/hooks.ts"),ke=n("./src/utils/maxAmountSpend.ts"),Ce=Object(p.default)(ve.b).withConfig({displayName:"Swap__AppBody",componentId:"sc-1k7ip7h-0"})(["padding-top:24px;"]);function Pe(e){var t,n,i,p,P,_,I,M=e.history,R=Object(Te.b)(),L=[Object(ae.b)(null===R||void 0===R?void 0:R.inputCurrencyId),Object(ae.b)(null===R||void 0===R?void 0:R.outputCurrencyId)],D=L[0],F=L[1],H=Object(l.useState)(!1),V=Object(s.a)(H,2),G=V[0],X=V[1],Y=Object(l.useMemo)((()=>{var e,t;return null!==(e=null===(t=[D,F])||void 0===t?void 0:t.filter((e=>e instanceof a.Token)))&&void 0!==e?e:[]}),[D,F]),K=Object(l.useCallback)((()=>{X(!0)}),[]),Q=Object(ae.a)(),Z=Y&&Y.filter((e=>!Boolean(e.address in Q))),$=Object(S.b)().account,te=Object(N.a)(),de=Object(we.y)(),ue=Object(we.s)(),be=Object(E.c)(),he=Object(s.a)(be,1)[0],ve=Object(E.y)(),Pe=Object(s.a)(ve,1)[0],_e=Object(Te.f)(),Ie=_e.independentField,Ae=_e.typedValue,Se=_e.recipient,Ne=Object(Te.c)(),Ue=Ne.v2Trade,Ee=Ne.currencyBalances,We=Ne.parsedAmount,Me=Ne.currencies,ze=Ne.inputError,Re=Object(ge.b)(Me[U.a.INPUT],Me[U.a.OUTPUT],Ae),Le=Re.wrapType,De=Re.execute,Be=Re.inputError,Fe=Le!==ge.a.NOT_APPLICABLE,qe=Fe?void 0:Ue,He=Fe?{[U.a.INPUT]:We,[U.a.OUTPUT]:We}:{[U.a.INPUT]:Ie===U.a.INPUT?We:null===qe||void 0===qe?void 0:qe.inputAmount,[U.a.OUTPUT]:Ie===U.a.OUTPUT?We:null===qe||void 0===qe?void 0:qe.outputAmount},Ve=Object(Te.e)(),Ge=Ve.onSwitchTokens,Xe=Ve.onCurrencySelection,Ye=Ve.onUserInput,Je=Ve.onChangeRecipient,Ke=!ze,Qe=Ie===U.a.INPUT?U.a.OUTPUT:U.a.INPUT,Ze=Object(l.useCallback)((e=>{Ye(U.a.INPUT,e)}),[Ye]),$e=Object(l.useCallback)((e=>{Ye(U.a.OUTPUT,e)}),[Ye]),et=Object(l.useCallback)((()=>{X(!0),M.push("/swap-legacy")}),[M]),tt=Object(l.useState)({showConfirm:!1,tradeToConfirm:void 0,attemptingTxn:!1,swapErrorMessage:void 0,txHash:void 0}),nt=Object(s.a)(tt,2),st=nt[0],ot=st.showConfirm,rt=st.tradeToConfirm,at=st.swapErrorMessage,it=st.attemptingTxn,ct=st.txHash,lt=nt[1],dt={[Ie]:Ae,[Qe]:Fe?null!==(t=null===(n=He[Ie])||void 0===n?void 0:n.toExact())&&void 0!==t?t:"":null!==(i=null===(p=He[Qe])||void 0===p?void 0:p.toSignificant(6))&&void 0!==i?i:""},ut=null===qe||void 0===qe?void 0:qe.route,pt=Boolean(Me[U.a.INPUT]&&Me[U.a.OUTPUT]&&(null===(P=He[Ie])||void 0===P?void 0:P.greaterThan(c.a.BigInt(0)))),bt=!ut,jt=Object(ie.c)(qe,Pe),mt=Object(s.a)(jt,2),xt=mt[0],ht=mt[1],Ot=Object(l.useState)(!1),ft=Object(s.a)(Ot,2),gt=ft[0],vt=ft[1];Object(l.useEffect)((()=>{xt===ie.a.PENDING&&vt(!0),xt===ie.a.NOT_APPROVED&&vt(!1)}),[xt,gt]);var yt=Object(ke.b)(Ee[U.a.INPUT]),wt=Boolean(yt&&(null===(_=He[U.a.INPUT])||void 0===_?void 0:_.equalTo(yt))),Tt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.H,n=arguments.length>2?arguments[2]:void 0,s=Object(S.b)(),o=s.account,r=s.chainId,a=Object(S.e)().library,i=fe(e,t,n),c=Object(je.h)(),d=Object(pe.a)(n).address,u=null===n?o:d;return Object(l.useMemo)((()=>e&&a&&o&&r?u?{state:oe.VALID,callback:function(){var t=Object(le.a)(Object(ce.a)().mark((function t(){var s,l,d,p,b,j,m;return Object(ce.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(i.map((e=>{var t=e.address,n=e.calldata,s=e.value,r=!s||Object(Oe.a)(s)?{from:o,to:t,data:n}:{from:o,to:t,data:n,value:s};return a.estimateGas(r).then((t=>({call:e,gasEstimate:t}))).catch((t=>(console.debug("Gas estimate failed, trying eth_call to extract error",e),a.call(r).then((n=>(console.debug("Unexpected successful call after failed estimate gas",e,t,n),{call:e,error:new Error("Unexpected issue with estimating the gas. Please try again.")}))).catch((t=>{var n;switch(console.debug("Call threw error",e,t),t.message){case"execution reverted: DmmExchangeRouter: INSUFFICIENT_OUTPUT_AMOUNT":case"execution reverted: DmmExchangeRouter: EXCESSIVE_INPUT_AMOUNT":n="This transaction will not succeed either due to price movement or fee on transfer. Try increasing your slippage tolerance.";break;default:n="The transaction cannot succeed due to error: ".concat(t.message,". This is probably an issue with one of the tokens you are swapping.")}return{call:e,error:new Error(n)}})))))})));case 2:if(s=t.sent,l=s.find(((e,t,n)=>"gasEstimate"in e&&(t===n.length-1||"gasEstimate"in n[t+1])))){t.next=9;break}if(!((d=s.filter((e=>"error"in e))).length>0)){t.next=8;break}throw d[d.length-1].error;case 8:throw new Error("Unexpected error. Please contact support: none of the calls threw an error");case 9:return p=l.call,b=p.address,j=p.calldata,m=p.value,t.abrupt("return",a.getSigner().sendTransaction(Object(C.a)(Object(C.a)({from:o,to:b,data:j},"gasEstimate"in l?{gasLimit:Object(ee.b)(l.gasEstimate)}:{}),m&&!Object(Oe.a)(m)?{value:m}:{})).then((t=>{var s=e.inputAmount.currency.symbol,a=e.outputAmount.currency.symbol,i=Object(xe.c)(e.inputAmount),l=Object(xe.c)(e.outputAmount),d="".concat(i," ").concat(s," for ").concat(l," ").concat(a),p=u===o?d:"".concat(d," to ").concat(n&&Object(ee.r)(r,n)?Object(ee.w)(r,n):n);return c({hash:t.hash,type:me.a.SWAP,summary:p}),t.hash})).catch((e=>{throw 4001===(null===e||void 0===e?void 0:e.code)||"ACTION_REJECTED"===(null===e||void 0===e?void 0:e.code)?new Error("Transaction rejected."):(console.error("Swap failed",e,b,j,m),new Error("Swap failed: ".concat(e.message)))})));case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),error:null}:null!==n?{state:oe.INVALID,callback:null,error:"Invalid recipient"}:{state:oe.LOADING,callback:null,error:null}:{state:oe.INVALID,callback:null,error:"Missing dependencies"}),[e,a,o,r,u,n,i,c])}(qe,Pe,Se),kt=Tt.callback,Ct=Tt.error,Pt=Object(z.c)(qe).priceImpactWithoutFee,_t=Object(l.useCallback)((()=>{Pt&&!function(e){return e.lessThan(A.V)?!!e.lessThan(A.d)||window.confirm("This swap has a price impact of at least ".concat(A.d.toFixed(0),"%. Please confirm that you would like to continue with this swap.")):"confirm"===window.prompt("This swap has a price impact of at least ".concat(A.V.toFixed(0),'%. Please type the word "confirm" to continue with this swap.'))}(Pt)||kt&&(lt({attemptingTxn:!0,tradeToConfirm:rt,showConfirm:ot,swapErrorMessage:void 0,txHash:void 0}),kt().then((e=>{lt({attemptingTxn:!1,tradeToConfirm:rt,showConfirm:ot,swapErrorMessage:void 0,txHash:e})})).catch((e=>{lt({attemptingTxn:!1,tradeToConfirm:rt,showConfirm:ot,swapErrorMessage:e.message,txHash:void 0})})))}),[rt,Pt,ot,kt]),It=Object(l.useState)(!1),At=Object(s.a)(It,2),St=At[0],Nt=At[1],Ut=Object(z.e)(Pt),Et=!ze&&(xt===ie.a.NOT_APPROVED||xt===ie.a.PENDING||gt&&xt===ie.a.APPROVED)&&!(Ut>3&&!he),Wt=Object(l.useCallback)((()=>{lt({showConfirm:!1,tradeToConfirm:rt,attemptingTxn:it,swapErrorMessage:at,txHash:ct}),ct&&Ye(U.a.INPUT,"")}),[it,Ye,at,rt,ct]),Mt=Object(l.useCallback)((()=>{lt({tradeToConfirm:qe,swapErrorMessage:at,txHash:ct,attemptingTxn:it,showConfirm:ot})}),[it,ot,at,qe,ct]),zt=Object(l.useCallback)((e=>{vt(!1),Xe(U.a.INPUT,e)}),[Xe]),Rt=Object(l.useCallback)((()=>{yt&&Ye(U.a.INPUT,yt.toExact())}),[yt,Ye]),Lt=Object(l.useCallback)((e=>Xe(U.a.OUTPUT,e)),[Xe]),Dt=(!Ee[U.a.INPUT]||!Ee[U.a.OUTPUT])&&pt&&!Ue;return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(T.a,{isOpen:Z.length>0&&!G,tokens:Z,onConfirm:K,onDismiss:et}),Object(B.jsxs)(Ce,{children:[Object(B.jsx)(g.d,{active:"swap"}),Object(B.jsxs)(y.b,{mb:"16px",children:[Object(B.jsx)(W.l.black,{color:te.text,fontSize:20,fontWeight:500,children:r.a._("Swap")}),Object(B.jsx)(k.a,{})]}),Object(B.jsxs)(q.j,{id:"swap-page",children:[Object(B.jsx)(ne,{isOpen:ot,trade:qe,originalTrade:rt,onAcceptChanges:Mt,attemptingTxn:it,txHash:ct,recipient:Se,allowedSlippage:Pe,onConfirm:_t,swapErrorMessage:at,onDismiss:Wt,tokenAddToMetaMask:Me[U.a.OUTPUT]}),Object(B.jsxs)(h.a,{gap:"7px",children:[Object(B.jsx)(O.g,{label:Ie===U.a.OUTPUT&&!Fe&&qe?r.a._("From (estimated)"):r.a._("From"),value:dt[U.a.INPUT],currency:Me[U.a.INPUT],onUserInput:Ze,onMax:wt?null:Rt,onHalf:null,onCurrencySelect:zt,otherCurrency:Me[U.a.OUTPUT],id:"swap-currency-input",showCommonBases:!0,positionMax:"top"}),Object(B.jsx)(h.a,{justify:"space-between",children:Object(B.jsxs)(y.a,{justify:he?"space-between":"center",style:{padding:"0 1rem"},children:[Object(B.jsx)(q.a,{clickable:!0,children:Object(B.jsx)("img",{src:b,alt:"SwapIcon",width:"22",onClick:()=>{vt(!1),Ge()}})}),null===Se&&!Fe&&he?Object(B.jsx)(W.h,{id:"add-recipient-button",onClick:()=>Je(""),children:Object(B.jsx)(o.b,{id:"+ Add a send (optional)"})}):null]})}),Object(B.jsx)(O.g,{value:dt[U.a.OUTPUT],onUserInput:$e,label:Ie===U.a.INPUT&&!Fe&&qe?"To (estimated)":"To",onMax:null,onHalf:null,currency:Me[U.a.OUTPUT],onCurrencySelect:Lt,otherCurrency:Me[U.a.INPUT],id:"swap-currency-output",showCommonBases:!0}),null===Se||Fe?null:Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)(y.a,{justify:"space-between",style:{padding:"0 1rem"},children:[Object(B.jsx)(q.a,{clickable:!1,children:Object(B.jsx)(d.a,{size:"16",color:te.text2})}),Object(B.jsx)(W.h,{id:"remove-recipient-button",onClick:()=>Je(null),children:Object(B.jsx)(o.b,{id:"- Remove send"})})]}),Object(B.jsx)(j.a,{id:"recipient",value:Se,onChange:Je})]}),Fe?null:Object(B.jsx)(x.g,{padding:"0 .75rem 0 .75rem",borderRadius:"20px",children:Object(B.jsxs)(h.a,{gap:"4px",children:[Boolean(qe)&&Object(B.jsxs)("div",{style:{alignItems:"center",display:"flex"},children:[Object(B.jsxs)(u.d,{fontWeight:500,fontSize:14,color:te.text2,children:[Object(B.jsx)(o.b,{id:"Price:"}),"\xa0"]}),Object(B.jsx)(se,{price:null===qe||void 0===qe?void 0:qe.executionPrice,showInverted:St,setShowInverted:Nt})]}),Pe!==A.H&&Object(B.jsxs)("div",{style:{alignItems:"center",display:"flex"},children:[Object(B.jsxs)(ye.a,{fontWeight:500,fontSize:14,color:te.text2,onClick:ue,children:[Object(B.jsx)(o.b,{id:"Max Slippage:"}),"\xa0"]}),Object(B.jsxs)(ye.a,{fontWeight:500,fontSize:14,color:te.text2,onClick:ue,children:[Pe/100,"%"]})]})]})})]}),Object(B.jsxs)(q.b,{children:[$?Dt?Object(B.jsx)(x.c,{style:{textAlign:"center",borderRadius:"5.5px"},children:Object(B.jsx)(W.l.main,{mb:"4px",children:Object(B.jsx)(q.c,{children:Object(B.jsx)(o.b,{id:"Calculating best route"})})})}):Fe?Object(B.jsx)(m.h,{disabled:Boolean(Be),onClick:De,children:null!==Be&&void 0!==Be?Be:Le===ge.a.WRAP?"Wrap":Le===ge.a.UNWRAP?"Unwrap":null}):bt&&pt?Object(B.jsx)(x.c,{style:{textAlign:"center",borderRadius:"5.5px"},children:Object(B.jsx)(W.l.main,{mb:"4px",children:Object(B.jsx)(o.b,{id:"Insufficient liquidity for this trade."})})}):Et?Object(B.jsxs)(y.b,{children:[Object(B.jsx)(m.a,{onClick:ht,disabled:xt!==ie.a.NOT_APPROVED||gt,width:"48%",altDisabledStyle:xt===ie.a.PENDING,confirmed:xt===ie.a.APPROVED,children:xt===ie.a.PENDING?Object(B.jsxs)(y.a,{gap:"6px",justify:"center",children:[Object(B.jsx)(o.b,{id:"Approving"})," ",Object(B.jsx)(f.a,{stroke:"white"})]}):gt&&xt===ie.a.APPROVED?r.a._("Approved"):r.a._("Approve {0}",{0:null===(I=Me[U.a.INPUT])||void 0===I?void 0:I.symbol})}),Object(B.jsx)(m.d,{onClick:()=>{he?_t():lt({tradeToConfirm:qe,attemptingTxn:!1,swapErrorMessage:void 0,showConfirm:!0,txHash:void 0})},width:"48%",id:"swap-button",disabled:!Ke||xt!==ie.a.APPROVED||Ut>3&&!he,error:Ke&&Ut>2,children:Object(B.jsx)(u.d,{fontSize:16,fontWeight:500,children:Ut>3&&!he?r.a._("Price Impact High"):Ut>2?r.a._("Swap Anyway"):r.a._("Swap")})})]}):Object(B.jsx)(m.d,{onClick:()=>{he?_t():lt({tradeToConfirm:qe,attemptingTxn:!1,swapErrorMessage:void 0,showConfirm:!0,txHash:void 0})},id:"swap-button",disabled:!Ke||Ut>3&&!he||!!Ct||xt!==ie.a.APPROVED,error:Ke&&Ut>2&&!Ct,children:Object(B.jsx)(u.d,{fontSize:20,fontWeight:500,children:ze||(Ut>3&&!he?r.a._("Price Impact Too High"):xt!==ie.a.APPROVED?r.a._("Checking allowance..."):Ut>2?r.a._("Swap Anyway"):r.a._("Swap"))})}):Object(B.jsx)(m.f,{onClick:de,children:Object(B.jsx)(o.b,{id:"Connect Wallet"})}),Et&&Object(B.jsx)(h.c,{style:{marginTop:"1rem"},children:Object(B.jsx)(v.a,{steps:[xt===ie.a.APPROVED]})}),he&&at?Object(B.jsx)(re.q,{error:at}):null]})]})]}),Object(B.jsx)(J,{trade:qe}),Object(B.jsx)(w.a,{})]})}}}]);
//# sourceMappingURL=swap-page.3dd2c2ff.chunk.js.map