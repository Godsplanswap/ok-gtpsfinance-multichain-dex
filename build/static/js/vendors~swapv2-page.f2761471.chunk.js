(this["webpackJsonp@kyberswap/interface"]=this["webpackJsonp@kyberswap/interface"]||[]).push([[26],{"./node_modules/@kyberswap/ks-sdk-solana/dist/index.js":function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/index.js"),t)},"./node_modules/@kyberswap/ks-sdk-solana/dist/programs/kyberswap_factory_solana.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDL=void 0,t.IDL={version:"0.1.0",name:"kyberswap_factory_solana",instructions:[{name:"initialize",accounts:[{name:"payer",isMut:!0,isSigner:!0},{name:"feeToSetter",isMut:!1,isSigner:!0},{name:"factoryState",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"feeTo",type:"publicKey"},{name:"feeBps",type:"u64"}]},{name:"createPool",accounts:[{name:"payer",isMut:!0,isSigner:!0},{name:"factoryState",isMut:!0,isSigner:!1},{name:"tokenPair",isMut:!0,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"poolAuthority",isMut:!1,isSigner:!1},{name:"token0Mint",isMut:!1,isSigner:!1},{name:"token1Mint",isMut:!1,isSigner:!1},{name:"poolBalanceToken0",isMut:!0,isSigner:!1},{name:"poolBalanceToken1",isMut:!0,isSigner:!1},{name:"incinerator",isMut:!1,isSigner:!1},{name:"poolMint",isMut:!0,isSigner:!1},{name:"poolBalanceLiquidity",isMut:!0,isSigner:!1},{name:"poolBalanceLockedLiquidity",isMut:!0,isSigner:!1},{name:"factoryBalanceFeeTo",isMut:!0,isSigner:!1},{name:"factoryFeeTo",isMut:!1,isSigner:!1},{name:"poolProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"amplificationFactor",type:"u64"},{name:"feeBps",type:"u16"}]},{name:"setFeeConfiguration",accounts:[{name:"feeToSetter",isMut:!1,isSigner:!0},{name:"factoryState",isMut:!0,isSigner:!1}],args:[{name:"feeBps",type:"u64"}]}],accounts:[{name:"factory",type:{kind:"struct",fields:[{name:"numPools",type:"u64"},{name:"feeTo",type:"publicKey"},{name:"feeBps",type:"u64"},{name:"feeToSetter",type:"publicKey"},{name:"numFeeOptions",type:"u16"},{name:"feeOptions",type:{array:["u16",16]}}]}},{name:"tokenPair",type:{kind:"struct",fields:[{name:"numAmplifiedPools",type:"u64"}]}}],events:[{name:"PoolCreated",fields:[{name:"token0",type:"publicKey",index:!1},{name:"token1",type:"publicKey",index:!1},{name:"pool",type:"publicKey",index:!1},{name:"ampBps",type:"u64",index:!1},{name:"feeBps",type:"u16",index:!1},{name:"totalPool",type:"u64",index:!1}]},{name:"SetFeeConfigurationEvent",fields:[{name:"feeTo",type:"publicKey",index:!1},{name:"feeBps",type:"u64",index:!1}]},{name:"SetFeeToSetterEvent",fields:[{name:"feeToSetter",type:"publicKey",index:!1}]}],errors:[{code:6e3,name:"InvalidOwner",msg:"The account must be owned by this program"},{code:6001,name:"AllPoolsSpaceExceeded",msg:"The capacity of the account containing all pools is exceeded"},{code:6002,name:"IdenticalAddresses",msg:"Token A must be not equal to Token B"},{code:6003,name:"ZeroAddress",msg:"Token A and Token B must not be zero"},{code:6004,name:"InvalidAmplificationFactor",msg:"Amplification factor must >=10000"},{code:6005,name:"InvalidTokensPairIndex",msg:"Tokens pair index 0 is specified for unamplified pools, and tokens pair index >0 is specified for amplified pools."},{code:6006,name:"UnamplifiedPoolExists",msg:"The unamplified pool with the tokens pair already exists"},{code:6007,name:"InvalidFee",msg:"KyberSwapFactory: Invalid fee"}]}},"./node_modules/@kyberswap/ks-sdk-solana/dist/programs/kyberswap_pool_solana.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDL=void 0,t.IDL={version:"0.1.0",name:"kyberswap_pool_solana",instructions:[{name:"initialize",accounts:[{name:"poolState",isMut:!0,isSigner:!0},{name:"token0",isMut:!1,isSigner:!1},{name:"token1",isMut:!1,isSigner:!1},{name:"poolBalanceLiquidity",isMut:!0,isSigner:!1},{name:"poolBalanceLockedLiquidity",isMut:!0,isSigner:!1},{name:"poolMint",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"factoryAddress",type:"publicKey"},{name:"curveInput",type:{defined:"CurveInput"}},{name:"tokenPairNonce",type:"u64"},{name:"feeBps",type:"u16"}]},{name:"mint",accounts:[{name:"poolState",isMut:!0,isSigner:!1},{name:"poolAuthority",isMut:!1,isSigner:!1},{name:"poolBalanceToken0",isMut:!0,isSigner:!1},{name:"poolBalanceToken1",isMut:!0,isSigner:!1},{name:"poolMintLiquidity",isMut:!0,isSigner:!1},{name:"poolBalanceLockedLiquidity",isMut:!0,isSigner:!1},{name:"userBalanceDestination",isMut:!0,isSigner:!1},{name:"factoryState",isMut:!1,isSigner:!1},{name:"factoryBalanceFeeTo",isMut:!0,isSigner:!1},{name:"systemTokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"burn",accounts:[{name:"poolState",isMut:!0,isSigner:!1},{name:"poolAuthority",isMut:!1,isSigner:!1},{name:"poolBalanceToken0",isMut:!0,isSigner:!1},{name:"poolBalanceToken1",isMut:!0,isSigner:!1},{name:"poolMintLiquidity",isMut:!0,isSigner:!1},{name:"poolBalanceLiquidity",isMut:!0,isSigner:!1},{name:"userBalanceToken0",isMut:!0,isSigner:!1},{name:"userBalanceToken1",isMut:!0,isSigner:!1},{name:"factoryState",isMut:!1,isSigner:!1},{name:"factoryBalanceFeeTo",isMut:!0,isSigner:!1},{name:"systemTokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"swap",accounts:[{name:"poolState",isMut:!0,isSigner:!1},{name:"poolAuthority",isMut:!1,isSigner:!1},{name:"userBalanceTo",isMut:!0,isSigner:!1},{name:"poolBalanceToken0",isMut:!0,isSigner:!1},{name:"poolBalanceToken1",isMut:!0,isSigner:!1},{name:"systemTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount0Out",type:"u128"},{name:"amount1Out",type:"u128"}]},{name:"swap2",accounts:[{name:"poolState",isMut:!0,isSigner:!1},{name:"poolAuthority",isMut:!1,isSigner:!1},{name:"userBalanceTo",isMut:!0,isSigner:!1},{name:"poolBalanceToken0",isMut:!0,isSigner:!1},{name:"poolBalanceToken1",isMut:!0,isSigner:!1},{name:"systemTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"tradeDirection",type:"u8"}]},{name:"calculateAmountOut",accounts:[{name:"poolState",isMut:!0,isSigner:!1}],args:[{name:"amountIn",type:"u128"},{name:"tradeDirection",type:"u8"}]},{name:"setCalculatedAmountOut",accounts:[{name:"poolState",isMut:!0,isSigner:!1}],args:[{name:"amountOut",type:"u128"}]},{name:"calculateAmountIn",accounts:[{name:"poolState",isMut:!0,isSigner:!1}],args:[{name:"amountOut",type:"u128"},{name:"tradeDirection",type:"u8"}]},{name:"skim",accounts:[{name:"poolState",isMut:!1,isSigner:!1},{name:"poolAuthority",isMut:!1,isSigner:!1},{name:"poolBalanceToken0",isMut:!0,isSigner:!1},{name:"poolBalanceToken1",isMut:!0,isSigner:!1},{name:"userBalanceToken0",isMut:!0,isSigner:!1},{name:"userBalanceToken1",isMut:!0,isSigner:!1},{name:"systemTokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"sync",accounts:[{name:"poolState",isMut:!1,isSigner:!1},{name:"poolAuthority",isMut:!1,isSigner:!1},{name:"poolBalanceToken0",isMut:!0,isSigner:!1},{name:"poolBalanceToken1",isMut:!0,isSigner:!1},{name:"poolMintLiquidity",isMut:!1,isSigner:!1},{name:"factoryState",isMut:!1,isSigner:!1},{name:"factoryBalanceFeeTo",isMut:!0,isSigner:!1},{name:"systemTokenProgram",isMut:!1,isSigner:!1}],args:[]}],accounts:[{name:"factory",type:{kind:"struct",fields:[{name:"numPools",type:"u64"},{name:"feeTo",type:"publicKey"},{name:"feeBps",type:"u64"},{name:"feeToSetter",type:"publicKey"},{name:"numFeeOptions",type:"u16"},{name:"feeOptions",type:{array:["u16",16]}}]}},{name:"pool",type:{kind:"struct",fields:[{name:"tokenPairNonce",type:"u64"},{name:"factoryAddress",type:"publicKey"},{name:"bumpSeed",type:"u8"},{name:"tokenProgramId",type:"publicKey"},{name:"curve",type:{defined:"CurveInput"}},{name:"token0Mint",type:"publicKey"},{name:"token1Mint",type:"publicKey"},{name:"token0Account",type:"publicKey"},{name:"token1Account",type:"publicKey"},{name:"poolMint",type:"publicKey"},{name:"poolBalanceLiquidity",type:"publicKey"},{name:"poolBalanceLockedLiquidity",type:"publicKey"},{name:"balance",type:{defined:"Balance"}},{name:"virtualBalance",type:{defined:"VirtualBalance"}},{name:"kLast",type:{array:["u64",4]}},{name:"feeInPrecision",type:"u128"},{name:"returnValue",type:{defined:"ReturnValue"}}]}}],types:[{name:"CurveInput",type:{kind:"struct",fields:[{name:"curveType",type:"u8"},{name:"curveParameters",type:"u64"}]}},{name:"MintLiquidityReturnValue",type:{kind:"struct",fields:[{name:"liquidity",type:"u128"}]}},{name:"BurnLiquidityReturnValue",type:{kind:"struct",fields:[{name:"amount0",type:"u128"},{name:"amount1",type:"u128"}]}},{name:"CalculateAmountOutReturnValue",type:{kind:"struct",fields:[{name:"amountOut",type:"u128"}]}},{name:"CalculateAmountInReturnValue",type:{kind:"struct",fields:[{name:"amountIn",type:"u128"}]}},{name:"ReturnValue",type:{kind:"struct",fields:[{name:"kind",type:"u8"},{name:"value",type:{array:["u8",32]}}]}},{name:"VirtualBalance",type:{kind:"struct",fields:[{name:"vReserve0",type:"u128"},{name:"vReserve1",type:"u128"}]}},{name:"Balance",type:{kind:"struct",fields:[{name:"reserve0",type:"u128"},{name:"reserve1",type:"u128"}]}},{name:"CurveType",type:{kind:"enum",variants:[{name:"Dmm"}]}},{name:"TradeDirection",type:{kind:"enum",variants:[{name:"ZeroToOne"},{name:"OneToZero"}]}},{name:"ReturnValueEnum",type:{kind:"enum",variants:[{name:"Uninitialized"},{name:"MintLiquidity",fields:[{defined:"MintLiquidityReturnValue"}]},{name:"BurnLiquidity",fields:[{defined:"BurnLiquidityReturnValue"}]},{name:"CalculateAmountOut",fields:[{defined:"CalculateAmountOutReturnValue"}]},{name:"CalculateAmountIn",fields:[{defined:"CalculateAmountInReturnValue"}]}]}}],errors:[{code:6e3,name:"AlreadyInUse",msg:"Swap account already in use"},{code:6001,name:"InvalidProgramAddress",msg:"Invalid program address generated from bump seed and key"},{code:6002,name:"InvalidOwner",msg:"Input account owner is not the program address"},{code:6003,name:"InvalidOutputOwner",msg:"Output pool account owner cannot be the program address"},{code:6004,name:"ExpectedMint",msg:"Deserialized account is not an SPL Token mint"},{code:6005,name:"ExpectedAccount",msg:"Deserialized account is not an SPL Token account"},{code:6006,name:"EmptySupply",msg:"Input token account empty"},{code:6007,name:"InvalidSupply",msg:"Pool token mint has a non-zero supply"},{code:6008,name:"InvalidDelegate",msg:"Token account has a delegate"},{code:6009,name:"InvalidInput",msg:"InvalidInput"},{code:6010,name:"IncorrectSwapAccount",msg:"Address of the provided swap token account is incorrect"},{code:6011,name:"IncorrectPoolMint",msg:"Address of the provided pool token mint is incorrect"},{code:6012,name:"InvalidOutput",msg:"InvalidOutput"},{code:6013,name:"CalculationFailure",msg:"General calculation failure due to overflow or underflow"},{code:6014,name:"InvalidInstruction",msg:"Invalid instruction"},{code:6015,name:"RepeatedMint",msg:"Swap input token accounts have the same mint"},{code:6016,name:"ExceededSlippage",msg:"Swap instruction exceeds desired slippage limit"},{code:6017,name:"InvalidCloseAuthority",msg:"Token account has a close authority"},{code:6018,name:"InvalidFreezeAuthority",msg:"Pool token mint has a freeze authority"},{code:6019,name:"IncorrectFeeAccount",msg:"Pool fee token account incorrect"},{code:6020,name:"ZeroTradingTokens",msg:"Given pool token amount results in zero trading tokens"},{code:6021,name:"FeeCalculationFailure",msg:"Fee calculation failed due to overflow, underflow, or unexpected 0"},{code:6022,name:"ConversionFailure",msg:"Conversion to u64 failed with an overflow or underflow"},{code:6023,name:"InvalidFee",msg:"The provided fee does not match the program owner's constraints"},{code:6024,name:"IncorrectTokenProgramId",msg:"The provided token program does not match the token program expected by the swap"},{code:6025,name:"UnsupportedCurveType",msg:"The provided curve type is not supported by the program owner"},{code:6026,name:"InvalidCurve",msg:"The provided curve parameters are invalid"},{code:6027,name:"UnsupportedCurveOperation",msg:"The operation cannot be performed on the given curve"},{code:6028,name:"InvalidMint",msg:"Invalid mint in pool balance liquidity account"},{code:6029,name:"InvalidAuthority",msg:"Invalid authority in token account"},{code:6030,name:"AdditionOverflow",msg:"SafeMath: addition overflow"},{code:6031,name:"SubtractionOverflow",msg:"SafeMath: subtraction overflow"},{code:6032,name:"MultiplicationOverflow",msg:"SafeMath: multiplication overflow"},{code:6033,name:"DivisionOverflow",msg:"SafeMath: division overflow"},{code:6034,name:"InsufficientOutputAmount",msg:"KyberSwap: INSUFFICIENT_OUTPUT_AMOUNT"},{code:6035,name:"InsufficientLiquidity",msg:"KyberSwap: INSUFFICIENT_LIQUIDITY"},{code:6036,name:"InvalidTo",msg:"KyberSwap: INVALID_TO"},{code:6037,name:"InsufficientInputAmount",msg:"KyberSwap: INSUFFICIENT_INPUT_AMOUNT"},{code:6038,name:"K",msg:"KyberSwap: K"},{code:6039,name:"Overflow",msg:"KyberSwap: OVERFLOW"},{code:6040,name:"UnsyncReserves",msg:"KyberSwap: UNSYNC_RESERVES"},{code:6041,name:"InsufficientLiquidityMinted",msg:"KyberSwap: INSUFFICIENT_LIQUIDITY_MINTED"},{code:6042,name:"InsufficientLiquidityBurned",msg:"KyberSwap: INSUFFICIENT_LIQUIDITY_BURNED"},{code:6043,name:"InvalidTradeDirection",msg:"KyberSwap: Invalid trade direction"},{code:6044,name:"InvalidFeeConfiguration",msg:"KyberSwap: Invalid government fee configuration"},{code:6045,name:"Forbidden",msg:"KyberSwap: Forbidden"},{code:6046,name:"IdenticalAddresses",msg:"Token A must be not equal to Token B"},{code:6047,name:"ZeroAddress",msg:"Token A and Token B must not be zero"}]}},"./node_modules/@kyberswap/ks-sdk-solana/dist/programs/kyberswap_router_solana.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDL=void 0,t.IDL={version:"0.1.0",name:"kyberswap_router_solana",instructions:[{name:"initialize",accounts:[{name:"payer",isMut:!0,isSigner:!0},{name:"router",isMut:!0,isSigner:!1},{name:"routerAuthority",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"factoryState",type:"publicKey"}]},{name:"addLiquidity",accounts:[{name:"user",isMut:!1,isSigner:!0},{name:"router",isMut:!1,isSigner:!1},{name:"poolAuthority",isMut:!1,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"poolBalanceToken0",isMut:!0,isSigner:!1},{name:"poolBalanceToken1",isMut:!0,isSigner:!1},{name:"poolMintLiquidity",isMut:!0,isSigner:!1},{name:"poolBalanceLockedLiquidity",isMut:!0,isSigner:!1},{name:"userBalanceLiquidity",isMut:!0,isSigner:!1},{name:"routerAuthority",isMut:!1,isSigner:!1},{name:"userBalanceToken0",isMut:!0,isSigner:!1},{name:"userBalanceToken1",isMut:!0,isSigner:!1},{name:"factoryState",isMut:!1,isSigner:!1},{name:"factoryBalanceFeeTo",isMut:!0,isSigner:!1},{name:"poolProgram",isMut:!1,isSigner:!1},{name:"systemTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount0Desired",type:"u128"},{name:"amount1Desired",type:"u128"},{name:"amount0Min",type:"u128"},{name:"amount1Min",type:"u128"}]},{name:"addLiquiditySol",accounts:[{name:"router",isMut:!1,isSigner:!1},{name:"user",isMut:!0,isSigner:!0},{name:"routerAuthority",isMut:!1,isSigner:!1},{name:"userBalanceToken",isMut:!0,isSigner:!1},{name:"poolProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"poolAuthority",isMut:!1,isSigner:!1},{name:"poolBalanceToken0",isMut:!0,isSigner:!1},{name:"poolBalanceToken1",isMut:!0,isSigner:!1},{name:"poolMintLiquidity",isMut:!0,isSigner:!1},{name:"poolBalanceLockedLiquidity",isMut:!0,isSigner:!1},{name:"userBalanceLiquidity",isMut:!0,isSigner:!1},{name:"factoryState",isMut:!1,isSigner:!1},{name:"factoryBalanceFeeTo",isMut:!0,isSigner:!1},{name:"systemTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amountTokenDesired",type:"u128"},{name:"amountSolDesired",type:"u128"},{name:"amountTokenMin",type:"u128"},{name:"amountSolMin",type:"u128"}]},{name:"prepareForSwapExactTokensForTokens",accounts:[{name:"user",isMut:!1,isSigner:!0},{name:"router",isMut:!1,isSigner:!1},{name:"routerAuthority",isMut:!1,isSigner:!1},{name:"poolProgram",isMut:!1,isSigner:!1},{name:"userBalanceTokenIn",isMut:!0,isSigner:!1},{name:"firstPoolBalanceTokenIn",isMut:!0,isSigner:!1},{name:"systemTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amountIn",type:"u128"},{name:"amountOutMin",type:"u128"},{name:"tradeDirections",type:"bytes"}]},{name:"prepareForSwapExactSolForTokens",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"router",isMut:!1,isSigner:!1},{name:"poolProgram",isMut:!1,isSigner:!1},{name:"firstPoolBalanceWsol",isMut:!0,isSigner:!1},{name:"systemTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"amountIn",type:"u128"},{name:"amountOutMin",type:"u128"},{name:"tradeDirections",type:"bytes"}]},{name:"prepareForSwapSolForExactTokens",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"router",isMut:!1,isSigner:!1},{name:"poolProgram",isMut:!1,isSigner:!1},{name:"firstPoolBalanceWsol",isMut:!0,isSigner:!1},{name:"systemTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"amountOut",type:"u128"},{name:"amountInMax",type:"u128"},{name:"tradeDirections",type:"bytes"}]},{name:"prepareForSwapTokensForExactTokens",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"router",isMut:!1,isSigner:!1},{name:"routerAuthority",isMut:!1,isSigner:!1},{name:"poolProgram",isMut:!1,isSigner:!1},{name:"userBalanceTokenIn",isMut:!0,isSigner:!1},{name:"firstPoolBalanceTokenIn",isMut:!0,isSigner:!1},{name:"systemTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amountOut",type:"u128"},{name:"amountInMax",type:"u128"},{name:"tradeDirections",type:"bytes"}]},{name:"swapToSol",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"router",isMut:!1,isSigner:!1},{name:"routerAuthority",isMut:!0,isSigner:!1},{name:"routerBalanceWsol",isMut:!0,isSigner:!1},{name:"poolProgram",isMut:!1,isSigner:!1},{name:"wrappedSol",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"poolAuthority",isMut:!1,isSigner:!1},{name:"poolBalanceToken0",isMut:!0,isSigner:!1},{name:"poolBalanceToken1",isMut:!0,isSigner:!1},{name:"systemTokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"removeLiquidity",accounts:[{name:"user",isMut:!1,isSigner:!0},{name:"router",isMut:!1,isSigner:!1},{name:"routerAuthority",isMut:!1,isSigner:!1},{name:"userBalanceLiquidity",isMut:!0,isSigner:!1},{name:"poolProgram",isMut:!1,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"poolAuthority",isMut:!1,isSigner:!1},{name:"poolBalanceToken0",isMut:!0,isSigner:!1},{name:"poolBalanceToken1",isMut:!0,isSigner:!1},{name:"poolMintLiquidity",isMut:!0,isSigner:!1},{name:"poolBalanceLiquidity",isMut:!0,isSigner:!1},{name:"userBalanceToken0",isMut:!0,isSigner:!1},{name:"userBalanceToken1",isMut:!0,isSigner:!1},{name:"factoryState",isMut:!1,isSigner:!1},{name:"factoryBalanceFeeTo",isMut:!0,isSigner:!1},{name:"systemTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"liquidity",type:"u128"},{name:"amount0Min",type:"u128"},{name:"amount1Min",type:"u128"}]},{name:"removeLiquiditySol",accounts:[{name:"router",isMut:!1,isSigner:!1},{name:"user",isMut:!0,isSigner:!0},{name:"routerAuthority",isMut:!0,isSigner:!1},{name:"userBalanceLiquidity",isMut:!0,isSigner:!1},{name:"routerBalanceWsol",isMut:!0,isSigner:!1},{name:"wrappedSol",isMut:!1,isSigner:!1},{name:"poolProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"poolAuthority",isMut:!1,isSigner:!1},{name:"poolBalanceToken0",isMut:!0,isSigner:!1},{name:"poolBalanceToken1",isMut:!0,isSigner:!1},{name:"poolMintLiquidity",isMut:!0,isSigner:!1},{name:"poolBalanceLiquidity",isMut:!0,isSigner:!1},{name:"userBalanceToken",isMut:!0,isSigner:!1},{name:"factoryState",isMut:!1,isSigner:!1},{name:"factoryBalanceFeeTo",isMut:!0,isSigner:!1},{name:"systemTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"liquidity",type:"u128"},{name:"amountTokenMin",type:"u128"},{name:"amountSolMin",type:"u128"}]}],accounts:[{name:"router",type:{kind:"struct",fields:[{name:"factoryAddress",type:"publicKey"}]}}],errors:[{code:6e3,name:"InvalidProgramAddress",msg:"The program address is invalid "},{code:6001,name:"InvalidAuthority",msg:"The authority must be correctly generated"},{code:6002,name:"InvalidOwner",msg:"The account must be owned by this program"},{code:6003,name:"AllPoolsSpaceExceeded",msg:"The capacity of the account containing all pools is exceeded"},{code:6004,name:"IdenticalAddresses",msg:"Token A must be not equal to Token B"},{code:6005,name:"ZeroAddress",msg:"Token A and Token B must not be zero"},{code:6006,name:"InvalidAmplificationFactor",msg:"Amplification factor must >=10000"},{code:6007,name:"InvalidTokensPairIndex",msg:"Tokens pair index 0 is specified for unamplified pools, and tokens pair index >0 is specified for amplified pools."},{code:6008,name:"UnamplifiedPoolExists",msg:"The unamplified pool with the tokens pair already exists"},{code:6009,name:"InsufficientAAmount",msg:"KyberSwapRouter: INSUFFICIENT_A_AMOUNT"},{code:6010,name:"InsufficientBAmount",msg:"KyberSwapRouter: INSUFFICIENT_B_AMOUNT"},{code:6011,name:"InvalidAmountA",msg:"KyberSwapRouter: Amount A should not be less than desired in case amount_B_optimal > amount_B_desired"},{code:6012,name:"InvalidSourceTokenMint",msg:"KyberSwapRouter: Source token's mint does not match"},{code:6013,name:"InvalidTradeDirection",msg:"KyberSwapRouter: Invalid trade direction"},{code:6014,name:"InvalidPoolLength",msg:"KyberSwapRouter: Invalid pool length"},{code:6015,name:"InvalidPoolAccount",msg:"KyberSwapRouter: Invalid pool account"},{code:6016,name:"InvalidPath",msg:"KyberSwapRouter: Invalid path"},{code:6017,name:"InsufficientOutputAmount",msg:"KyberSwapRouter: insufficient output amount"},{code:6018,name:"ExcessiveInputAmount",msg:"KyberSwapRouter: excessive input amount"},{code:6019,name:"InvalidReturnValue",msg:"KyberSwapRouter: invalid return value"},{code:6020,name:"InvalidMint",msg:"KyberSwapRouter: Invalid mint"}]}},"./node_modules/@kyberswap/ks-sdk-solana/dist/src/computeBudget/index.js":function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/computeBudget/instructions/index.js"),t)},"./node_modules/@kyberswap/ks-sdk-solana/dist/src/computeBudget/instructions/constants.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COMPUTE_BUDGET_PROGRAM_ID=void 0;var r=n("./node_modules/@solana/web3.js/lib/index.browser.esm.js");t.COMPUTE_BUDGET_PROGRAM_ID=new r.PublicKey("ComputeBudget111111111111111111111111111111")},"./node_modules/@kyberswap/ks-sdk-solana/dist/src/computeBudget/instructions/index.js":function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/computeBudget/instructions/constants.js"),t),o(n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/computeBudget/instructions/requestUnits.js"),t),o(n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/computeBudget/instructions/types.js"),t)},"./node_modules/@kyberswap/ks-sdk-solana/dist/src/computeBudget/instructions/requestUnits.js":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.createRequestUnitsInstruction=t.requestUnitsInstructionData=void 0;var r=n("./node_modules/@solana/buffer-layout/lib/Layout.js"),o=n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/computeBudget/instructions/types.js"),s=n("./node_modules/@solana/web3.js/lib/index.browser.esm.js"),a=n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/computeBudget/instructions/constants.js");t.requestUnitsInstructionData=(0,r.struct)([(0,r.u8)("instruction"),(0,r.u32)("units"),(0,r.u32)("additionalFee")]),t.createRequestUnitsInstruction=function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.COMPUTE_BUDGET_PROGRAM_ID,u=e.alloc(t.requestUnitsInstructionData.span);return t.requestUnitsInstructionData.encode({instruction:o.ComputeBudgetInstruction.RequestUnits,units:n,additionalFee:r},u),new s.TransactionInstruction({keys:[],programId:i,data:u})}}).call(this,n("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer)},"./node_modules/@kyberswap/ks-sdk-solana/dist/src/computeBudget/instructions/types.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ComputeBudgetInstruction=void 0,function(e){e[e.RequestUnits=0]="RequestUnits"}(t.ComputeBudgetInstruction||(t.ComputeBudgetInstruction={}))},"./node_modules/@kyberswap/ks-sdk-solana/dist/src/constants.js":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LIQUIDITY_TOKEN_POOL_DECIMAL=t.RUST_TYPE_MAXIMA=t.RustType=t.TradeDirection=t.PRECISION_JSBI=t._100_JSBI=t.TEN_JSBI=t.THREE_JSBI=t.TWO_JSBI=t.ONE_JSBI=t.ZERO_JSBI=t.PRECISION=t._100=t.TEN=t.THREE=t.TWO=t.ONE=t.ZERO=t.INCINERATOR=t.MINIMUM_LIQUIDITY=t.FEE_OPTIONS=t.FEE_BPS=t.AMPLIFICATION_FACTOR_BPS=t.Rounding=void 0;var o,s=n("./node_modules/@solana/web3.js/lib/index.browser.esm.js"),a=n("./node_modules/@project-serum/anchor/dist/browser/index.js"),i=r(n("./node_modules/jsbi/dist/jsbi-umd.js"));!function(e){e[e.ROUND_DOWN=0]="ROUND_DOWN",e[e.ROUND_HALF_UP=1]="ROUND_HALF_UP",e[e.ROUND_UP=2]="ROUND_UP"}(t.Rounding||(t.Rounding={})),t.AMPLIFICATION_FACTOR_BPS=1e4,t.FEE_BPS=1e4,t.FEE_OPTIONS=[1,5,30,50,100],t.MINIMUM_LIQUIDITY=1e3,t.INCINERATOR=new s.PublicKey("1nc1nerator11111111111111111111111111111111"),t.ZERO=new a.BN(0),t.ONE=new a.BN(1),t.TWO=new a.BN(2),t.THREE=new a.BN(3),t.TEN=new a.BN(10),t._100=new a.BN(100),t.PRECISION=new a.BN(10).pow(new a.BN(9)),t.ZERO_JSBI=i.default.BigInt(0),t.ONE_JSBI=i.default.BigInt(1),t.TWO_JSBI=i.default.BigInt(2),t.THREE_JSBI=i.default.BigInt(3),t.TEN_JSBI=i.default.BigInt(10),t._100_JSBI=i.default.BigInt(100),t.PRECISION_JSBI=i.default.exponentiate(i.default.BigInt(10),i.default.BigInt(9)),function(e){e[e.ZERO_TO_ONE=0]="ZERO_TO_ONE",e[e.ONE_TO_ZERO=1]="ONE_TO_ZERO"}(t.TradeDirection||(t.TradeDirection={})),function(e){e.u64="u64",e.U256="U256"}(o=t.RustType||(t.RustType={})),t.RUST_TYPE_MAXIMA={[o.u64]:new a.BN(2).pow(new a.BN(64)).sub(t.ONE),[o.U256]:new a.BN(2).pow(new a.BN(256)).sub(t.ONE)},t.LIQUIDITY_TOKEN_POOL_DECIMAL=9},"./node_modules/@kyberswap/ks-sdk-solana/dist/src/context.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;var r=n("./node_modules/@project-serum/anchor/dist/browser/index.js"),o=n("./node_modules/@kyberswap/ks-sdk-solana/dist/programs/kyberswap_factory_solana.js"),s=n("./node_modules/@kyberswap/ks-sdk-solana/dist/programs/kyberswap_pool_solana.js"),a=n("./node_modules/@kyberswap/ks-sdk-solana/dist/programs/kyberswap_router_solana.js");t.Context=class{constructor(e,t,n,i){this.anchorProvider=e,this.factoryProgram=new r.Program(o.IDL,t,e),this.poolProgram=new r.Program(s.IDL,n,e),this.routerProgram=new r.Program(a.IDL,i,e)}}},"./node_modules/@kyberswap/ks-sdk-solana/dist/src/entities/Pool.js":function(e,t,n){"use strict";(function(e){var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js").default,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Pool=void 0;var s=o(n("./node_modules/tiny-invariant/dist/tiny-invariant.esm.js")),a=n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/constants.js"),i=n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/utils.js"),u=n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/errors.js"),c=o(n("./node_modules/bn.js/lib/bn.js")),d=n("./node_modules/@solana/web3.js/lib/index.browser.esm.js"),l=n("./node_modules/@kyberswap/ks-sdk-core/dist/index.js");t.Pool=class{constructor(t,n,o,s,i,u,c,m){this.address=n;var p=o.currency.sortsBefore(s.currency)?[o,s]:[s,o],f=o.currency.sortsBefore(s.currency)?[i,u]:[u,i],g=d.PublicKey.findProgramAddressSync([this.address.toBuffer()],t.poolProgram.programId),y=r(g,1)[0];this.authority=y;var h=d.PublicKey.findProgramAddressSync([this.address.toBuffer(),e.from("KyberSwapPoolLiquidityToken")],t.factoryProgram.programId),k=r(h,1)[0],v=d.PublicKey.findProgramAddressSync([this.address.toBuffer(),e.from("KyberSwapPoolBalanceToken0")],t.factoryProgram.programId),b=r(v,1)[0];this.token0Account=b;var T=d.PublicKey.findProgramAddressSync([this.address.toBuffer(),e.from("KyberSwapPoolBalanceToken1")],t.factoryProgram.programId),S=r(T,1)[0];this.token1Account=S,this.liquidityToken=new l.Token(l.ChainId.SOLANA,k.toBase58(),a.LIQUIDITY_TOKEN_POOL_DECIMAL,"DMM-LP","DMM LP"),this.tokenAmounts=p,this.virtualTokenAmounts=f,this.fee=c,this.amp=m}involvesToken(e){return e.equals(this.token0)||e.equals(this.token1)}get token0Price(){return new l.Price({baseAmount:this.virtualTokenAmounts[0],quoteAmount:this.virtualTokenAmounts[1]})}get token1Price(){return new l.Price({baseAmount:this.virtualTokenAmounts[1],quoteAmount:this.virtualTokenAmounts[0]})}priceOf(e){return(0,s.default)(this.involvesToken(e),"TOKEN"),e.equals(this.token0)?this.token0Price:this.token1Price}priceOfReal(e){return(0,s.default)(this.involvesToken(e),"TOKEN"),e.equals(this.token0)?new l.Price({baseAmount:this.virtualTokenAmounts[0],quoteAmount:this.virtualTokenAmounts[1]}):new l.Price({baseAmount:this.virtualTokenAmounts[1],quoteAmount:this.virtualTokenAmounts[0]})}get token0(){return this.tokenAmounts[0].currency}get token1(){return this.tokenAmounts[1].currency}get reserve0(){return this.tokenAmounts[0]}get reserve1(){return this.tokenAmounts[1]}get virtualReserve0(){return this.virtualTokenAmounts[0]}get virtualReserve1(){return this.virtualTokenAmounts[1]}reserveOf(e){return(0,s.default)(this.involvesToken(e),"TOKEN"),e.equals(this.token0)?this.reserve0:this.reserve1}virtualReserveOf(e){return(0,s.default)(this.involvesToken(e),"TOKEN"),e.equals(this.token0)?this.virtualReserve0:this.virtualReserve1}getOutputAmount(e){if((0,s.default)(this.involvesToken(e.currency),"TOKEN"),this.reserve0.equalTo(0)||this.reserve1.equalTo(0))throw new u.InsufficientReservesError;var t=e.currency.equals(this.token0)?this.token1:this.token0,n=this.virtualReserveOf(e.currency),r=this.virtualReserveOf(t),o=e.quotientBN.mul(a.PRECISION.sub(this.fee)).div(a.PRECISION),i=o.mul(r.quotientBN),c=n.quotientBN.add(o),d=l.TokenAmount.fromRawAmount(t,i.div(c));if(d.quotientBN.gte(this.reserveOf(t).quotientBN))throw new u.InsufficientReservesError;if(d.quotientBN.eq(a.ZERO))throw new u.InsufficientInputAmountError;return[d,[n.add(e),r.subtract(d)]]}getInputAmount(e){if((0,s.default)(this.involvesToken(e.currency),"TOKEN"),this.reserve0.quotientBN.eq(a.ZERO)||this.reserve1.quotientBN.eq(a.ZERO)||e.quotientBN.gte(this.reserveOf(e.currency).quotientBN))throw new u.InsufficientReservesError;var t=e.currency.equals(this.token0)?this.token1:this.token0,n=this.virtualReserveOf(e.currency),r=this.virtualReserveOf(t),o=r.quotientBN.mul(e.quotientBN),i=n.quotientBN.sub(e.quotientBN),c=o.div(i).add(a.ONE);o=c.mul(a.PRECISION),i=a.PRECISION.sub(this.fee);var d=l.TokenAmount.fromRawAmount(t,o.add(i).sub(a.ONE).div(i));return[d,[r.add(d),n.subtract(e)]]}getLiquidityMinted(e,t,n){(0,s.default)(e.currency.equals(this.liquidityToken),"LIQUIDITY");var r,o=t.currency.sortsBefore(n.currency)?[t,n]:[n,t];if((0,s.default)(o[0].currency.equals(this.token0)&&o[1].currency.equals(this.token1),"TOKEN"),e.quotientBN.eq(a.ZERO))r=(0,i.sqrt)(o[0].quotientBN.mul(o[1].quotientBN)).sub(new c.default(a.MINIMUM_LIQUIDITY));else{var d=o[0].quotientBN.mul(e.quotientBN).div(this.reserve0.quotientBN),m=o[1].quotientBN.mul(e.quotientBN).div(this.reserve1.quotientBN);r=d.lte(m)?d:m}if(!r.gt(a.ZERO))throw new u.InsufficientInputAmountError;return l.TokenAmount.fromRawAmount(this.liquidityToken,r)}getLiquidityValue(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.ZERO,u=arguments.length>4?arguments[4]:void 0;if((0,s.default)(this.involvesToken(e),"TOKEN"),(0,s.default)(t.currency.equals(this.liquidityToken),"TOTAL_SUPPLY"),(0,s.default)(n.currency.equals(this.liquidityToken),"LIQUIDITY"),(0,s.default)(n.quotientBN.lte(t.quotientBN),"LIQUIDITY"),o.eq(a.ZERO))r=t;else{(0,s.default)(!!u,"K_LAST");var d=(0,i.parseBigintIsh)(u);if(d.eq(a.ZERO))r=t;else{var m=(0,i.sqrt)(this.virtualReserve0.quotientBN.mul(this.virtualReserve1.quotientBN)),p=(0,i.sqrt)(d);if(m.gt(p)){var f=t.quotientBN.mul(m.sub(p)).mul(o),g=m.add(p).mul(new c.default(5e3)),y=f.div(g);r=t.add(l.TokenAmount.fromRawAmount(this.liquidityToken,y))}else r=t}}return l.TokenAmount.fromRawAmount(e,n.quotientBN.mul(this.reserveOf(e).quotientBN).div(r.quotientBN))}}}).call(this,n("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer)},"./node_modules/@kyberswap/ks-sdk-solana/dist/src/entities/currency.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WSOL=t.SOL=void 0;var r=n("./node_modules/@kyberswap/ks-sdk-core/dist/index.js");t.SOL=new r.NativeCurrency(r.ChainId.SOLANA,9,"SOL","SOL"),t.WSOL=t.SOL.wrapped},"./node_modules/@kyberswap/ks-sdk-solana/dist/src/entities/index.js":function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/entities/Pool.js"),t),o(n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/entities/route.js"),t),o(n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/entities/trade.js"),t),o(n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/entities/currency.js"),t)},"./node_modules/@kyberswap/ks-sdk-solana/dist/src/entities/route.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js").default,o=n("./node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js").default,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Route=void 0;var a=s(n("./node_modules/tiny-invariant/dist/tiny-invariant.esm.js")),i=n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/entities/currency.js"),u=n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/constants.js"),c=n("./node_modules/@kyberswap/ks-sdk-core/dist/index.js");t.Route=class{constructor(e,t,n){this._midPrice=null,(0,a.default)(e.length>0,"PAIRS"),(0,a.default)(t instanceof c.Token&&e[0].involvesToken(t)||t===i.SOL&&e[0].involvesToken(i.WSOL),"INPUT"),(0,a.default)("undefined"===typeof n||n instanceof c.Token&&e[e.length-1].involvesToken(n)||n===i.SOL&&e[e.length-1].involvesToken(i.WSOL),"OUTPUT");var s,u=[t instanceof c.Token?t:i.WSOL],d=o(e.entries());try{for(d.s();!(s=d.n()).done;){var l=r(s.value,2),m=l[0],p=l[1],f=u[m];(0,a.default)(f.equals(p.token0)||f.equals(p.token1),"PATH");var g=f.equals(p.token0)?p.token1:p.token0;u.push(g)}}catch(y){d.e(y)}finally{d.f()}this.pairs=e,this.path=u,this.input=t,this.output=null!==n&&void 0!==n?n:u[u.length-1]}get midPrice(){if(null!==this._midPrice)return this._midPrice;var e,t=[],n=o(this.pairs.entries());try{for(n.s();!(e=n.n()).done;){var s=r(e.value,2),a=s[0],i=s[1];t.push(i.priceOf(this.path[a]))}}catch(d){n.e(d)}finally{n.f()}var u=t.slice(1).reduce(((e,t)=>e.multiply(t)),t[0]);return this._midPrice=new c.Price(this.input,this.output,u.denominator,u.numerator)}get tradeDirections(){for(var e=[],t=0;t<this.pairs.length;t+=1)this.pairs[t].token0.equals(this.path[t])?e.push(u.TradeDirection.ZERO_TO_ONE):e.push(u.TradeDirection.ONE_TO_ZERO);return e}get accountMetas(){return this.pairs.map((e=>({pubkey:e.address,isSigner:!1,isWritable:!0})))}}},"./node_modules/@kyberswap/ks-sdk-solana/dist/src/entities/trade.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js").default,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.tradeComparator=t.inputOutputComparator=t.Trade=void 0;var s=n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/entities/route.js"),a=n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/constants.js"),i=o(n("./node_modules/tiny-invariant/dist/tiny-invariant.esm.js")),u=n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/utils.js"),c=n("./node_modules/@kyberswap/ks-sdk-core/dist/index.js");class d{constructor(e,t,n){var o=new Array(e.path.length),s=(new Array(e.path.length),new Array(e.pairs.length)),a=new Array(e.pairs.length);if(n===c.TradeType.EXACT_INPUT){(0,i.default)((0,u.currencyEquals)(t.currency,e.input),"INPUT"),o[0]=t.wrapped;for(var d=0;d<e.path.length-1;d++){var l=e.pairs[d].getOutputAmount(o[d]),m=r(l,2),p=m[0],f=m[1];o[d+1]=p,s[d]=f[0],a[d]=f[1]}}else{(0,i.default)(t.currency.equals(e.output),"OUTPUT"),o[o.length-1]=t.wrapped;for(var g=e.path.length-1;g>0;g--){var y=e.pairs[g-1].getInputAmount(o[g]),h=r(y,2),k=h[0],v=h[1];o[g-1]=k,s[g-1]=v[0],a[g-1]=v[1]}}this.route=e,this.tradeType=n,this.inputAmount=n===c.TradeType.EXACT_INPUT?c.CurrencyAmount.fromFractionalAmount(e.input,t.numerator,t.denominator):c.CurrencyAmount.fromFractionalAmount(e.input,o[0].numerator,o[0].denominator),this.outputAmount=n===c.TradeType.EXACT_OUTPUT?c.CurrencyAmount.fromFractionalAmount(e.output,t.numerator,t.denominator):c.CurrencyAmount.fromFractionalAmount(e.output,o[o.length-1].numerator,o[o.length-1].denominator),this.executionPrice=new c.Price(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient),this.priceImpact=(0,c.computePriceImpact)(e.midPrice,this.inputAmount,this.outputAmount)}static exactIn(e,t){return new d(e,t,c.TradeType.EXACT_INPUT)}static exactOut(e,t){return new d(e,t,c.TradeType.EXACT_OUTPUT)}minimumAmountOut(e){if((0,i.default)(!e.lessThan(a.ZERO_JSBI),"SLIPPAGE_TOLERANCE"),this.tradeType===c.TradeType.EXACT_OUTPUT)return this.outputAmount;var t=new c.Fraction(a.ONE_JSBI).add(e).invert().multiply(this.outputAmount.quotient).quotient;return c.CurrencyAmount.fromRawAmount(this.outputAmount.currency,t)}maximumAmountIn(e){if((0,i.default)(!e.lessThan(a.ZERO_JSBI),"SLIPPAGE_TOLERANCE"),this.tradeType===c.TradeType.EXACT_INPUT)return this.inputAmount;var t=new c.Fraction(a.ONE_JSBI).add(e).multiply(this.inputAmount.quotient).quotient;return c.CurrencyAmount.fromRawAmount(this.inputAmount.currency,t)}static bestTradeExactIn(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=o.maxNumResults,p=void 0===l?3:l,f=o.maxHops,g=void 0===f?3:f,y=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t,k=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[];(0,i.default)(e.length>0,"PAIRS"),(0,i.default)(g>0,"MAX_HOPS"),(0,i.default)(t===h||y.length>0,"INVALID_RECURSION");for(var v=h.wrapped,b=n.wrapped,T=0;T<e.length;T++){var S=e[T];if((0,i.default)(S.length>0,"PAIRS"),S[0].token0.equals(v.currency)||S[0].token1.equals(v.currency)){for(var w=S[0].token0,_=S[0].token1,A=void 0,O=void 0,x=0;x<S.length;x++){var I=S[x];if((0,i.default)(I.token0.equals(w),"INVALID_PAIR"),(0,i.default)(I.token1.equals(_),"INVALID_PAIR"),!I.reserve0.equalTo(a.ZERO_JSBI)&&!I.reserve1.equalTo(a.ZERO_JSBI)){var P=void 0;try{var M=I.getOutputAmount(v);P=r(M,1)[0]}catch(j){if(j.isInsufficientInputAmountError||j.isInsufficientReservesError)continue;throw j}(void 0===O||P.greaterThan(O))&&(O=P,A=I)}}if(void 0!==O&&void 0!==A)if(O.currency.equals(b))(0,u.sortedInsert)(k,new d(new s.Route([...y,A],t.currency,n),t,c.TradeType.EXACT_INPUT),p,m);else if(g>1&&e.length>1){var B=e.slice(0,T).concat(e.slice(T+1,e.length));d.bestTradeExactIn(B,t,n,{maxNumResults:p,maxHops:g-1},[...y,A],O,k)}}}return k}static bestTradeExactOut(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=o.maxNumResults,p=void 0===l?3:l,f=o.maxHops,g=void 0===f?3:f,y=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:n,k=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[];(0,i.default)(e.length>0,"PAIRS"),(0,i.default)(g>0,"MAX_HOPS"),(0,i.default)(n===h||y.length>0,"INVALID_RECURSION");for(var v=h.wrapped,b=t.wrapped,T=0;T<e.length;T++){var S=e[T];if((0,i.default)(S.length>0,"PAIRS"),S[0].token0.equals(v.currency)||S[0].token1.equals(v.currency)){for(var w=S[0].token0,_=S[0].token1,A=void 0,O=void 0,x=0;x<S.length;x++){var I=S[x];if((0,i.default)(I.token0.equals(w),"INVALID_PAIR"),(0,i.default)(I.token1.equals(_),"INVALID_PAIR"),!I.reserve0.equalTo(a.ZERO_JSBI)&&!I.reserve1.equalTo(a.ZERO_JSBI)){var P=void 0;try{var M=I.getInputAmount(v);P=r(M,1)[0]}catch(j){if(j.isInsufficientInputAmountError||j.isInsufficientReservesError)continue;throw j}(void 0===O||P.lessThan(O))&&(O=P,A=I)}}if(void 0!==O&&void 0!==A)if(O.currency.equals(b))(0,u.sortedInsert)(k,new d(new s.Route([A,...y],t,n.currency),n,c.TradeType.EXACT_OUTPUT),p,m);else if(g>1&&e.length>1){var B=e.slice(0,T).concat(e.slice(T+1,e.length));d.bestTradeExactOut(B,t,n,{maxNumResults:p,maxHops:g-1},[A,...y],O,k)}}}return k}}function l(e,t){return(0,i.default)((0,u.currencyEquals)(e.inputAmount.currency,t.inputAmount.currency),"INPUT_CURRENCY"),(0,i.default)((0,u.currencyEquals)(e.outputAmount.currency,t.outputAmount.currency),"OUTPUT_CURRENCY"),e.outputAmount.equalTo(t.outputAmount)?e.inputAmount.equalTo(t.inputAmount)?0:e.inputAmount.lessThan(t.inputAmount)?-1:1:e.outputAmount.lessThan(t.outputAmount)?1:-1}function m(e,t){var n=l(e,t);return 0!==n?n:e.priceImpact.lessThan(t.priceImpact)?-1:e.priceImpact.greaterThan(t.priceImpact)?1:e.route.path.length-t.route.path.length}t.Trade=d,t.inputOutputComparator=l,t.tradeComparator=m},"./node_modules/@kyberswap/ks-sdk-solana/dist/src/errors.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InsufficientInputAmountError=t.InsufficientReservesError=void 0;var r="setPrototypeOf"in Object;class o extends Error{constructor(){super(),this.isInsufficientReservesError=!0,this.name=this.constructor.name,r&&Object.setPrototypeOf(this,new.target.prototype)}}t.InsufficientReservesError=o;class s extends Error{constructor(){super(),this.isInsufficientInputAmountError=!0,this.name=this.constructor.name,r&&Object.setPrototypeOf(this,new.target.prototype)}}t.InsufficientInputAmountError=s},"./node_modules/@kyberswap/ks-sdk-solana/dist/src/fetcher.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/regeneratorRuntime.js").default,o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function a(e){try{u(r.next(e))}catch(t){s(t)}}function i(e){try{u(r.throw(e))}catch(t){s(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Fetcher=void 0;var s=n("./node_modules/@project-serum/anchor/dist/browser/index.js"),a=n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/index.js"),i=n("./node_modules/@kyberswap/ks-sdk-solana/node_modules/@solana/spl-token/lib/esm/index.js"),u=n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/utils.js"),c=n("./node_modules/@kyberswap/ks-sdk-core/dist/index.js");class d{constructor(){}static fetchTokenData(e,t,n,s){return o(this,void 0,void 0,r().mark((function o(){var a;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,i.getMint)(t.connection,e);case 2:return a=r.sent,r.abrupt("return",new c.Token(c.ChainId.SOLANA,e.toBase58(),a.decimals,n,s));case 4:case"end":return r.stop()}}),o)})))}static fetchPoolAddresses(e,t,n){var a,i;return o(this,void 0,void 0,r().mark((function o(){var c,d,l,m,p,f;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,u.getTokenPairAddress)(n,e,t);case 2:return c=r.sent,r.next=5,n.factoryProgram.account.tokenPair.fetch(c);case 5:return d=r.sent,l=[],r.next=9,(0,u.getPoolAddressByTokenPairNonce)(n,e,t,new s.BN(0));case 9:return m=r.sent,r.next=12,n.anchorProvider.connection.getAccountInfo(m);case 12:if(r.t2=a=r.sent,r.t1=null===r.t2,r.t1){r.next=16;break}r.t1=void 0===a;case 16:if(!r.t1){r.next=20;break}r.t3=void 0,r.next=21;break;case 20:r.t3=a.owner;case 21:if(r.t4=i=r.t3,r.t0=null===r.t4,r.t0){r.next=25;break}r.t0=void 0===i;case 25:if(!r.t0){r.next=29;break}r.t5=void 0,r.next=30;break;case 29:r.t5=i.equals(n.poolProgram.programId);case 30:if(!r.t5){r.next=32;break}l.push(m);case 32:p=1;case 33:if(!new s.BN(p).lte(d.numAmplifiedPools)){r.next=41;break}return r.next=36,(0,u.getPoolAddressByTokenPairNonce)(n,e,t,new s.BN(p));case 36:f=r.sent,l.push(f);case 38:p++,r.next=33;break;case 41:return r.abrupt("return",l);case 42:case"end":return r.stop()}}),o)})))}static fetchPoolData(e,t,n){return o(this,void 0,void 0,r().mark((function s(){var i;return r().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,d.fetchPoolAddresses(e.mint,t.mint,n);case 2:return i=s.sent,s.abrupt("return",Promise.all(i.map((s=>o(this,void 0,void 0,r().mark((function o(){var i,u,d,l,m,p,f,g;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.poolProgram.account.pool.fetch(s);case 2:return i=r.sent,u=i.balance.reserve0,d=i.balance.reserve1,l=i.virtualBalance.vReserve0,m=i.virtualBalance.vReserve1,p=i.feeInPrecision,f=i.curve.curveParameters,g=e.sortsBefore(t)?[u,d,l,m]:[d,u,m,l],r.abrupt("return",new a.Pool(n,s,c.TokenAmount.fromRawAmount(e,g[0]),c.TokenAmount.fromRawAmount(t,g[1]),c.TokenAmount.fromRawAmount(e,g[2]),c.TokenAmount.fromRawAmount(t,g[3]),(0,a.parseBigintIsh)(p),f));case 11:case"end":return r.stop()}}),o)})))))));case 4:case"end":return s.stop()}}),s,this)})))}}t.Fetcher=d},"./node_modules/@kyberswap/ks-sdk-solana/dist/src/index.js":function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MINIMUM_LIQUIDITY=t.Rounding=t.BN=void 0;var a=s(n("./node_modules/bn.js/lib/bn.js"));t.BN=a.default,o(n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/computeBudget/index.js"),t),o(n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/entities/index.js"),t);var i=n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/constants.js");Object.defineProperty(t,"Rounding",{enumerable:!0,get:function(){return i.Rounding}}),Object.defineProperty(t,"MINIMUM_LIQUIDITY",{enumerable:!0,get:function(){return i.MINIMUM_LIQUIDITY}}),o(n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/context.js"),t),o(n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/constants.js"),t),o(n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/errors.js"),t),o(n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/entities/index.js"),t),o(n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/fetcher.js"),t),o(n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/router.js"),t),o(n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/utils.js"),t)},"./node_modules/@kyberswap/ks-sdk-solana/dist/src/router.js":function(e,t,n){"use strict";(function(e){var r=n("./node_modules/@babel/runtime/helpers/regeneratorRuntime.js").default,o=n("./node_modules/@babel/runtime/helpers/slicedToArray.js").default,s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function a(e){try{u(r.next(e))}catch(t){s(t)}}function i(e){try{u(r.throw(e))}catch(t){s(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Router=void 0;var i=n("./node_modules/@solana/web3.js/lib/index.browser.esm.js"),u=n("./node_modules/@project-serum/anchor/dist/browser/index.js"),c=n("./node_modules/@kyberswap/ks-sdk-solana/node_modules/@solana/spl-token/lib/esm/index.js"),d=n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/entities/index.js"),l=n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/utils.js"),m=n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/constants.js"),p=a(n("./node_modules/tiny-invariant/dist/tiny-invariant.esm.js")),f=n("./node_modules/@kyberswap/ks-sdk-core/dist/index.js");class g{constructor(t){var n=i.PublicKey.findProgramAddressSync([e.from("KyberSwapRouterState")],t.routerProgram.programId),r=o(n,1)[0];this._context=t,this._routerStateAddress=r}get context(){return this._context}get routerStateAddress(){return this._routerStateAddress}getDelegatingAddress(){return s(this,void 0,void 0,r().mark((function t(){var n,s,a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.PublicKey.findProgramAddress([e.from("KyberSwapRouter")],this._context.routerProgram.programId);case 2:return n=t.sent,s=o(n,1),a=s[0],t.abrupt("return",a);case 6:case"end":return t.stop()}}),t,this)})))}getWSOLUnwrapper(){return s(this,void 0,void 0,r().mark((function t(){var n,s,a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.PublicKey.findProgramAddress([e.from("WSOLUnwrapper")],this._context.routerProgram.programId);case 2:return n=t.sent,s=o(n,1),a=s[0],t.abrupt("return",a);case 6:case"end":return t.stop()}}),t,this)})))}addLiquidity(t,n,a,u,m,p,f){var g=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return s(this,void 0,void 0,r().mark((function s(){var y,h,k,v,b,T,S,w,_,A,O,x,I,P,M,B,j,E,R,N,q,L,C,D,U;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this._context.poolProgram.account.pool.fetch(t);case 2:if(y=r.sent,a.equals(y.token0Mint)||a.equals(y.token1Mint)){r.next=5;break}throw"the given pool does not contain token ".concat(a.toBase58());case 5:if(!g){r.next=8;break}if(y.token0Mint.equals(new i.PublicKey(d.WSOL.address))||y.token1Mint.equals(new i.PublicKey(d.WSOL.address))){r.next=8;break}throw"the given pool does not contain Wrapped SOL token, please set preferNativeToken to false";case 8:return r.next=10,i.PublicKey.findProgramAddress([t.toBuffer()],this._context.poolProgram.programId);case 10:return h=r.sent,k=o(h,1),v=k[0],r.next=15,this._context.factoryProgram.account.factory.fetch(y.factoryAddress);case 15:return b=r.sent,r.next=18,(0,c.getAssociatedTokenAddress)(y.poolMint,b.feeTo);case 18:return T=r.sent,r.next=21,(0,c.getAssociatedTokenAddress)(y.poolMint,n);case 21:return S=r.sent,r.next=24,this.getDelegatingAddress();case 24:if(w=r.sent,!g){r.next=37;break}return A=y.token0Mint.equals(new i.PublicKey(d.WSOL.address))?y.token1Mint:y.token0Mint,O=a.equals(A)?u:m,x=a.equals(A)?m:u,I=a.equals(A)?p:f,P=a.equals(A)?f:p,r.next=33,(0,c.getAssociatedTokenAddress)(A,n);case 33:M=r.sent,_=this._context.routerProgram.instruction.addLiquiditySol(O,x,I,P,{accounts:{router:this._routerStateAddress,user:n,routerAuthority:w,userBalanceToken:M,poolProgram:this._context.poolProgram.programId,systemProgram:i.SystemProgram.programId,poolState:t,poolAuthority:v,poolBalanceToken0:y.token0Account,poolBalanceToken1:y.token1Account,poolMintLiquidity:y.poolMint,poolBalanceLockedLiquidity:y.poolBalanceLockedLiquidity,userBalanceLiquidity:S,factoryState:y.factoryAddress,factoryBalanceFeeTo:T,systemTokenProgram:c.TOKEN_PROGRAM_ID}}),r.next=48;break;case 37:return B=a.equals(y.token0Mint)?u:m,j=a.equals(y.token0Mint)?m:u,E=a.equals(y.token0Mint)?p:f,R=a.equals(y.token0Mint)?f:p,r.next=43,(0,c.getAssociatedTokenAddress)(y.token0Mint,n);case 43:return N=r.sent,r.next=46,(0,c.getAssociatedTokenAddress)(y.token1Mint,n);case 46:q=r.sent,_=this._context.routerProgram.instruction.addLiquidity(B,j,E,R,{accounts:{user:n,router:this._routerStateAddress,poolAuthority:v,poolState:t,poolBalanceToken0:y.token0Account,poolBalanceToken1:y.token1Account,poolMintLiquidity:y.poolMint,poolBalanceLockedLiquidity:y.poolBalanceLockedLiquidity,userBalanceLiquidity:S,routerAuthority:w,userBalanceToken0:N,userBalanceToken1:q,factoryState:y.factoryAddress,factoryBalanceFeeTo:T,poolProgram:this._context.poolProgram.programId,systemTokenProgram:c.TOKEN_PROGRAM_ID}});case 48:return r.next=50,i.PublicKey.findProgramAddress([t.toBuffer(),e.from("KyberSwapPoolLiquidityToken")],this._context.factoryProgram.programId);case 50:return L=r.sent,C=o(L,1),D=C[0],r.next=55,(0,l.isInitializedTokenAccount)(this._context.anchorProvider.connection,S);case 55:if(r.sent){r.next=59;break}U=[(0,c.createAssociatedTokenAccountInstruction)(n,S,n,D),_],r.next=60;break;case 59:U=[_];case 60:return r.abrupt("return",(new i.Transaction).add(...U));case 61:case"end":return r.stop()}}),s,this)})))}addLiquidityNewPool(t,n,a,p,f,g,y,h,k){var v=arguments.length>9&&void 0!==arguments[9]&&arguments[9];return s(this,void 0,void 0,r().mark((function s(){var b,T,S,w,_,A,O,x,I,P,M,B,j,E,R,N,q,L,C,D,U,K,F,W,H,Z,z,V,G,Y,J,X,Q,$,ee,te,ne,re,oe,se,ae,ie,ue;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!v){r.next=3;break}if(n.equals(d.WSOL.mint)||a.equals(d.WSOL.mint)){r.next=3;break}throw"the given pool does not contain Wrapped SOL token, please set preferNativeToken to false";case 3:return r.next=5,this._context.routerProgram.account.router.fetch(this._routerStateAddress);case 5:return b=r.sent,r.next=8,this._context.factoryProgram.account.factory.fetch(b.factoryAddress);case 8:return T=r.sent,S=(0,l.sortedTokens)(n,a),w=o(S,2),_=w[0],A=w[1],r.next=12,(0,l.getNextPoolStateAddress)(this._context,n,a,(0,l.isAmplifiedPool)(p));case 12:return O=r.sent,r.next=15,i.PublicKey.findProgramAddress([O.toBuffer()],this._context.poolProgram.programId);case 15:return x=r.sent,I=o(x,1),P=I[0],r.next=20,i.PublicKey.findProgramAddress([O.toBuffer(),e.from("KyberSwapPoolBalanceToken0")],this._context.factoryProgram.programId);case 20:return M=r.sent,B=o(M,1),j=B[0],r.next=25,i.PublicKey.findProgramAddress([O.toBuffer(),e.from("KyberSwapPoolBalanceToken1")],this._context.factoryProgram.programId);case 25:return E=r.sent,R=o(E,1),N=R[0],r.next=30,i.PublicKey.findProgramAddress([O.toBuffer(),e.from("KyberSwapPoolLiquidityToken")],this._context.factoryProgram.programId);case 30:return q=r.sent,L=o(q,1),C=L[0],r.next=35,i.PublicKey.findProgramAddress([O.toBuffer(),e.from("KyberSwapPoolLiquidityBalance")],this._context.factoryProgram.programId);case 35:return D=r.sent,U=o(D,1),K=U[0],r.next=40,i.PublicKey.findProgramAddress([O.toBuffer(),e.from("KyberSwapPoolLockedLiquidity")],this._context.factoryProgram.programId);case 40:return F=r.sent,W=o(F,1),H=W[0],r.next=45,(0,c.getAssociatedTokenAddress)(C,t);case 45:return Z=r.sent,r.next=48,(0,c.getAssociatedTokenAddress)(C,T.feeTo);case 48:return z=r.sent,r.next=51,this.getDelegatingAddress();case 51:if(V=r.sent,G=[],T.feeTo.equals(t)||G.push((0,c.createAssociatedTokenAccountInstruction)(t,Z,t,C)),!v){r.next=66;break}return J=n.equals(d.WSOL.mint)?a:n,X=n.equals(J)?g:y,Q=n.equals(J)?y:g,$=n.equals(J)?h:k,ee=n.equals(J)?k:h,r.next=62,(0,c.getAssociatedTokenAddress)(J,t);case 62:te=r.sent,Y=this._context.routerProgram.instruction.addLiquiditySol(X,Q,$,ee,{accounts:{router:this._routerStateAddress,user:t,routerAuthority:V,userBalanceToken:te,poolProgram:this._context.poolProgram.programId,systemProgram:i.SystemProgram.programId,poolState:O,poolAuthority:P,poolBalanceToken0:j,poolBalanceToken1:N,poolMintLiquidity:C,poolBalanceLockedLiquidity:H,userBalanceLiquidity:Z,factoryState:b.factoryAddress,factoryBalanceFeeTo:z,systemTokenProgram:c.TOKEN_PROGRAM_ID}}),r.next=77;break;case 66:return ne=n.equals(_)?g:y,re=n.equals(_)?y:g,oe=n.equals(_)?h:k,se=n.equals(_)?k:h,r.next=72,(0,c.getAssociatedTokenAddress)(_,t);case 72:return ae=r.sent,r.next=75,(0,c.getAssociatedTokenAddress)(A,t);case 75:ie=r.sent,Y=this._context.routerProgram.instruction.addLiquidity(ne,re,oe,se,{accounts:{user:t,router:this._routerStateAddress,poolAuthority:P,poolState:O,poolBalanceToken0:j,poolBalanceToken1:N,poolMintLiquidity:C,poolBalanceLockedLiquidity:H,routerAuthority:V,userBalanceLiquidity:Z,userBalanceToken0:ae,userBalanceToken1:ie,factoryState:b.factoryAddress,factoryBalanceFeeTo:z,poolProgram:this._context.poolProgram.programId,systemTokenProgram:c.TOKEN_PROGRAM_ID}});case 77:return r.t0=this._context.factoryProgram.instruction,r.t1=new u.BN(p),r.t2=new u.BN(f),r.t3=t,r.t4=b.factoryAddress,r.next=84,(0,l.getTokenPairAddress)(this._context,n,a);case 84:return r.t5=r.sent,r.t6=O,r.t7=P,r.t8=_,r.t9=A,r.t10=j,r.t11=N,r.t12=m.INCINERATOR,r.t13=C,r.t14=K,r.t15=H,r.t16=z,r.t17=T.feeTo,r.t18=this._context.poolProgram.programId,r.t19=c.TOKEN_PROGRAM_ID,r.t20=c.ASSOCIATED_TOKEN_PROGRAM_ID,r.t21=i.SystemProgram.programId,r.t22=i.SYSVAR_RENT_PUBKEY,r.t23={payer:r.t3,factoryState:r.t4,tokenPair:r.t5,poolState:r.t6,poolAuthority:r.t7,token0Mint:r.t8,token1Mint:r.t9,poolBalanceToken0:r.t10,poolBalanceToken1:r.t11,incinerator:r.t12,poolMint:r.t13,poolBalanceLiquidity:r.t14,poolBalanceLockedLiquidity:r.t15,factoryBalanceFeeTo:r.t16,factoryFeeTo:r.t17,poolProgram:r.t18,tokenProgram:r.t19,associatedTokenProgram:r.t20,systemProgram:r.t21,rent:r.t22},r.t24={accounts:r.t23},r.t25=r.t0.createPool.call(r.t0,r.t1,r.t2,r.t24),r.t26=G,r.t27=[Y],ue=[r.t25,...r.t26,...r.t27],r.abrupt("return",(new i.Transaction).add(...ue));case 109:case"end":return r.stop()}}),s,this)})))}removeLiquidity(t,n,a,u,l,m){var p=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return s(this,void 0,void 0,r().mark((function s(){var f,g,y,h,k,v,b,T,S,w,_,A,O,x,I,P,M,B,j,E;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this._context.poolProgram.account.pool.fetch(t);case 2:if(f=r.sent,a.equals(f.token0Mint)||a.equals(f.token1Mint)){r.next=5;break}throw"the given pool does not contain token ".concat(a.toBase58());case 5:if(!p){r.next=8;break}if(f.token0Mint.equals(d.WSOL.mint)||f.token1Mint.equals(d.WSOL.mint)){r.next=8;break}throw"the given pool does not contain Wrapped SOL token, please set preferNativeToken to false";case 8:return r.next=10,i.PublicKey.findProgramAddress([t.toBuffer()],this._context.poolProgram.programId);case 10:return g=r.sent,y=o(g,1),h=y[0],r.next=15,this._context.factoryProgram.account.factory.fetch(f.factoryAddress);case 15:return k=r.sent,r.next=18,(0,c.getAssociatedTokenAddress)(f.poolMint,k.feeTo);case 18:return v=r.sent,r.next=21,(0,c.getAssociatedTokenAddress)(f.poolMint,n);case 21:return b=r.sent,r.next=24,this.getDelegatingAddress();case 24:if(T=r.sent,!p){r.next=40;break}return w=f.token0Mint.equals(d.WSOL.mint)?f.token1Mint:f.token0Mint,_=a.equals(w)?l:m,A=a.equals(w)?m:l,r.next=31,(0,c.getAssociatedTokenAddress)(w,n);case 31:return O=r.sent,r.next=34,i.PublicKey.findProgramAddress([e.from("WSOLUnwrapper")],this._context.routerProgram.programId);case 34:x=r.sent,I=o(x,1),P=I[0],S=this._context.routerProgram.instruction.removeLiquiditySol(u,_,A,{accounts:{router:this._routerStateAddress,user:n,routerAuthority:T,userBalanceLiquidity:b,routerBalanceWsol:P,wrappedSol:d.WSOL.mint,poolProgram:this._context.poolProgram.programId,systemProgram:i.SystemProgram.programId,rent:i.SYSVAR_RENT_PUBKEY,poolState:t,poolAuthority:h,poolBalanceToken0:f.token0Account,poolBalanceToken1:f.token1Account,poolMintLiquidity:f.poolMint,poolBalanceLiquidity:f.poolBalanceLiquidity,userBalanceToken:O,factoryState:f.factoryAddress,factoryBalanceFeeTo:v,systemTokenProgram:c.TOKEN_PROGRAM_ID}}),r.next=49;break;case 40:return M=a.equals(f.token0Mint)?l:m,B=a.equals(f.token0Mint)?m:l,r.next=44,(0,c.getAssociatedTokenAddress)(f.token0Mint,n);case 44:return j=r.sent,r.next=47,(0,c.getAssociatedTokenAddress)(f.token1Mint,n);case 47:E=r.sent,S=this._context.routerProgram.instruction.removeLiquidity(u,M,B,{accounts:{user:n,router:this._routerStateAddress,routerAuthority:T,userBalanceLiquidity:b,poolProgram:this._context.poolProgram.programId,poolState:t,poolAuthority:h,poolBalanceToken0:f.token0Account,poolBalanceToken1:f.token1Account,poolMintLiquidity:f.poolMint,poolBalanceLiquidity:f.poolBalanceLiquidity,userBalanceToken0:j,userBalanceToken1:E,factoryState:f.factoryAddress,factoryBalanceFeeTo:v,systemTokenProgram:c.TOKEN_PROGRAM_ID}});case 49:return r.abrupt("return",(new i.Transaction).add(S));case 50:case"end":return r.stop()}}),s,this)})))}swap(e,t,n){return s(this,void 0,void 0,r().mark((function o(){var s,a,i,u;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:s=t.inputAmount.currency.isNative,a=t.outputAmount.currency.isNative,(0,p.default)(!(s&&a),"SOL_IN_OUT"),i=t.maximumAmountIn(n.allowedSlippage).quotientBN,u=t.minimumAmountOut(n.allowedSlippage).quotientBN,r.t0=t.tradeType,r.next=r.t0===f.TradeType.EXACT_INPUT?8:r.t0===f.TradeType.EXACT_OUTPUT?17:26;break;case 8:if(!s){r.next=14;break}return r.next=11,this.swapExactSOLForTokens(e,t.route,i,u);case 11:case 16:case 20:case 25:return r.abrupt("return",r.sent);case 14:return r.next=16,this.swapExactTokensForTokensOrSOL(e,t.route,i,u,!a);case 17:if(!s){r.next=23;break}return r.next=20,this.swapSOLForExactTokens(e,t.route,u,i);case 23:return r.next=25,this.swapTokensForExactTokensOrSOL(e,t.route,u,i,!a);case 26:case"end":return r.stop()}}),o,this)})))}swapExactTokensForTokensOrSOL(t,n,o,a,u){return s(this,void 0,void 0,r().mark((function s(){var d,l;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=this._context.routerProgram.instruction,r.t1=o,r.t2=a,r.t3=e.from(n.tradeDirections),r.t4=t,r.t5=this._routerStateAddress,r.next=8,this.getDelegatingAddress();case 8:return r.t6=r.sent,r.t7=this._context.poolProgram.programId,r.next=12,(0,c.getAssociatedTokenAddress)(n.path[0].mint,t);case 12:return r.t8=r.sent,r.t9=n.pairs[0].token0.equals(n.path[0])?n.pairs[0].token0Account:n.pairs[0].token1Account,r.t10=c.TOKEN_PROGRAM_ID,r.t11={user:r.t4,router:r.t5,routerAuthority:r.t6,poolProgram:r.t7,userBalanceTokenIn:r.t8,firstPoolBalanceTokenIn:r.t9,systemTokenProgram:r.t10},r.t12=n.accountMetas,r.t13={accounts:r.t11,remainingAccounts:r.t12},r.t14=r.t0.prepareForSwapExactTokensForTokens.call(r.t0,r.t1,r.t2,r.t3,r.t13),d=[r.t14],r.next=22,this.makeSwapInstructions(t,n,u);case 22:return l=r.sent,r.abrupt("return",(new i.Transaction).add(...d,...l));case 24:case"end":return r.stop()}}),s,this)})))}swapExactSOLForTokens(t,n,o,a){return s(this,void 0,void 0,r().mark((function s(){var u,l;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return u=[this._context.routerProgram.instruction.prepareForSwapExactSolForTokens(o,a,e.from(n.tradeDirections),{accounts:{user:t,router:this._routerStateAddress,poolProgram:this._context.poolProgram.programId,firstPoolBalanceWsol:n.pairs[0].token0.equals(d.WSOL)?n.pairs[0].token0Account:n.pairs[0].token1Account,systemTokenProgram:c.TOKEN_PROGRAM_ID,systemProgram:i.SystemProgram.programId},remainingAccounts:n.accountMetas})],r.next=3,this.makeSwapInstructions(t,n,!0);case 3:return l=r.sent,r.abrupt("return",(new i.Transaction).add(...u,...l));case 5:case"end":return r.stop()}}),s,this)})))}swapTokensForExactTokensOrSOL(t,n,o,a,u){return s(this,void 0,void 0,r().mark((function s(){var d,l;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=this._context.routerProgram.instruction,r.t1=o,r.t2=a,r.t3=e.from(n.tradeDirections),r.t4=t,r.t5=this._routerStateAddress,r.next=8,this.getDelegatingAddress();case 8:return r.t6=r.sent,r.t7=this._context.poolProgram.programId,r.next=12,(0,c.getAssociatedTokenAddress)(n.path[0].mint,t);case 12:return r.t8=r.sent,r.t9=n.pairs[0].token0.equals(n.path[0])?n.pairs[0].token0Account:n.pairs[0].token1Account,r.t10=c.TOKEN_PROGRAM_ID,r.t11={user:r.t4,router:r.t5,routerAuthority:r.t6,poolProgram:r.t7,userBalanceTokenIn:r.t8,firstPoolBalanceTokenIn:r.t9,systemTokenProgram:r.t10},r.t12=n.accountMetas,r.t13={accounts:r.t11,remainingAccounts:r.t12},r.t14=r.t0.prepareForSwapTokensForExactTokens.call(r.t0,r.t1,r.t2,r.t3,r.t13),d=[r.t14],r.next=22,this.makeSwapInstructions(t,n,u);case 22:return l=r.sent,r.abrupt("return",(new i.Transaction).add(...d,...l));case 24:case"end":return r.stop()}}),s,this)})))}swapSOLForExactTokens(t,n,o,a){return s(this,void 0,void 0,r().mark((function s(){var u,l;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return u=[this._context.routerProgram.instruction.prepareForSwapSolForExactTokens(o,a,e.from(n.tradeDirections),{accounts:{user:t,router:this._routerStateAddress,poolProgram:this._context.poolProgram.programId,firstPoolBalanceWsol:n.pairs[0].token0.equals(d.WSOL)?n.pairs[0].token0Account:n.pairs[0].token1Account,systemTokenProgram:c.TOKEN_PROGRAM_ID,systemProgram:i.SystemProgram.programId},remainingAccounts:n.accountMetas})],r.next=3,this.makeSwapInstructions(t,n,!0);case 3:return l=r.sent,r.abrupt("return",(new i.Transaction).add(...u,...l));case 5:case"end":return r.stop()}}),s,this)})))}makeSwapInstructions(e,t,n){return s(this,void 0,void 0,r().mark((function o(){var s,a,u,m,p;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=t.tradeDirections,r.next=3,(0,c.getAssociatedTokenAddress)(t.path[t.path.length-1].mint,e);case 3:for(a=r.sent,u=[],m=0;m<t.pairs.length-1;m+=1)p=t.pairs[m+1].token0.equals(t.path[m+1])?t.pairs[m+1].token0Account:t.pairs[m+1].token1Account,u.push(this._context.poolProgram.instruction.swap2(s[m],{accounts:{poolState:t.pairs[m].address,poolAuthority:t.pairs[m].authority,userBalanceTo:p,poolBalanceToken0:t.pairs[m].token0Account,poolBalanceToken1:t.pairs[m].token1Account,systemTokenProgram:c.TOKEN_PROGRAM_ID}}));if(!n){r.next=14;break}return r.next=9,(0,l.isInitializedTokenAccount)(this._context.anchorProvider.connection,a);case 9:r.sent||u.push((0,c.createAssociatedTokenAccountInstruction)(e,a,e,t.path[t.path.length-1].mint)),u.push(this._context.poolProgram.instruction.swap2(s[t.pairs.length-1],{accounts:{poolState:t.pairs[t.pairs.length-1].address,poolAuthority:t.pairs[t.pairs.length-1].authority,userBalanceTo:a,poolBalanceToken0:t.pairs[t.pairs.length-1].token0Account,poolBalanceToken1:t.pairs[t.pairs.length-1].token1Account,systemTokenProgram:c.TOKEN_PROGRAM_ID}})),r.next=37;break;case 14:return r.t0=u,r.t1=this._context.routerProgram.instruction,r.t2=e,r.t3=this._routerStateAddress,r.next=20,this.getDelegatingAddress();case 20:return r.t4=r.sent,r.next=23,this.getWSOLUnwrapper();case 23:r.t5=r.sent,r.t6=this._context.poolProgram.programId,r.t7=d.WSOL.mint,r.t8=i.SystemProgram.programId,r.t9=i.SYSVAR_RENT_PUBKEY,r.t10=t.pairs[t.pairs.length-1].address,r.t11=t.pairs[t.pairs.length-1].authority,r.t12=t.pairs[t.pairs.length-1].token0Account,r.t13=t.pairs[t.pairs.length-1].token1Account,r.t14=c.TOKEN_PROGRAM_ID,r.t15={user:r.t2,router:r.t3,routerAuthority:r.t4,routerBalanceWsol:r.t5,poolProgram:r.t6,wrappedSol:r.t7,systemProgram:r.t8,rent:r.t9,poolState:r.t10,poolAuthority:r.t11,poolBalanceToken0:r.t12,poolBalanceToken1:r.t13,systemTokenProgram:r.t14},r.t16={accounts:r.t15},r.t17=r.t1.swapToSol.call(r.t1,r.t16),r.t0.push.call(r.t0,r.t17);case 37:return r.abrupt("return",u);case 38:case"end":return r.stop()}}),o,this)})))}}t.Router=g,g.ADD_LIQUIDITY_NEW_POOL_COMPUTE_BUDGET=5e5}).call(this,n("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer)},"./node_modules/@kyberswap/ks-sdk-solana/dist/src/utils.js":function(e,t,n){"use strict";(function(e){var r=n("./node_modules/@babel/runtime/helpers/regeneratorRuntime.js").default,o=n("./node_modules/@babel/runtime/helpers/slicedToArray.js").default,s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function a(e){try{u(r.next(e))}catch(t){s(t)}}function i(e){try{u(r.throw(e))}catch(t){s(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BNtoJSBI=t.currencyEquals=t.sortedTokens=t.isInitializedTokenAccount=t.sortedInsert=t.parseBigintIsh=t.approveTokenForRouter=t.sendAndConfirmTransaction=t.createUserAssociatedTokenAccount=t.isAmplifiedPool=t.getPoolAddressByTokenPairNonce=t.getAmplifiedPoolAddress=t.getUnamplifiedPoolAddress=t.getNextPoolStateAddress=t.getTokenPairAddress=t.sqrt=t.validateRustTypeValue=void 0;var i=n("./node_modules/@project-serum/anchor/dist/browser/index.js"),u=n("./node_modules/@solana/web3.js/lib/index.browser.esm.js"),c=n("./node_modules/@kyberswap/ks-sdk-solana/dist/src/constants.js"),d=n("./node_modules/@kyberswap/ks-sdk-solana/node_modules/@solana/spl-token/lib/esm/index.js"),l=a(n("./node_modules/tiny-invariant/dist/tiny-invariant.esm.js")),m=n("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),p=a(n("./node_modules/jsbi/dist/jsbi-umd.js"));function f(e,t){(0,l.default)(e.gte(c.ZERO),"".concat(e," is not a ").concat(t,".")),(0,l.default)(e.lte(c.RUST_TYPE_MAXIMA[t]),"".concat(e," is not a ").concat(t,"."))}function g(t,n,a){return s(this,void 0,void 0,r().mark((function s(){var i,c,d,l,m,p,f;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=k(n,a),c=o(i,2),d=c[0],l=c[1],r.next=3,u.PublicKey.findProgramAddress([e.from("KyberSwapTokenPair"),d.toBuffer(),l.toBuffer()],t.factoryProgram.programId);case 3:return m=r.sent,p=o(m,1),f=p[0],r.abrupt("return",f);case 7:case"end":return r.stop()}}),s)})))}function y(t,n,a,i){return s(this,void 0,void 0,r().mark((function s(){var c,d,l,m,p,f,g;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=k(n,a),d=o(c,2),l=d[0],m=d[1],r.next=3,u.PublicKey.findProgramAddress([e.from("KyberSwapPool"),l.toBuffer(),m.toBuffer(),i.toArrayLike(e,"le",8)],t.factoryProgram.programId);case 3:return p=r.sent,f=o(p,1),g=f[0],r.abrupt("return",g);case 7:case"end":return r.stop()}}),s)})))}function h(e,t){return s(this,void 0,void 0,r().mark((function n(){var o,s;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.connection.getLatestBlockhash();case 2:return o=n.sent,t.feePayer=e.wallet.publicKey,t.recentBlockhash=o.blockhash,t.lastValidBlockHeight=o.lastValidBlockHeight,n.next=8,e.wallet.signTransaction(t);case 8:return t=n.sent,n.prev=9,n.next=12,e.connection.sendRawTransaction(t.serialize());case 12:return s=n.sent,n.next=15,e.connection.confirmTransaction(Object.assign({signature:s},o));case 15:return n.abrupt("return",s);case 18:throw n.prev=18,n.t0=n.catch(9),n.t0;case 21:case"end":return n.stop()}}),n,null,[[9,18]])})))}function k(e,t){return new i.BN(e.toBytes()).gt(new i.BN(t.toBytes()))?[t,e]:[e,t]}t.validateRustTypeValue=f,t.sqrt=function(e){f(e,c.RustType.U256);var t,n=c.ZERO;if(e.gt(c.THREE))for(n=e,t=e.div(c.TWO).add(c.ONE);t.lt(n);)n=t,t=e.div(t).add(t).div(c.TWO);else e.eq(c.ZERO)||(n=c.ONE);return n},t.getTokenPairAddress=g,t.getNextPoolStateAddress=function(e,t,n,o){return s(this,void 0,void 0,r().mark((function s(){var a,u;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o){r.next=4;break}a=new i.BN(0),r.next=18;break;case 4:return r.prev=4,r.t0=e.factoryProgram.account.tokenPair,r.next=8,g(e,t,n);case 8:return r.t1=r.sent,r.next=11,r.t0.fetch.call(r.t0,r.t1);case 11:u=r.sent,a=u.numAmplifiedPools.add(new i.BN(1)),r.next=18;break;case 15:r.prev=15,r.t2=r.catch(4),a=new i.BN(1);case 18:return r.next=20,y(e,t,n,a);case 20:return r.abrupt("return",r.sent);case 21:case"end":return r.stop()}}),s,null,[[4,15]])})))},t.getUnamplifiedPoolAddress=function(e,t,n){return s(this,void 0,void 0,r().mark((function o(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,y(e,t,n,new i.BN(0));case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),o)})))},t.getAmplifiedPoolAddress=function(e,t,n,o){return s(this,void 0,void 0,r().mark((function s(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(o<1)){r.next=2;break}throw"index of amplified pool starts from 1";case 2:return r.next=4,y(e,t,n,new i.BN(o));case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}),s)})))},t.getPoolAddressByTokenPairNonce=y,t.isAmplifiedPool=function(e){if(e<c.AMPLIFICATION_FACTOR_BPS)throw"amplification factor in basis points must be larger than basis points = ".concat(c.AMPLIFICATION_FACTOR_BPS);return e!=c.AMPLIFICATION_FACTOR_BPS},t.createUserAssociatedTokenAccount=function(e,t,n,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:d.TOKEN_PROGRAM_ID,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:d.ASSOCIATED_TOKEN_PROGRAM_ID;return s(this,void 0,void 0,r().mark((function s(){var c,l,m,p;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,d.getAssociatedTokenAddress)(t,n,!1,a,i);case 2:return c=r.sent,r.next=5,e.connection.getLatestBlockhash();case 5:return l=r.sent,m=new u.Transaction(Object.assign({feePayer:e.wallet.publicKey},l)).add((0,d.createAssociatedTokenAccountInstruction)(e.wallet.publicKey,c,n,t,a,i)),r.next=9,e.wallet.signTransaction(m);case 9:return m=r.sent,r.next=12,e.connection.sendRawTransaction(m.serialize(),o);case 12:return p=r.sent,r.next=15,e.connection.confirmTransaction(Object.assign({signature:p},l),null===o||void 0===o?void 0:o.commitment);case 15:return r.abrupt("return",c);case 16:case"end":return r.stop()}}),s)})))},t.sendAndConfirmTransaction=h,t.approveTokenForRouter=function(e,t,n,o){return s(this,void 0,void 0,r().mark((function s(){var a;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=new u.Transaction,r.t1=d.createApproveInstruction,r.next=4,(0,d.getAssociatedTokenAddress)(t,n);case 4:return r.t2=r.sent,r.next=7,e.getDelegatingAddress();case 7:return r.t3=r.sent,r.t4=n,r.t5=BigInt(o.toString()),r.t6=(0,r.t1)(r.t2,r.t3,r.t4,r.t5),a=r.t0.add.call(r.t0,r.t6),r.next=14,h(e.context.anchorProvider,a);case 14:case"end":return r.stop()}}),s)})))},t.parseBigintIsh=function(e){return"bigint"===typeof e?new i.BN(e.toString()):new i.BN(e)},t.sortedInsert=function(e,t,n,r){if((0,l.default)(n>0,"MAX_SIZE_ZERO"),(0,l.default)(e.length<=n,"ITEMS_SIZE"),0===e.length)return e.push(t),null;var o=e.length===n;if(o&&r(e[e.length-1],t)<=0)return t;for(var s=0,a=e.length;s<a;){var i=s+a>>>1;r(e[i],t)<=0?s=i+1:a=i}return e.splice(s,0,t),o?e.pop():null},t.isInitializedTokenAccount=function(e,t){return s(this,void 0,void 0,r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,d.getAccount)(e,t,null,d.TOKEN_PROGRAM_ID);case 3:n.next=9;break;case 5:if(n.prev=5,n.t0=n.catch(0),!(n.t0 instanceof d.TokenAccountNotFoundError||n.t0 instanceof d.TokenInvalidAccountOwnerError)){n.next=9;break}return n.abrupt("return",!1);case 9:return n.abrupt("return",!0);case 10:case"end":return n.stop()}}),n,null,[[0,5]])})))},t.sortedTokens=k,t.currencyEquals=function(e,t){return e instanceof m.Token&&t instanceof m.Token?e.equals(t):!(e instanceof m.Token||t instanceof m.Token)&&e===t};t.BNtoJSBI=e=>p.default.BigInt(e)}).call(this,n("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer)},"./node_modules/react-feather/dist/icons/command.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),s=n("./node_modules/prop-types/index.js"),a=n.n(s);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=Object(r.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,s=e.size,a=void 0===s?24:s,c=u(e,["color","size"]);return o.a.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),o.a.createElement("path",{d:"M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"}))}));c.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},c.displayName="Command",t.a=c},"./node_modules/react-feather/dist/icons/dollar-sign.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),s=n("./node_modules/prop-types/index.js"),a=n.n(s);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=Object(r.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,s=e.size,a=void 0===s?24:s,c=u(e,["color","size"]);return o.a.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),o.a.createElement("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),o.a.createElement("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}))}));c.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},c.displayName="DollarSign",t.a=c},"./node_modules/react-loading-skeleton/dist/index.mjs":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),s=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),a=n("./node_modules/react/index.js"),i=n.n(a),u=["count","wrapper","className","containerClassName","containerTestId","circle","style"],c=i.a.createContext({});function d(e){for(var t,n,a,d=e.count,l=void 0===d?1:d,m=e.wrapper,p=e.className,f=e.containerClassName,g=e.containerTestId,y=e.circle,h=void 0!==y&&y,k=e.style,v=Object(s.a)(e,u),b=i.a.useContext(c),T=Object(o.a)({},v),S=0,w=Object.entries(v);S<w.length;S++){var _=Object(r.a)(w[S],2),A=_[0];"undefined"===typeof _[1]&&delete T[A]}var O=Object(o.a)(Object(o.a)(Object(o.a)({},b),T),{},{circle:h}),x=Object(o.a)(Object(o.a)({},k),function(e){var t=e.baseColor,n=e.highlightColor,r=e.width,o=e.height,s=e.borderRadius,a=e.circle,i=e.direction,u=e.duration,c=e.enableAnimation,d=void 0===c||c,l={};return"rtl"===i&&(l["--animation-direction"]="reverse"),"number"===typeof u&&(l["--animation-duration"]="".concat(u,"s")),d||(l["--pseudo-element-display"]="none"),"string"!==typeof r&&"number"!==typeof r||(l.width=r),"string"!==typeof o&&"number"!==typeof o||(l.height=o),"string"!==typeof s&&"number"!==typeof s||(l.borderRadius=s),a&&(l.borderRadius="50%"),"undefined"!==typeof t&&(l["--base-color"]=t),"undefined"!==typeof n&&(l["--highlight-color"]=n),l}(O)),I="react-loading-skeleton";p&&(I+=" ".concat(p));for(var P=null!==(t=O.inline)&&void 0!==t&&t,M=[],B=Math.ceil(l),j=0;j<B;j++){var E=x;if(B>l&&j===B-1){var R=null!==(n=E.width)&&void 0!==n?n:"100%",N=l%1,q="number"===typeof R?R*N:"calc(".concat(R," * ").concat(N,")");E=Object(o.a)(Object(o.a)({},E),{},{width:q})}var L=i.a.createElement("span",{className:I,style:E,key:j},"\u200c");P?M.push(L):M.push(i.a.createElement(i.a.Fragment,{key:j},L,i.a.createElement("br",null)))}return i.a.createElement("span",{className:f,"data-testid":g,"aria-live":"polite","aria-busy":null===(a=O.enableAnimation)||void 0===a||a},m?M.map(((e,t)=>i.a.createElement(m,{key:t},e))):M)}},"./node_modules/walktour/dist/index.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return ce})),n.d(t,"a",(function(){return r}));var r,o,s=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),a=n("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),i=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),u=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),c=n("./node_modules/react/jsx-runtime.js"),d=n("./node_modules/react/index.js"),l=n("./node_modules/react-dom/index.js"),m='a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, [tabindex]:not([tabindex^="-"]):not([disabled]), [contenteditable]';function p(e){return{x:e.scrollLeft,y:e.scrollTop}}function f(e,t){var n=p(e);return{x:t.x+n.x,y:t.y+n.y}}function g(e,t){if(t&&e){if(j(e))return f(e,t);var n=P(e);return f(e,{x:t.x-n.x,y:t.y-n.y})}}function y(e,t,n){return{x:e.x+t.width/2-n.width/2,y:e.y+t.height/2-n.height/2}}function h(e,t,n,r,o){if(e&&t&&n){var s=r||P(t),a=o||P(n),i=E(s,M(t),a,M(n));return k(e,i.coords,i.dims)}}function k(e,t,n){return y(t,n,K(e))}function v(e,t){var n=M(t);return k(e,P(t),n)}function b(e,t,n){if(e)return y(n||Z(e),K(e),t?M(t):{height:0,width:0})}function T(e,t,n,o){var s=b(e,t),a=s,i=r=>!o||G(e,n)&&G(e,t,r,!0)?s:b(e,t,Y(e,h(e,t,n,r)));return(e,t,n,o)=>{if(t.orientation===r.CENTER)return n===o.length-1&&void 0===e?t:e;if(void 0===e)return a=i(t.coords),t;var s=i(t.coords);return I(s,t.coords)>I(a,e.coords)?e:(a=s,t)}}function S(e,t,n,r,o){if(1===e.length)return e[0];if(o)return e.reduce(T(t,n,r,!1),void 0);var s=K(t),a=z(t),i=Z(t),u=V(t),c=M(n),d=M(r),l=P(r),m=e=>E(e,c,l,d),p=e.filter(function(e,t,n){return r=>{var o=r.coords;return!(o.x<t.x||o.y<t.y||o.x+e.width>n.x||o.y+e.height>n.y)}}(c,a,u)),f=p.filter(function(e,t){return n=>{var r=n.coords;return R(e(r).dims,t)}}(m,s)),g=f.filter(function(e,t,n){return r=>{var o=r.coords,s=e(o),a=s.dims,i=s.coords;return N(a,t,i,n)}}(m,s,i)),y=g.length>0?g:f;return(y.length>0?y:p).reduce(T(t,n,r,!0),void 0)}function w(e,t,n,r){if(!e)return t;var o=p(e),s=K(e),a=o.x+s.width,i=o.y+s.height,u=o.x+r,c=o.y+r,d=a-n.width-r,l=i-n.height-r,m=t.x,f=t.y;return t.x<u?m=u:t.x+n.width>d&&(m=d),t.y<c?f=c:t.y+n.height>l&&(f=l),{x:m,y:f}}function _(e){var t=e.target,n=e.tooltip,o=e.padding,s=e.tooltipSeparation,a=e.orientationPreferences,i=e.getPositionFromCandidates,u=e.root,c=e.disableAutoScroll,d=e.allowForeignTarget,l=e.selector,m=t?b(u,n,Y(u,v(u,t))):b(u,n),p=g(u,m);if(n&&u){if(!t)return{orientation:null,coords:p};var f=d&&C(u,l),h=c||f,k=function(e,t,n,o,s){if(e&&t){var a,i=M(t),u=P(e),c=M(e),d=u.x-(i.width-c.width)/2,l=u.y-(i.height-c.height)/2,m=u.x+c.width+n+o,p=u.y+c.height+n+o,f=u.x-i.width-n-o,g=u.y-i.height-n-o,h={x:m,y:l},k={x:d,y:p},v={x:f,y:l},b={x:d,y:g},T=y(u,c,i),S=[{orientation:r.EAST,coords:h},{orientation:r.SOUTH,coords:k},{orientation:r.WEST,coords:v},{orientation:r.NORTH,coords:b}];if(s){var w=u.x-(i.width-c.width)+n,_=u.y-(i.height-c.height)+n,A=u.x-n,O=u.y-n,x={x:m,y:O},I={x:m,y:_},B={x:w,y:p},j={x:A,y:p},E={x:f,y:_},R={x:f,y:O},N={x:A,y:g},q={x:w,y:g};a=[{orientation:r.EASTNORTH,coords:x},{orientation:r.EASTSOUTH,coords:I},{orientation:r.SOUTHEAST,coords:B},{orientation:r.SOUTHWEST,coords:j},{orientation:r.WESTSOUTH,coords:E},{orientation:r.WESTNORTH,coords:R},{orientation:r.NORTHWEST,coords:N},{orientation:r.NORTHEAST,coords:q}]}return[...S,...a,{orientation:r.CENTER,coords:T}]}}(t,n,o,s,!0),T=(i||(e=>S(e,u,n,t,h)))(function(e,t){if(t&&0!==t.length){if(1===t.length){var n=e.find((e=>e.orientation===t[0]));return n?[n]:e}return e.filter((e=>-1!==t.indexOf(e.orientation)))}return e}(k,a));if(!T)return{orientation:r.CENTER,coords:p};var _={orientation:T.orientation,coords:g(u,T.coords)};return f?{orientation:_.orientation,coords:w(u,_.coords,M(n),o+s)}:_}}function A(e,t){return g(e,P(t))}function O(e){return!!e&&!(!e.x&&0!==e.x||!e.y&&0!==e.y)}function x(e){return!!e&&(!(!e.height&&0!==e.height||!e.width&&0!==e.height)&&!(e.height<0||e.width<0))}function I(e,t){if(O(e)&&O(t))return Math.sqrt(Math.pow(Math.abs(e.x-t.x),2)+Math.pow(Math.abs(e.y-t.y),2))}function P(e){if(e){var t=e.getBoundingClientRect();return{x:t.left,y:t.top}}}function M(e){if(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height}}}function B(e){var t,n=/(auto|scroll)/,r=(e,t)=>getComputedStyle(e,null).getPropertyValue(t);return!e||j(e)?function(){var e=window.pageYOffset;return document.documentElement.scrollTop=e+1,window.pageXOffset>e?(document.documentElement.scrollTop=e,document.documentElement):document.scrollingElement||document.body}():(t=e,n.test(r(t,"overflow")+r(t,"overflow-y")+r(t,"overflow-x"))?e:B(e.parentElement))}function j(e){return e.isSameNode(document.body)||e.isSameNode(document.scrollingElement)||e.isSameNode(document.documentElement)}function E(e,t,n,r){var o=(e,t)=>({left:e.x,right:e.x+t.width,top:e.y,bottom:e.y+t.height}),s=(e,t,n)=>e>t?n?e:t:n?t:e,a=o(e,t),i=o(n,r),u=s(a.left,i.left,!1),c=s(a.right,i.right,!0),d=s(a.top,i.top,!1);return{coords:{x:u,y:d},dims:{height:s(a.bottom,i.bottom,!0)-d,width:c-u}}}function R(e,t){return!(!x(e)||!x(t))&&(e.height<=t.height&&e.width<=t.width)}function N(e,t,n,r){if(!x(e)||!x(t))return!1;var o=O(n)?n:{x:0,y:0},s=O(r)?r:{x:0,y:0},a=R(e,t),i=o.x>=s.x&&o.x+e.width<=s.x+t.width,u=o.y>=s.y&&o.y+e.height<=s.y+t.height;return a&&i&&u}function q(e,t,n){if(t){var r=function(e,t){var n=e.querySelectorAll(m),r=[];return t&&e.matches(m)&&r.push(e),n.length>0&&n.forEach((e=>r.push(e))),r}(t,n);if(r.length>0)return{start:r[0],end:r[r.length-1]}}return{start:e,end:e}}function L(e,t){if(e&&t){var n=M(t);return{coords:A(e,t),dims:n}}}function C(e,t){return!e.querySelector(t)}function D(e){return e.clientHeight}function U(e){return e.clientWidth}function K(e){return{width:U(e),height:D(e)}}function F(e){return e.scrollHeight}function W(e){return e.scrollWidth}function H(e){return{width:W(e),height:F(e)}}function Z(e){return j(e)?{x:0,y:0}:P(e)}function z(e){var t=p(e),n=Z(e);return{x:n.x-t.x,y:n.y-t.y}}function V(e){var t=z(e),n=H(e),r=n.width,o=n.height;return{x:t.x+r,y:t.y+o}}function G(e,t,n,r){if(!e||!t)return!1;var o=n&&(r?g(e,n):n)||g(e,P(t)),s=M(t),a=g(e,Z(e));return N(s,K(e),o,a)}function Y(e,t){var n=K(e),r=z(e),o=V(e),s=o.x-n.width,a=o.y-n.height,i=t;return t.x<r.x?i.x=r.x:t.x>s?i.x=s:i.x=t.x,t.y<r.y?i.y=r.y:t.y>a?i.y=a:i.y=t.y,i}function J(e){var t=e.targetInfo,n=e.disableMaskInteraction,r=e.padding,o=e.tourRoot,s=e.close,a=e.disableCloseOnClick,i=e.maskId,u=H(o),d=u.width,l=u.height,m="clip-path-".concat(i),p={height:l,width:d,pointerEvents:n?"auto":"none"};return Object(c.jsxs)("svg",{style:p,children:[t&&Object(c.jsx)("defs",{children:Object(c.jsx)("clipPath",{id:m,children:Object(c.jsx)("polygon",{points:(e=>{if(!e)return"";var t=e.dims,n=e.coords,o=n.y-r,s=n.x-r,a=n.x+t.width+r,i=n.y+t.height+r;return"0 0, \n            0 ".concat(l,", \n            ").concat(s," ").concat(l,", \n            ").concat(s," ").concat(o,", \n            ").concat(a," ").concat(o,", \n            ").concat(a," ").concat(i,", \n            ").concat(s," ").concat(i,", \n            ").concat(s," ").concat(l,", \n            ").concat(d," ").concat(l,", \n            ").concat(d," 0")})(t)})})}),Object(c.jsx)("rect",{onClick:a?void 0:s,x:0,y:0,width:d,height:l,fill:"black",fillOpacity:.3,pointerEvents:"auto",clipPath:t?"url(#".concat(m,")"):void 0})]})}(o=r||(r={})).EAST="east",o.SOUTH="south",o.WEST="west",o.NORTH="north",o.CENTER="center",o.EASTNORTH="east-north",o.EASTSOUTH="east-south",o.SOUTHEAST="south-east",o.SOUTHWEST="south-west",o.WESTSOUTH="west-south",o.WESTNORTH="west-north",o.NORTHWEST="north-west",o.NORTHEAST="north-east";var X={cursor:"pointer",padding:"4px 16px",textAlign:"center",border:0,borderRadius:3,backgroundColor:"#0084ff",color:"#fff",fontSize:14,margin:4},Q={tooltip:{display:"flex",flexDirection:"column",zIndex:9999,fontFamily:"Roboto, sans-serif",fontSize:14,backgroundColor:"white",padding:"10px 10px 5px 10px",borderRadius:"5px",boxShadow:"0 3px 8px 0 rgba(0,0,0,.25)",color:"#4d4d4d",minWidth:215,maxWidth:285},footer:{display:"flex",justifyContent:"center",marginTop:4},title:{margin:4,fontSize:24},description:{margin:4},primaryButton:Object(u.a)(Object(u.a)({},X),{},{backgroundColor:"#0084ff",color:"#ffffff"}),secondaryButton:Object(u.a)(Object(u.a)({},X),{},{backgroundColor:"#8400ff",color:"#fff",border:"solid 1px #8400ff"}),tertiaryButton:Object(u.a)(Object(u.a)({},X),{},{marginRight:"auto",backgroundColor:"transparent",color:"#025c53",border:"solid 1px #025c53"}),disabledButton:Object(u.a)(Object(u.a)({},X),{},{backgroundColor:"#bebebe",color:"#989898",cursor:"default"})};function $(e){var t=Object(u.a)({styles:Q},e),n=t.next,r=t.prev,o=t.close,s=t.stepContent,a=s.title,i=s.description,d=s.customTitleRenderer,l=s.customDescriptionRenderer,m=s.customFooterRenderer,p=s.disableClose,f=s.disableNext,g=s.disablePrev,y=s.nextLabel,h=s.prevLabel,k=s.closeLabel,v=t.stepIndex,b=t.allSteps,T=t.styles,S=Object(u.a)({},T.tooltip),w=void 0!==g?g:0===v,_=void 0!==f?f:v+1===b.length;return Object(c.jsxs)("div",{style:S,children:[d?d(a,e):a&&Object(c.jsx)("div",{style:T.title,children:a}),l?l(i,e):Object(c.jsx)("div",{style:T.description,children:i}),m?m(e):Object(c.jsxs)("div",{style:T.footer,children:[Object(c.jsx)("button",{onClick:()=>o(),style:Object(u.a)(Object(u.a)({},T.tertiaryButton),p&&T.disabledButton),disabled:p,children:k||"close"}),Object(c.jsx)("button",{onClick:r,disabled:w,style:Object(u.a)(Object(u.a)({},T.secondaryButton),w&&T.disabledButton),children:h||"prev"}),Object(c.jsx)("button",{onClick:()=>n(),disabled:_,style:Object(u.a)(Object(u.a)({},T.primaryButton),_&&T.disabledButton),children:y||"next"})]})]})}function ee(e,t,n){if(e&&t)if("scrollBehavior"in document.documentElement.style&&!n){var r={top:t.y,left:t.x,behavior:"smooth"};e.scrollTo(r)}else e.scrollTop=t.y,e.scrollLeft=t.x}function te(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];t&&window.clearTimeout(t),t=window.setTimeout((()=>e(...o)),n)}}function ne(e,t){return"".concat(e).concat(t?"-".concat(t):"")}function re(e){var t=e.start,n=e.end,r=e.beforeStart,o=e.afterEnd,s=e.lightningRod;return e=>{9===e.keyCode&&(e.shiftKey&&e.target===t?(e.preventDefault(),r?r.focus():n.focus()):e.shiftKey||e.target!==n?e.target===s&&(e.preventDefault(),t.focus()):(e.preventDefault(),o?o.focus():t.focus()))}}function oe(e){var t=e.root,n=e.tooltip,r=e.target,o=e.disableAutoScroll,s=e.allowForeignTarget,a=e.selector;return!!(t&&n&&r)&&(!o&&(s&&a?!C(t,a):function(e){var t=e.root,n=e.tooltip,r=e.tooltipPosition,o=e.target;return!G(t,n,r)||!G(t,o)&&R(M(o),K(t))}(Object(u.a)({},e))))}function se(e){var t=e.root,n=e.target,r=e.targetCoords,o=e.targetDims,s=e.rerenderTolerance;if(!n&&!r&&!o)return!1;if(!n&&r&&o||n&&!r&&!o)return!0;var a=M(n),i=A(t,n),u=function(e,t){if(x(e)&&x(t))return Math.abs(e.height*e.width-t.height*t.width)}(a,o)>s,c=I(i,r)>s;return u||c}function ae(e){var t=e.root,n=e.tooltip;return!(!t||!n)&&(se(Object(u.a)({},e))||oe(Object(u.a)({},e))||function(e){var t=e.target,n=e.root,r=e.tooltip,o=e.tooltipPosition;return!(t||!n||!r)&&0!==I(_(Object(u.a)({},e)).coords,o)}(Object(u.a)({},e)))}var ie=function(){var e=Object(i.a)(Object(a.a)().mark((function e(t,n){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=7;break}return e.next=3,n();case 3:e.sent&&t(),e.next=8;break;case 7:t();case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ue={maskPadding:5,tooltipSeparation:10,transition:"top 300ms ease, left 300ms ease",disableMaskInteraction:!1,disableCloseOnClick:!1,zIndex:9999,renderTolerance:2,updateInterval:500},ce=e=>{var t,n,r=e.steps,o=e.initialStepIndex,a=e.isOpen,i=void 0!==a,m=Object(d.useState)(void 0==a),p=Object(s.a)(m,2),f=p[0],g=p[1],y=Object(d.useState)(void 0),k=Object(s.a)(y,2),v=k[0],b=k[1],T=Object(d.useState)(void 0),S=Object(s.a)(T,2),w=S[0],O=S[1],x=Object(d.useState)(o||0),I=Object(s.a)(x,2),P=I[0],E=I[1],R=Object(d.useState)(void 0),N=Object(s.a)(R,2),C=N[0],D=N[1],U=Object(d.useRef)([]),K=Object(d.useRef)(void 0),F=Object(d.useRef)(void 0),W=Object(d.useRef)(void 0),H=Object(d.useRef)(void 0),Z=r[P],z=i?a:f,V=Object(u.a)(Object(u.a)(Object(u.a)({},ue),e),Z),G=V.selector,Y=V.maskPadding,X=V.disableMaskInteraction,Q=V.disableCloseOnClick,se=V.tooltipSeparation,ce=V.transition,de=V.orientationPreferences,le=V.customTooltipRenderer,me=V.zIndex,pe=V.rootSelector,fe=V.customNextFunc,ge=V.customPrevFunc,ye=V.customCloseFunc,he=V.disableClose,ke=V.disableNext,ve=V.disablePrev,be=V.disableAutoScroll,Te=V.identifier,Se=V.getPositionFromCandidates,we=V.movingTarget,_e=V.renderTolerance,Ae=V.updateInterval,Oe=V.disableMask,xe=V.setUpdateListener,Ie=V.removeUpdateListener,Pe=V.disableListeners,Me=V.disableSmoothScroll,Be=V.debug,je=V.allowForeignTarget,Ee=V.nextOnTargetClick,Re=V.validateNextOnTargetClick,Ne=V.renderMask;Object(d.useEffect)((()=>Ce),[]),Object(d.useEffect)((()=>{var e;pe&&(e=document.querySelector(pe)),e||(e=B(F.current)),!1!==z&&e!==C&&D(e)}),[pe,F.current,z]),Object(d.useEffect)((()=>{Be&&console.log("walktour debug (".concat(Te?"".concat(Te,", "):"").concat(P,"):"),{"options:":V,"tour logic:":Ue,"previous state/vars:":{isOpenState:f,tourRoot:C,target:v,tooltipPosition:w,targetPosition:W,currentStepIndex:P,targetSize:H}}),K.current&&z?(K.current.focus(),qe()):Ce()}),[P,Z,z,C,K.current]);var qe=()=>{Ce();var e=C,t=K.current;if(!e||!t)return b(null),O(null),W.current=null,void(H.current=null);var n=je?document:e,r=()=>n.querySelector(G),o=r(),s=A(e,o),a=M(o),i=Oe?0:Y,c=_({target:o,tooltip:t,padding:i,tooltipSeparation:se,orientationPreferences:de,root:e,getPositionFromCandidates:Se,disableAutoScroll:be,allowForeignTarget:je,selector:G});b(o),O(c),W.current=s,H.current=a;var d=((e,t,n)=>{if(e){var r,o,s,a=q(e,e),i=a.start,u=a.end,c=q(void 0,t,!0),d=c.start,l=c.end;t&&!n&&d&&l&&(o=d,r=l,s=re({start:d,end:l,beforeStart:u,afterEnd:i}),t.addEventListener("keydown",s));var m=re({start:i,end:u,beforeStart:r,afterEnd:o,lightningRod:e});return e.addEventListener("keydown",m),()=>{t&&t.removeEventListener("keydown",s),e.removeEventListener("keydown",m)}}})(t,o,X);if(U.current.push(d),oe({disableAutoScroll:be,allowForeignTarget:je,selector:G,root:e,target:o,tooltip:t,tooltipPosition:c.coords})&&ee(e,h(e,t,o,c.coords,s),Me),!Pe){var l=()=>{var n=r();ae({root:e,tooltipPosition:c.coords,tooltip:t,target:n,disableAutoScroll:be,rerenderTolerance:_e,targetCoords:W.current,targetDims:H.current,allowForeignTarget:je,selector:G,getPositionFromCandidates:Se,orientationPreferences:de,padding:i,tooltipSeparation:se})&&qe()},m=function(e){var t=Object(u.a)({event:"resize"},e),n=t.update,r=t.customSetListener,o=t.customRemoveListener,s=t.event;return r&&o?(r(n),()=>o(n)):(window.addEventListener(s,n),()=>window.removeEventListener(s,n))}({update:te(l),customSetListener:xe,customRemoveListener:Ie});if(U.current.push(m),we&&(o||G)){var p=function(e,t){var n=window.setInterval(e,t);return()=>window.clearInterval(n)}(l,Ae);U.current.push(p)}if(Ee&&o){var f=((e,t,n)=>{if(e){var r=()=>{ie((()=>{t(!0),e.removeEventListener("click",r)}),n)};return e.addEventListener("click",r),()=>e.removeEventListener("click",r)}})(o,Ue.next,Re);U.current.push(f)}}},Le=e=>{e>=r.length||e<0||E(e)},Ce=()=>{U.current.forEach((e=>e())),U.current=[]},De={next:()=>Le(P+1),prev:()=>Le(P-1),close:e=>(e=>{e&&Le(0),!i&&g(!1),Ce(),v&&v.focus()})(e),goToStep:Le,stepContent:Object(u.a)({},V),stepIndex:P,allSteps:r,tooltipPosition:w},Ue=Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({},De),fe&&{next:e=>fe(De,e)}),ge&&{prev:()=>ge(De)}),ye&&{close:()=>ye(De)}),Ke=e=>{switch(e.key){case"Escape":e.preventDefault(),he||Ue.close();break;case"ArrowRight":e.preventDefault(),ke||Ue.next();break;case"ArrowLeft":e.preventDefault(),ve||Ue.prev()}};if(!z||!Z)return null;var Fe,We={position:"absolute",top:0,left:0,zIndex:me,visibility:w?"visible":"hidden",pointerEvents:"none"},He={position:"absolute",top:null===w||void 0===w||null===(t=w.coords)||void 0===t?void 0:t.y,left:null===w||void 0===w||null===(n=w.coords)||void 0===n?void 0:n.x,transition:ce,pointerEvents:"auto"},Ze=Ne||J,ze=()=>Object(c.jsx)("div",{ref:e=>F.current=e,id:ne("walktour-portal",Te),style:We,children:C&&Object(c.jsxs)(c.Fragment,{children:[!Oe&&Object(c.jsx)(Ze,{maskId:ne("walktour-mask",Te),targetInfo:L(C,v),disableMaskInteraction:X,disableCloseOnClick:Q,padding:Y,tourRoot:C,close:Ue.close}),Object(c.jsx)("div",{ref:e=>K.current=e,id:ne("walktour-tooltip-container",Te),style:He,onKeyDown:Ke,tabIndex:0,children:le?le(Ue):Object(c.jsx)($,Object(u.a)({},Ue))})]})});return C?Object(l.createPortal)(ze(),j(Fe=C)?document.body:Fe):ze()}}}]);
//# sourceMappingURL=vendors~swapv2-page.f2761471.chunk.js.map