(this["webpackJsonp@kyberswap/interface"]=this["webpackJsonp@kyberswap/interface"]||[]).push([[16],{"./src/components/ClassicElasticTab.tsx":function(e,t,o){"use strict";var s=o("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),n=o("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),i=o("./node_modules/@lingui/react/esm/index.js"),r=o("./node_modules/querystring-es3/index.js"),c=o("./node_modules/react-router/esm/react-router.js"),d=o("./node_modules/rebass/dist/index.esm.js"),a=o("./src/constants/v2.ts"),l=o("./src/hooks/index.ts"),b=o("./src/hooks/useMixpanel.ts"),u=o("./src/hooks/useParsedQueryString.ts"),j=o("./src/hooks/useTheme.ts"),m=o("./src/utils/string.ts"),x=o("./src/components/Icons/index.ts"),p=o("./src/components/Tooltip/index.tsx"),h=o("./node_modules/react/jsx-runtime.js"),O=["tab"];t.a=function(){var e=Object(u.a)(),t=e.tab,o=void 0===t?a.c.ELASTIC:t,f=Object(n.a)(e,O),g=Object(m.c)(o,a.c)?o:a.c.ELASTIC,v=Object(b.c)().mixpanelHandler,y=Object(l.b)().chainId,k=a.a[y],w=Object(j.a)(),C=Object(c.g)(),I="/farms"===C.location.pathname;return Object(h.jsxs)(d.b,{children:[Object(h.jsx)(p.a,{text:k||"",children:Object(h.jsxs)(d.b,{alignItems:"center",onClick:()=>{if(!k){var e=Object(s.a)(Object(s.a)({},f),{},{tab:a.c.ELASTIC}),t="";switch(C.location.pathname){case"/pools":t=b.a.ELASTIC_POOLS_ELASTIC_POOLS_CLICKED;break;case"/myPools":t=b.a.ELASTIC_MYPOOLS_ELASTIC_POOLS_CLICKED}t&&v(t),C.replace({search:Object(r.stringify)(e)})}},children:[Object(h.jsx)(d.d,{fontWeight:500,fontSize:[18,20,24],color:g===a.c.ELASTIC?k?w.disableText:w.primary:w.subText,width:"auto",marginRight:"5px",role:"button",style:{cursor:k?"not-allowed":"pointer"},children:I?Object(h.jsx)(i.b,{id:"Elastic Farms"}):Object(h.jsx)(i.b,{id:"Elastic Pools"})}),Object(h.jsx)(x.H,{size:20,color:g===a.c.ELASTIC?w.primary:w.subText})]})}),Object(h.jsx)(d.d,{fontWeight:500,fontSize:[18,20,24],color:w.subText,marginX:"12px",children:"|"}),Object(h.jsxs)(d.b,{alignItems:"center",onClick:()=>{var e=Object(s.a)(Object(s.a)({},f),{},{tab:a.c.CLASSIC});C.replace({search:Object(r.stringify)(e)})},children:[Object(h.jsx)(d.d,{fontWeight:500,fontSize:[18,20,24],color:g===a.c.CLASSIC?w.primary:w.subText,width:"auto",marginRight:"5px",style:{cursor:"pointer"},role:"button",children:I?Object(h.jsx)(i.b,{id:"Classic Farms"}):Object(h.jsx)(i.b,{id:"Classic Pools"})}),Object(h.jsx)(x.G,{size:20,color:g===a.c.ELASTIC?w.subText:w.primary})]})]})}},"./src/components/Icons/Withdraw.tsx":function(e,t,o){"use strict";var s=o("./node_modules/react/jsx-runtime.js");t.a=e=>{var t=e.width,o=e.height;return Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t||16,height:o||16,viewBox:"0 0 16 16",children:Object(s.jsx)("path",{d:"M3.33337 3.33317C3.33337 3.69984 3.63337 3.99984 4.00004 3.99984H12C12.3667 3.99984 12.6667 3.69984 12.6667 3.33317C12.6667 2.9665 12.3667 2.6665 12 2.6665H4.00004C3.63337 2.6665 3.33337 2.9665 3.33337 3.33317ZM4.94004 9.33317H6.00004V12.6665C6.00004 13.0332 6.30004 13.3332 6.66671 13.3332H9.33337C9.70004 13.3332 10 13.0332 10 12.6665V9.33317H11.06C11.6534 9.33317 11.9534 8.61317 11.5334 8.19317L8.47337 5.13317C8.21337 4.87317 7.79337 4.87317 7.53337 5.13317L4.47337 8.19317C4.05337 8.61317 4.34671 9.33317 4.94004 9.33317Z",fill:"currentColor"})})}},"./src/components/ProAmm/ProAmmFee.tsx":function(e,t,o){"use strict";o.d(t,"a",(function(){return P}));var s=o("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),n=o("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),i=o("./node_modules/@lingui/react/esm/index.js"),r=o("./node_modules/@lingui/core/esm/index.js"),c=o("./node_modules/@kyberswap/ks-sdk-elastic/dist/index.js"),d=o("./node_modules/react/index.js"),a=o("./node_modules/react-feather/dist/icons/info.js"),l=o("./node_modules/rebass/dist/index.esm.js"),b=o("./src/components/Button/index.tsx"),u=o("./src/components/Card/index.tsx"),j=o("./src/components/Column/index.tsx"),m=o("./src/components/CurrencyLogo/index.tsx"),x=o("./src/components/Divider/index.tsx"),p=o("./src/components/FormattedCurrencyAmount/index.tsx"),h=o("./src/components/QuestionHelper/index.tsx"),O=o("./src/components/Row/index.tsx"),f=o("./src/components/Tooltip/index.tsx"),g=o("./src/hooks/index.ts"),v=o("./src/hooks/useContract.ts"),y=o("./src/hooks/useMixpanel.ts"),k=o("./src/hooks/useTheme.ts"),w=o("./src/hooks/useTransactionDeadline.ts"),C=o("./src/state/transactions/hooks.tsx"),I=o("./src/state/transactions/type.ts"),_=o("./src/state/user/hooks.tsx"),L=o("./src/utils/index.ts"),T=o("./src/utils/wrappedCurrency.ts"),S=o("./node_modules/react/jsx-runtime.js");function P(e){var t=e.tokenId,o=e.position,P=e.layout,A=void 0===P?0:P,E=e.text,M=void 0===E?"":E,z=e.hasUserDepositedInFarm,F=e.feeValue0,q=e.feeValue1,R=e.totalFeeRewardUSD,D=Object(g.b)(),N=D.chainId,W=D.account,U=Object(g.e)().library,Y=Object(k.a)(),B=Object(T.a)(o.pool.token0),H=Object(T.a)(o.pool.token1),G=Object(C.h)(),V=Object(v.o)(),Q=Object(w.a)(),K=Object(y.c)().mixpanelHandler,J=Object(_.y)(),X=Object(n.a)(J,1)[0],Z=Object(d.useCallback)((()=>{if(N&&F&&q&&V&&W&&t&&U&&Q&&A){K(y.a.ELASTIC_COLLECT_FEES_INITIATED,{token_1:null===B||void 0===B?void 0:B.symbol,token_2:null===H||void 0===H?void 0:H.symbol});var e=c.NonfungiblePositionManager.collectCallParameters({tokenId:t.toString(),expectedCurrencyOwed0:F.subtract(F.multiply(Object(L.a)(X))),expectedCurrencyOwed1:q.subtract(q.multiply(Object(L.a)(X))),recipient:W,deadline:Q.toString(),havingFee:!0}),o=e.calldata,n=e.value,i={to:V.address,data:o,value:n};U.getSigner().estimateGas(i).then((e=>{var t=Object(s.a)(Object(s.a)({},i),{},{gasLimit:Object(L.b)(e)});return U.getSigner().sendTransaction(t).then((e=>{G({hash:e.hash,type:I.a.COLLECT_FEE,summary:F.toSignificant(6)+" "+F.currency.symbol+" and "+q.toSignificant(6)+" "+q.currency.symbol,arbitrary:{token_1:null===B||void 0===B?void 0:B.symbol,token_2:null===H||void 0===H?void 0:H.symbol,token_1_amount:F.toSignificant(6),token_2_amount:q.toSignificant(6)}})}))})).catch((e=>{console.error(e)}))}}),[N,F,q,V,W,t,G,U,Q,A,B,H,K,X]),$=!(null!==F&&void 0!==F&&F.greaterThan(0)||null!==q&&void 0!==q&&q.greaterThan(0));return 0===A?Object(S.jsx)(u.e,{marginTop:"1rem",padding:"1rem",children:Object(S.jsxs)(j.a,{gap:"md",children:[Object(S.jsx)(l.d,{fontSize:"16px",fontWeight:"500",children:"Your Fee Earnings"}),M&&Object(S.jsx)(l.d,{color:Y.subText,fontSize:"12px",children:M}),Object(S.jsx)(x.b,{}),Object(S.jsxs)(O.b,{children:[Object(S.jsx)(l.d,{fontSize:12,fontWeight:500,color:Y.subText,children:Object(S.jsx)(i.b,{id:"Total Fees Earned"})}),Object(S.jsx)(O.d,{children:Object(S.jsx)(l.d,{fontSize:14,fontWeight:500,marginLeft:"6px",children:Object(L.j)(R,!0)})})]}),Object(S.jsxs)(O.b,{children:[Object(S.jsx)(l.d,{fontSize:12,fontWeight:500,color:Y.subText,children:Object(S.jsx)(i.b,{id:"{0} Fees Earned",values:{0:B.symbol}})}),Object(S.jsxs)(O.d,{children:[Object(S.jsx)(m.a,{size:"16px",style:{marginLeft:"8px"},currency:B}),Object(S.jsxs)(l.d,{fontSize:14,fontWeight:500,marginLeft:"6px",children:[F&&Object(S.jsx)(p.a,{currencyAmount:F})," ",B.symbol]})]})]}),Object(S.jsxs)(O.b,{children:[Object(S.jsx)(l.d,{fontSize:12,fontWeight:500,color:Y.subText,children:Object(S.jsx)(i.b,{id:"{0} Fees Earned",values:{0:H.symbol}})}),Object(S.jsxs)(O.d,{children:[Object(S.jsx)(m.a,{size:"16px",style:{marginLeft:"8px"},currency:H}),Object(S.jsxs)(l.d,{fontSize:14,fontWeight:500,marginLeft:"6px",children:[q&&Object(S.jsx)(p.a,{currencyAmount:q})," ",H.symbol]})]})]})]})}):Object(S.jsx)(u.e,{marginTop:"1rem",padding:"1rem",children:Object(S.jsxs)(j.a,{gap:"md",children:[Object(S.jsxs)(O.b,{children:[Object(S.jsx)(l.b,{children:Object(S.jsx)(l.d,{fontSize:12,fontWeight:500,color:Y.subText,children:Object(S.jsx)(i.b,{id:"Total Fees Earned"})})}),Object(S.jsx)(O.d,{children:Object(S.jsx)(l.d,{fontSize:12,fontWeight:500,children:Object(L.j)(R,!0)})})]}),Object(S.jsxs)(O.b,{children:[Object(S.jsxs)(l.b,{children:[Object(S.jsx)(l.d,{fontSize:12,fontWeight:500,color:Y.subText,children:Object(S.jsx)(i.b,{id:"{0} Fees Earned",values:{0:B.symbol}})}),Object(S.jsx)(h.a,{text:r.a._("Your fees are being automatically compounded so you earn more")})]}),Object(S.jsxs)(O.d,{children:[Object(S.jsx)(m.a,{size:"16px",style:{marginLeft:"8px"},currency:B}),Object(S.jsxs)(l.d,{fontSize:12,fontWeight:500,marginLeft:"6px",children:[F&&Object(S.jsx)(p.a,{currencyAmount:F})," ",B.symbol]})]})]}),Object(S.jsxs)(O.b,{children:[Object(S.jsxs)(l.b,{children:[Object(S.jsx)(l.d,{fontSize:12,fontWeight:500,color:Y.subText,children:Object(S.jsx)(i.b,{id:"{0} Fees Earned",values:{0:H.symbol}})}),Object(S.jsx)(h.a,{text:r.a._("Your fees are being automatically compounded so you earn more")})]}),Object(S.jsxs)(O.d,{children:[Object(S.jsx)(m.a,{size:"16px",style:{marginLeft:"8px"},currency:H}),Object(S.jsxs)(l.d,{fontSize:12,fontWeight:500,marginLeft:"6px",children:[q&&Object(S.jsx)(p.a,{currencyAmount:q})," ",H.symbol]})]})]}),z?Object(S.jsx)(f.a,{placement:"top",text:r.a._("You need to withdraw your deposited liquidity position from the Farm first"),children:Object(S.jsx)(l.b,{sx:{cursor:"not-allowed",width:"100%"},children:Object(S.jsx)(b.f,{style:{padding:"10px",fontSize:"14px",width:"100%",pointerEvents:"none"},disabled:!0,children:Object(S.jsxs)(l.b,{alignItems:"center",sx:{gap:"8px"},children:[Object(S.jsx)(a.a,{size:16}),Object(S.jsx)(i.b,{id:"Collect Fees"})]})})})}):Object(S.jsx)(b.f,{disabled:$,onClick:Z,style:{padding:"10px",fontSize:"14px"},children:Object(S.jsxs)(l.b,{alignItems:"center",sx:{gap:"8px"},children:[Object(S.jsx)(h.a,{placement:"top",size:16,text:$?r.a._("You don't have any fees to collect"):r.a._("By collecting, you will receive 100% of your fee earnings"),useCurrentColor:!0}),Object(S.jsx)(i.b,{id:"Collect Fees"})]})})]})})}},"./src/components/SwitchLocaleLink/index.tsx":function(e,t,o){"use strict";o.d(t,"a",(function(){return p}));var s,n=o("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),i=o("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),r=o("./node_modules/querystring-es3/index.js"),c=o("./node_modules/react/index.js"),d=o("./node_modules/react-router/esm/react-router.js"),a=o("./node_modules/styled-components/dist/styled-components.browser.esm.js"),l=o("./src/constants/locales.tsx"),b=o("./src/hooks/useActiveLocale.ts"),u=o("./src/hooks/useParsedQueryString.ts"),j=o("./src/theme/index.tsx"),m=o("./node_modules/react/jsx-runtime.js"),x=Object(a.default)(j.l.small).withConfig({displayName:"SwitchLocaleLink__Container",componentId:"sc-1rrcg41-0"})(["opacity:0.6;:hover{opacity:1;}margin-top:1rem !important;",";"],(e=>e.theme.mediaWidth.upToMedium(s||(s=Object(i.a)(["\n    display: none;\n  "])))));function p(){var e=Object(b.b)(),t=Object(c.useMemo)((()=>Object(b.a)()),[]),o=Object(d.h)(),s=Object(u.a)();if(t&&(t!==l.a||e!==l.a)){var i;i=e===t?l.a:t;var a=Object(n.a)(Object(n.a)({},o),{},{search:Object(r.stringify)(Object(n.a)(Object(n.a)({},s),{},{lng:i}))});return Object(m.jsxs)(x,{children:["KyberSwap available in: ",Object(m.jsx)(j.k,{to:a,children:l.b[i]})]})}return null}},"./src/data/TotalSupply.ts":function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var s=o("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),n=o("./src/hooks/useContract.ts"),i=o("./src/state/multicall/hooks.ts");function r(e){var t,o,r=Object(n.w)(null===e||void 0===e?void 0:e.address,!1),c=null===(t=Object(i.c)(r,"totalSupply"))||void 0===t||null===(o=t.result)||void 0===o?void 0:o[0];return e&&c?s.TokenAmount.fromRawAmount(e,c.toString()):void 0}},"./src/hooks/useProAmmPositionFees.ts":function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var s=o("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),n=o("./src/utils/wrappedCurrency.ts"),i=o("./src/hooks/useProAmmPreviousTicks.ts");function r(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=null===e||void 0===e?void 0:e.toHexString(),c=Object(i.b)(null===t||void 0===t?void 0:t.pool,r),d=c.current,a=c.last24h;return t&&2===d.length?{current:[s.CurrencyAmount.fromRawAmount(o?null===t||void 0===t?void 0:t.pool.token0:Object(n.a)(null===t||void 0===t?void 0:t.pool.token0),d[0]),s.CurrencyAmount.fromRawAmount(o?null===t||void 0===t?void 0:t.pool.token1:Object(n.a)(null===t||void 0===t?void 0:t.pool.token1),d[1])],last24h:[s.CurrencyAmount.fromRawAmount(o?null===t||void 0===t?void 0:t.pool.token0:Object(n.a)(null===t||void 0===t?void 0:t.pool.token0),a[0]),s.CurrencyAmount.fromRawAmount(o?null===t||void 0===t?void 0:t.pool.token1:Object(n.a)(null===t||void 0===t?void 0:t.pool.token1),a[1])]}:{current:[void 0,void 0],last24h:[void 0,void 0]}}},"./src/hooks/useProAmmPositions.ts":function(e,t,o){"use strict";o.d(t,"b",(function(){return j})),o.d(t,"a",(function(){return m}));var s=o("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),n=o("./node_modules/@ethersproject/abi/lib.esm/abi-coder.js"),i=o("./node_modules/@ethersproject/address/lib.esm/index.js"),r=o("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),c=o("./node_modules/@ethersproject/solidity/lib.esm/index.js"),d=o("./node_modules/react/index.js"),a=o("./src/hooks/index.ts"),l=o("./src/state/multicall/hooks.ts"),b=o("./src/hooks/useContract.ts");function u(e){var t=Object(b.o)(),o=Object(a.b)(),r=o.isEVM,u=o.networkInfo,j=Object(d.useMemo)((()=>e?e.map((e=>[e])):[]),[e]),m=Object(l.d)(t,"positions",j),x=Object(d.useMemo)((()=>m.some((e=>e.loading))),[m]),p=Object(d.useMemo)((()=>m.some((e=>e.error))),[m]),h=Object(d.useMemo)((()=>{if(!x&&!p&&e&&r)return m.map(((t,o)=>{var s=e[o],r=t.result;return{tokenId:s,poolId:Object(i.getCreate2Address)(u.elastic.coreFactory,Object(c.keccak256)(["bytes"],[n.b.encode(["address","address","uint24"],[r.info.token0,r.info.token1,r.info.fee])]),u.elastic.initCodeHash),feeGrowthInsideLast:r.pos.feeGrowthInsideLast,nonce:r.pos.nonce,liquidity:r.pos.liquidity,operator:r.pos.operator,tickLower:r.pos.tickLower,tickUpper:r.pos.tickUpper,rTokenOwed:r.pos.rTokenOwed,fee:r.info.fee,token0:r.info.token0,token1:r.info.token1}}))}),[x,p,m,e,u,r]);return Object(d.useMemo)((()=>({loading:x,positions:null===h||void 0===h?void 0:h.map(((e,t)=>Object(s.a)(Object(s.a)({},e),{},{tokenId:j[t][0]})))})),[x,h,j])}function j(e){var t,o=u(e?[e]:void 0);return{loading:o.loading,position:null===(t=o.positions)||void 0===t?void 0:t[0]}}function m(e){var t,o=Object(b.o)(),s=Object(l.c)(o,"balanceOf",[null!==e&&void 0!==e?e:void 0]),n=s.loading,i=s.result,c=null===i||void 0===i||null===(t=i[0])||void 0===t?void 0:t.toNumber(),a=Object(d.useMemo)((()=>{if(c&&e){for(var t=[],o=0;o<c;o++)t.push([e,o]);return t}return[]}),[e,c]),j=Object(l.d)(o,"tokenOfOwnerByIndex",a),m=Object(d.useMemo)((()=>j.some((e=>e.loading))),[j]),x=u(Object(d.useMemo)((()=>e?j.map((e=>e.result)).filter((e=>!!e)).map((e=>r.a.from(e[0]))):[]),[e,j])),p=x.positions,h=x.loading;return Object(d.useMemo)((()=>({loading:m||n||h,positions:p})),[m,n,h,p])}},"./src/hooks/useSyncNetworkParamWithStore.ts":function(e,t,o){"use strict";o.d(t,"a",(function(){return l}));var s=o("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),n=o("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),i=o("./node_modules/react/index.js"),r=o("./node_modules/react-router/esm/react-router.js"),c=o("./src/constants/networks.ts"),d=o("./src/hooks/index.ts"),a=o("./src/hooks/useChangeNetwork.ts");function l(){var e=Object(r.i)(),t=Object(a.a)(),o=Object(d.b)(),l=o.networkInfo,b=o.walletEVM,u=o.walletSolana,j=Object(i.useRef)(!0),m=Object(r.g)(),x=Object(r.j)(),p=Object(d.c)();Object(i.useEffect)((()=>{if(null!==e&&void 0!==e&&e.network){if(j.current){var o,i=null===(o=Object.values(c.f).find((t=>t.route===(null===e||void 0===e?void 0:e.network))))||void 0===o?void 0:o.chainId;Object(n.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!Object(c.k)(i)){e.next=5;break}return e.next=3,t(i,void 0,(()=>{m.replace({pathname:x.path.replace(":network",l.route)})}));case 3:e.next=8;break;case 5:if(!i||!Object(c.l)(i)){e.next=8;break}return e.next=8,t(i);case 8:case"end":return e.stop()}}),e)})))()}j.current=!1}else j.current=!1}),[t,m,null===e||void 0===e?void 0:e.network,x.path,l.route,b.isConnected,u.isConnected]),Object(i.useEffect)((()=>{l.route!==(null===e||void 0===e?void 0:e.network)&&!j.current&&p&&m.replace({pathname:x.path.replace(":network",l.route)})}),[l.route,m,p,x.path,null===e||void 0===e?void 0:e.network])}},"./src/pages/Pool/index.tsx":function(e,t,o){"use strict";o.r(t),o.d(t,"Tab",(function(){return Ne})),o.d(t,"PageWrapper",(function(){return We})),o.d(t,"InstructionText",(function(){return Ue})),o.d(t,"TitleRow",(function(){return Ye})),o.d(t,"PositionCardGrid",(function(){return Be})),o.d(t,"FilterRow",(function(){return He})),o.d(t,"PreloadCard",(function(){return Ve})),o.d(t,"default",(function(){return Qe}));var s=o("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),n=o("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),i=o("./node_modules/@lingui/react/esm/index.js"),r=o("./node_modules/@lingui/core/esm/index.js"),c=o("./node_modules/@kyberswap/ks-sdk-classic/dist/index.js"),d=o("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),a=o("./node_modules/polished/dist/polished.esm.js"),l=o("./node_modules/react/index.js"),b=o.n(l),u=o("./node_modules/react-feather/dist/icons/info.js"),j=o("./node_modules/react-router/esm/react-router.js"),m=o("./node_modules/react-use/esm/useMedia.js"),x=o("./node_modules/rebass/dist/index.esm.js"),p=o("./node_modules/styled-components/dist/styled-components.browser.esm.js"),h=o("./src/components/Button/index.tsx"),O=o("./src/components/Card/index.tsx"),f=o("./src/components/ClassicElasticTab.tsx"),g=o("./src/components/Column/index.tsx"),v=o("./src/components/Icons/Wallet.tsx"),y=o("./src/components/Icons/Withdraw.tsx"),k=o("./src/components/LocalLoader/index.tsx"),w=o("./src/components/PositionCard/index.tsx"),C=o("./src/components/Row/index.tsx"),I=o("./src/components/Search/index.tsx"),_=o("./src/components/SwitchLocaleLink/index.tsx"),L=o("./src/components/Tutorial/index.tsx"),T=o("./src/constants/index.ts"),S=o("./src/constants/v2.ts"),P=o("./src/data/Reserves.ts"),A=o("./src/hooks/index.ts"),E=o("./src/hooks/Tokens.ts"),M=o("./src/hooks/useDebounce.ts"),z=o("./src/hooks/useMixpanel.ts"),F=o("./src/hooks/useParsedQueryString.ts"),q=o("./src/hooks/useSyncNetworkParamWithStore.ts"),R=o("./src/hooks/useTheme.ts"),D=o("./src/hooks/useWindowSize.ts"),N=o("./node_modules/@kyberswap/ks-sdk-elastic/dist/index.js"),W=o("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),U=o("./node_modules/react-device-detect/main.js"),Y=(o("./src/components/SubscribeButton/index.tsx"),o("./src/components/Toggle/index.tsx")),B=(o("./src/hooks/useNotification/index.ts"),o("./src/hooks/useProAmmPositions.ts")),H=o("./src/state/farms/elastic/hooks.ts"),G=o("./src/theme/index.tsx"),V=o("./src/pages/ProAmmPool/ContentLoader.tsx"),Q=o("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),K=o("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),J=o("./node_modules/querystring-es3/index.js"),X=o("./node_modules/react-router-dom/esm/react-router-dom.js"),Z=o("./src/components/Divider/index.tsx"),$=o("./src/components/ProAmm/ProAmmFee.tsx"),ee=o("./src/components/ProAmm/ProAmmPoolInfo.tsx"),te=o("./src/components/ProAmm/ProAmmPooledTokens.tsx"),oe=o("./src/components/ProAmm/ProAmmPriceRange.tsx"),se=o("./src/components/Tooltip/index.tsx"),ne=o("./src/hooks/useContract.ts"),ie=o("./src/state/mint/proamm/actions.ts");var re,ce,de=o("./src/hooks/usePools.ts"),ae=o("./src/hooks/useProAmmPositionFees.ts"),le=o("./src/state/prommPools/hooks.ts"),be=o("./src/state/tokenPrices/hooks.ts"),ue=o("./src/utils/currencyId.ts"),je=o("./src/utils/numbers.ts"),me=o("./src/utils/wrappedCurrency.ts"),xe=o("./node_modules/react/jsx-runtime.js"),pe=Object(p.default)(O.d).withConfig({displayName:"PositionListItem__StyledPositionCard",componentId:"sc-1h9tbli-0"})(["border:none;background:",";position:relative;overflow:hidden;border-radius:20px;padding:20px;display:flex;flex-direction:column;",""],(e=>e.theme.background),(e=>e.theme.mediaWidth.upToMedium(re||(re=Object(n.a)(["\n    padding: 16px;\n  "]))))),he=p.default.div.withConfig({displayName:"PositionListItem__TabContainer",componentId:"sc-1h9tbli-1"})(["display:flex;border-radius:999px;background-color:",";padding:2px;"],(e=>e.theme.tabBackgound)),Oe=Object(p.default)(h.c).withConfig({displayName:"PositionListItem__Tab",componentId:"sc-1h9tbli-2"})(["display:flex;justify-content:center;align-items:center;flex:1;background-color:",";padding:4px;font-size:12px;font-weight:500;border-radius:20px;transition:all 0.2s;&:hover{text-decoration:none;}"],(e=>{var t=e.theme;return e.isActive?t.tabActive:t.tabBackgound})),fe=p.default.div.withConfig({displayName:"PositionListItem__TabText",componentId:"sc-1h9tbli-3"})(["display:flex;align-items:center;gap:2px;color:",";"],(e=>{var t=e.theme;return e.isActive?t.text:t.subText})),ge=p.default.div.withConfig({displayName:"PositionListItem__StakedInfo",componentId:"sc-1h9tbli-4"})(["border-radius:4px;border:1px solid ",";padding:12px;margin-top:16px;"],(e=>e.theme.border)),ve=p.default.div.withConfig({displayName:"PositionListItem__StakedRow",componentId:"sc-1h9tbli-5"})(["line-height:24px;display:flex;justify-content:space-between;font-size:12px;"]),ye=p.default.div.withConfig({displayName:"PositionListItem__ButtonGroup",componentId:"sc-1h9tbli-6"})(["display:flex;gap:1rem;margin-bottom:20px;> *{flex:1 1 50%;}"]);function ke(e){var t,o,n,c,a=e.stakedLayout,b=e.hasUserDepositedInFarm,u=e.positionDetails,j=e.refe,m=e.hasActiveFarm,p=Object(A.b)().chainId,O=u.token0,f=u.token1,g=u.fee,v=u.liquidity,y=u.tickLower,k=u.tickUpper,w=u.stakedLiquidity,I=Object(H.b)().farms,_="",L="",S=[];null===I||void 0===I||I.forEach((e=>{e.pools.forEach((t=>{t.endTime>Date.now()/1e3&&t.poolAddress.toLowerCase()===u.poolId.toLowerCase()&&(_=e.id,L=t.pid,S=t.rewardTokens)}))}));var P=Object(ne.q)(_),M=Object(le.a)().blockLast24h,F=u.tokenId.toString(),q=Object(l.useState)(null),D=Object(s.a)(q,2),U=D[0],Y=D[1];Object(l.useEffect)((()=>{var e=function(){var e=Object(K.a)(Object(Q.a)().mark((function e(){var t,o,n,i,r;return Object(Q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!M||!P){e.next=9;break}return e.next=3,Promise.all([P.getUserInfo(F,L).then((e=>e.rewardPending)).catch((()=>[])),P.getUserInfo(F,L,{blockTag:Number(M)}).then((e=>e.rewardPending)).catch((()=>[]))]);case 3:t=e.sent,o=Object(s.a)(t,2),n=o[0],i=o[1],r=null===n||void 0===n?void 0:n.map(((e,t)=>e.sub(W.a.from((null===i||void 0===i?void 0:i[t])||"0")))),Y(r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[M,P,F,L]);var B=Object(E.c)(O),re=Object(E.c)(f);j&&B&&!j.current[O.toLocaleLowerCase()]&&B.symbol&&(j.current[O.toLocaleLowerCase()]=B.symbol.toLowerCase()),j&&re&&!j.current[f.toLocaleLowerCase()]&&re.symbol&&(j.current[f.toLocaleLowerCase()]=re.symbol.toLowerCase());var ke=B?Object(me.a)(B):void 0,we=re?Object(me.a)(re):void 0,Ce=Object(be.a)([(null===ke||void 0===ke?void 0:ke.wrapped.address)||"",(null===we||void 0===we?void 0:we.wrapped.address)||"",...S.map((e=>e.wrapped.address))]),Ie=Object(de.b)(null!==ke&&void 0!==ke?ke:void 0,null!==we&&void 0!==we?we:void 0,g),_e=Object(s.a)(Ie,2)[1],Le=Object(l.useMemo)((()=>{if(_e)return new N.Position({pool:_e,liquidity:v.toString(),tickLower:y,tickUpper:k})}),[v,_e,y,k]),Te=Object(ae.a)(u.tokenId,Le,!1),Se=Te.current,Pe=Te.last24h,Ae=_e&&b?new N.Position({pool:_e,liquidity:u.stakedLiquidity.toString(),tickLower:y,tickUpper:k}):void 0,Ee=parseFloat((null===Le||void 0===Le?void 0:Le.amount0.toExact())||"0")*Ce[(null===B||void 0===B?void 0:B.wrapped.address)||""]+parseFloat((null===Le||void 0===Le?void 0:Le.amount1.toExact())||"0")*Ce[(null===re||void 0===re?void 0:re.wrapped.address)||""],Me=parseFloat((null===Ae||void 0===Ae?void 0:Ae.amount0.toExact())||"0")*Ce[(null===B||void 0===B?void 0:B.wrapped.address)||""]+parseFloat((null===Ae||void 0===Ae?void 0:Ae.amount1.toExact())||"0")*Ce[(null===re||void 0===re?void 0:re.wrapped.address)||""],ze=Number((null===(t=Se[0])||void 0===t?void 0:t.toExact())||"0")*Ce[(null===B||void 0===B?void 0:B.wrapped.address)||""]+Number((null===(o=Se[1])||void 0===o?void 0:o.toExact())||"0")*Ce[(null===re||void 0===re?void 0:re.wrapped.address)||""],Fe=Number((null===(n=Pe[0])||void 0===n?void 0:n.toExact())||"0")*Ce[(null===B||void 0===B?void 0:B.wrapped.address)||""]+Number((null===(c=Pe[1])||void 0===c?void 0:c.toExact())||"0")*Ce[(null===re||void 0===re?void 0:re.wrapped.address)||""],qe=ze&&Fe&&Ee&&ze>Fe?(365*(ze-Fe)*100/Ee).toFixed(2):"--",Re=365*S.reduce(((e,t,o)=>{var s=null===U||void 0===U?void 0:U[o];return e+ +d.CurrencyAmount.fromRawAmount(t,null!==s&&void 0!==s&&s.gt("0")?null===s||void 0===s?void 0:s.toString():"0").toExact()*Ce[t.wrapped.address]}),0)*100/Ee,De=function(e,t,o){return Object(l.useMemo)((()=>({[ie.a.LOWER]:e&&t?t===Object(N.nearestUsableTick)(N.TickMath.MIN_TICK,N.TICK_SPACINGS[e]):void 0,[ie.a.UPPER]:e&&o?o===Object(N.nearestUsableTick)(N.TickMath.MAX_TICK,N.TICK_SPACINGS[e]):void 0})),[e,t,o])}(g,y,k),Ne=function(e){if(!e)return{};var t=e.amount0.currency,o=e.amount1.currency;return{priceLower:e.token0PriceLower,priceUpper:e.token0PriceUpper,quote:o,base:t}}(Le),We=Ne.priceLower,Ue=Ne.priceUpper,Ye=null===v||void 0===v?void 0:v.eq(0),Be=Object(R.a)(),He=Object(z.c)().mixpanelHandler,Ge=Object(l.useState)(ce.MY_LIQUIDITY),Ve=Object(s.a)(Ge,2),Qe=Ve[0],Ke=Ve[1],Je=Date.now()/1e3,Xe=Ye?r.a._("You have zero liquidity to remove"):w?r.a._("You need to withdraw your deposited liquidity position from the farms first"):"";return Le&&We&&Ue?Object(xe.jsx)(pe,{children:Object(xe.jsxs)(xe.Fragment,{children:[Object(xe.jsx)(ee.a,{position:Le,tokenId:u.tokenId.toString(),isFarmActive:m}),Object(xe.jsxs)(he,{style:{marginTop:"1rem"},children:[Object(xe.jsx)(Oe,{isActive:Qe===ce.MY_LIQUIDITY,padding:"0",onClick:()=>Ke(ce.MY_LIQUIDITY),children:Object(xe.jsx)(fe,{isActive:Qe===ce.MY_LIQUIDITY,style:{fontSize:"12px"},children:Object(xe.jsx)(i.b,{id:"My Liquidity"})})}),Object(xe.jsx)(Oe,{isActive:Qe===ce.PRICE_RANGE,padding:"0",onClick:()=>Ke(ce.PRICE_RANGE),children:Object(xe.jsx)(fe,{isActive:Qe===ce.PRICE_RANGE,style:{fontSize:"12px"},children:Object(xe.jsx)(i.b,{id:"Price Range"})})})]}),Qe===ce.MY_LIQUIDITY&&Object(xe.jsxs)(xe.Fragment,{children:[a?Object(xe.jsxs)(ge,{children:[Object(xe.jsxs)(ve,{children:[Object(xe.jsx)(x.d,{color:Be.subText,children:Object(xe.jsx)(i.b,{id:"My Staked Balance"})}),Object(xe.jsx)(x.d,{children:Object(je.a)(Me)})]}),Object(xe.jsxs)(ve,{children:[Object(xe.jsx)(x.d,{color:Be.subText,children:Object(xe.jsx)(i.b,{id:"My Staked {0}",values:{0:Le.amount0.currency.symbol}})}),Object(xe.jsx)(x.d,{children:null===Ae||void 0===Ae?void 0:Ae.amount0.toSignificant(6)})]}),Object(xe.jsxs)(ve,{children:[Object(xe.jsx)(x.d,{color:Be.subText,children:Object(xe.jsx)(i.b,{id:"My Staked {0}",values:{0:Le.amount1.currency.symbol}})}),Object(xe.jsx)(x.d,{children:null===Ae||void 0===Ae?void 0:Ae.amount1.toSignificant(6)})]}),Object(xe.jsxs)(ve,{children:[Object(xe.jsx)(x.d,{color:Be.subText,children:Object(xe.jsx)(i.b,{id:"My Farm APR"})}),Object(xe.jsx)(x.d,{color:Be.apr,children:Re?Re.toFixed(2)+"%":"--"})]})]}):Object(xe.jsx)(te.a,{positionAPR:qe,farmAPR:Re,valueUSD:Ee,stakedUsd:Me,liquidityValue0:d.CurrencyAmount.fromRawAmount(Object(me.a)(Le.pool.token0),Le.amount0.quotient),liquidityValue1:d.CurrencyAmount.fromRawAmount(Object(me.a)(Le.pool.token1),Le.amount1.quotient),layout:1}),!a&&Object(xe.jsx)($.a,{totalFeeRewardUSD:ze,feeValue0:Se[0],feeValue1:Se[1],position:Le,tokenId:u.tokenId,layout:1,hasUserDepositedInFarm:b})]}),Qe===ce.PRICE_RANGE&&Object(xe.jsx)(oe.a,{position:Le,ticksAtLimit:De,layout:1}),Object(xe.jsx)("div",{style:{marginTop:"20px"}}),Object(xe.jsxs)(x.b,{flexDirection:"column",marginTop:"auto",children:[a?Object(xe.jsx)(h.h,{style:{marginBottom:"20px",textDecoration:"none",color:Be.textReverse,fontSize:"14px"},padding:"8px",as:G.k,to:"/farms?".concat(Object(J.stringify)({tab:"elastic",type:u.endTime?u.endTime>Je?"active":"ended":"active",search:u.poolId})),children:Object(xe.jsx)(i.b,{id:"Go to Farm"})}):Object(xe.jsxs)(ye,{children:[Xe?Object(xe.jsx)(se.a,{text:Xe,placement:"top",children:Object(xe.jsx)(x.b,{sx:{cursor:"not-allowed",width:"100%"},children:Object(xe.jsx)(h.g,{style:{padding:"8px",width:"100%",pointerEvents:"none"},disabled:!0,children:Object(xe.jsx)(x.d,{width:"max-content",fontSize:"14px",children:Object(xe.jsx)(i.b,{id:"Remove Liquidity"})})})})}):Object(xe.jsx)(h.g,{padding:"8px",as:X.b,to:"/elastic/remove/".concat(u.tokenId),onClick:()=>{He(z.a.ELASTIC_REMOVE_LIQUIDITY_INITIATED,{token_1:(null===B||void 0===B?void 0:B.symbol)||"",token_2:(null===re||void 0===re?void 0:re.symbol)||"",fee_tier:(null===_e||void 0===_e?void 0:_e.fee)/1e4})},children:Object(xe.jsx)(x.d,{width:"max-content",fontSize:"14px",children:Object(xe.jsx)(i.b,{id:"Remove Liquidity"})})}),Ye?Object(xe.jsx)(h.h,{disabled:!0,padding:"8px",children:Object(xe.jsx)(x.d,{width:"max-content",fontSize:"14px",children:Object(xe.jsx)(i.b,{id:"Increase Liquidity"})})}):Object(xe.jsx)(h.h,{padding:"8px",style:{borderRadius:"18px",fontSize:"14px"},as:X.b,to:"/elastic/increase/".concat(Object(ue.a)(ke,p),"/").concat(Object(ue.a)(we,p),"/").concat(g,"/").concat(u.tokenId),onClick:()=>{He(z.a.ELASTIC_INCREASE_LIQUIDITY_INITIATED,{token_1:(null===B||void 0===B?void 0:B.symbol)||"",token_2:(null===re||void 0===re?void 0:re.symbol)||"",fee_tier:(null===_e||void 0===_e?void 0:_e.fee)/1e4})},children:Object(xe.jsx)(x.d,{width:"max-content",fontSize:"14px",children:Object(xe.jsx)(i.b,{id:"Increase Liquidity"})})})]}),Object(xe.jsx)(Z.b,{sx:{marginBottom:"20px"}}),Object(xe.jsxs)(C.b,{children:[Object(xe.jsx)(h.c,{width:"max-content",style:{fontSize:"14px"},padding:"0",children:Object(xe.jsx)(G.c,{style:{width:"100%",textAlign:"center"},href:"".concat(T.W[p],"/pool/").concat(u.poolId.toLowerCase()),children:Object(xe.jsx)(i.b,{id:"Pool Analytics \u2197"})})}),b&&Object(xe.jsx)(h.c,{width:"max-content",style:{fontSize:"14px"},padding:"0",children:Object(xe.jsx)(G.k,{style:{width:"100%",textAlign:"center"},to:"/farms",children:Object(xe.jsx)(i.b,{id:"Go to Farms \u2197"})})})]})]})]})}):Object(xe.jsx)(V.b,{})}!function(e){e.MY_LIQUIDITY="my-liquidity",e.PRICE_RANGE="price-range"}(ce||(ce={}));var we,Ce=b.a.memo(ke),Ie=(p.default.span.withConfig({displayName:"ProAmmPool__Hightlight",componentId:"sc-1x21ql8-0"})(["color:",";"],(e=>e.theme.text)),p.default.div.withConfig({displayName:"ProAmmPool__StyledText",componentId:"sc-1x21ql8-1"})(["font-size:16px;font-weight:400;line-height:22px;color:",";"],(e=>e.theme.subText)),p.default.div.withConfig({displayName:"ProAmmPool__TabRow",componentId:"sc-1x21ql8-2"})(["display:flex;justify-content:space-between;align-items:center;gap:12px;",""],(e=>e.theme.mediaWidth.upToLarge(we||(we=Object(n.a)(["\n    gap: 1rem;\n    width: 100%;\n    flex-direction: column;\n  "]))))));function _e(){var e=Object(A.b)(),t=e.account,o=e.chainId,n=e.isEVM,c=e.networkInfo,d=Object(l.useRef)({}),b=Object(B.a)(t),p=b.positions,h=b.loading,f=Object(H.b)(),y=f.farms,k=f.loading,w=f.userFarmInfo,C=Object(l.useMemo)((()=>(null===y||void 0===y?void 0:y.map((e=>e.pools)).flat())||[]),[y]),_=Object(l.useMemo)((()=>n?Object.values(w||{}).map((e=>e.depositedPositions.map((t=>{var o,s=Object(N.computePoolAddress)({factoryAddress:c.elastic.coreFactory,tokenA:t.pool.token0,tokenB:t.pool.token1,fee:t.pool.fee,initCodeHashManualOverride:c.elastic.initCodeHash}),n=C.filter((e=>e.poolAddress.toLowerCase()===s.toLowerCase())),i=Object.values(e.joinedPositions).flat().filter((e=>e.nftId.toString()===t.nftId.toString())).reduce(((e,t)=>e.gt(W.a.from(t.liquidity.toString()))?e:W.a.from(t.liquidity.toString())),W.a.from(0))||W.a.from(0);return{nonce:W.a.from("1"),tokenId:t.nftId,operator:"0x0000000000000000000000000000000000000000",poolId:s,tickLower:t.tickLower,tickUpper:t.tickUpper,liquidity:W.a.from(t.liquidity.toString()),feeGrowthInsideLast:W.a.from(0),stakedLiquidity:i,rTokenOwed:W.a.from(0),token0:t.pool.token0.address,token1:t.pool.token1.address,fee:t.pool.fee,endTime:null===n||void 0===n||null===(o=n[0])||void 0===o?void 0:o.endTime,rewardPendings:[]}})).flat())).flat():[]),[C,w,n,c]),P=Object(l.useMemo)((()=>{var e;return null!==(e=null===p||void 0===p?void 0:p.reduce(((e,t)=>{var o;return e[null!==(o=t.liquidity)&&void 0!==o&&o.eq(0)?1:0].push(t),e}),[[],[]]))&&void 0!==e?e:[[],[]]}),[p]),E=Object(s.a)(P,2),z=E[0],q=E[1],D=Object(R.a)(),Q=Object(F.a)(),K=Q.search,J=void 0===K?"":K,X=Q.tab,Z=void 0===X?S.c.ELASTIC:X,$=Object(j.g)(),ee=Object(j.h)(),te=Object(M.a)(J.trim().toLowerCase(),300),oe=Object(l.useState)(!1),se=Object(s.a)(oe,2),ne=se[0],ie=se[1],re=Object(l.useMemo)((()=>_.filter((e=>0===te.trim().length||!!d.current[e.token0.toLowerCase()]&&d.current[e.token0.toLowerCase()].includes(te)||!!d.current[e.token1.toLowerCase()]&&d.current[e.token1.toLowerCase()].includes(te)||e.poolId.toLowerCase()===te))),[te,_]),ce=Object(l.useMemo)((()=>(ne?[...z,...re,...q]:[...z,...re]).filter((e=>0===te.trim().length||!!d.current[e.token0.toLowerCase()]&&d.current[e.token0.toLowerCase()].includes(te)||!!d.current[e.token1.toLowerCase()]&&d.current[e.token1.toLowerCase()].includes(te)||e.poolId.toLowerCase()===te)).filter(((e,t,o)=>o.findIndex((t=>t.tokenId.eq(e.tokenId)))===t))),[ne,z,q,te,re]),de=Object(l.useState)(!1),ae=Object(s.a)(de,2),le=ae[0],be=ae[1],ue=Object(m.a)("(max-width: 768px)"),je=Object(l.useMemo)((()=>{var e,t=Date.now()/1e3;return(null===y||void 0===y||null===(e=y.map((e=>e.pools)).flat())||void 0===e?void 0:e.filter((e=>e.endTime>=t)).map((e=>e.poolAddress.toLowerCase())))||[]}),[y]);return n?Object(xe.jsxs)(xe.Fragment,{children:[Object(xe.jsx)(We,{style:{padding:0,marginTop:"24px"},children:Object(xe.jsxs)(g.a,{gap:"lg",style:{width:"100%"},children:[Object(xe.jsxs)(Ue,{children:[Object(xe.jsx)(i.b,{id:"Here you can view all your liquidity and staked balances in the Elastic Pools"}),!ue&&Object(xe.jsx)(G.c,{href:"".concat(T.W[o],"/account/").concat(t),children:Object(xe.jsxs)(x.b,{alignItems:"center",children:[Object(xe.jsx)(v.a,{size:16}),Object(xe.jsxs)(x.d,{fontSize:"14px",marginLeft:"4px",children:[Object(xe.jsx)(i.b,{id:"Analyze Wallet"})," \u2197"]})]})})]}),Object(xe.jsxs)(Ie,{children:[Object(xe.jsxs)(x.b,{justifyContent:"space-between",flex:1,alignItems:"center",width:"100%",children:[Object(xe.jsxs)(x.b,{sx:{gap:"1rem"},alignItems:"center",children:[Object(xe.jsx)(Ne,{active:!le,role:"button",onClick:()=>{be(!1)},children:Object(xe.jsx)(i.b,{id:"My Positions"})}),Object(xe.jsx)(Ne,{active:le,onClick:()=>{be(!0)},role:"button",children:U.isMobile?Object(xe.jsx)(i.b,{id:"Farming Positions"}):Object(xe.jsx)(i.b,{id:"My Farming Positions"})})]}),ue&&Object(xe.jsxs)(x.b,{sx:{gap:"8px"},children:[Object(xe.jsx)(G.c,{href:"".concat(T.W[o],"/account/").concat(t),children:Object(xe.jsx)(x.b,{sx:{borderRadius:"50%"},width:"36px",backgroundColor:Object(a.d)(D.subText,.2),height:"36px",alignItems:"center",justifyContent:"center",children:Object(xe.jsx)(v.a,{size:16,color:D.subText})})}),Object(xe.jsx)(L.b,{type:L.a.ELASTIC_MY_POOLS}),null]})]}),Object(xe.jsxs)(He,{children:[Object(xe.jsxs)(x.b,{alignItems:"center",style:{gap:"8px"},children:[Object(xe.jsx)(x.d,{fontSize:"14px",color:D.subText,children:Object(xe.jsx)(i.b,{id:"Show closed positions"})}),Object(xe.jsx)(Y.a,{isActive:ne,toggle:()=>ie((e=>!e))})]}),Object(xe.jsx)(I.d,{minWidth:"254px",searchValue:J,onSearch:e=>{$.replace(ee.pathname+"?search="+e+"&tab="+Z)},placeholder:r.a._("Search by token or pool address")}),!ue&&Object(xe.jsxs)(xe.Fragment,{children:[Object(xe.jsx)(L.b,{type:L.a.ELASTIC_MY_POOLS}),null]})]})]}),t?h&&!p||k&&!y&&!w?Object(xe.jsxs)(Be,{children:[Object(xe.jsx)(V.b,{}),Object(xe.jsx)(V.b,{}),Object(xe.jsx)(V.b,{})]}):ce.length>0||re.length>0?Object(xe.jsxs)(xe.Fragment,{children:[Object(xe.jsx)(Be,{style:{display:le?"none":"grid"},children:ce.map((e=>Object(xe.jsx)(Ce,{refe:d,positionDetails:e,hasUserDepositedInFarm:!!e.stakedLiquidity,hasActiveFarm:je.includes(e.poolId.toLowerCase())},e.tokenId.toString())))}),Object(xe.jsx)(Be,{style:{display:le?"grid":"none"},children:re.map((e=>Object(xe.jsx)(Ce,{stakedLayout:!0,hasUserDepositedInFarm:!0,refe:d,positionDetails:e,hasActiveFarm:je.includes(e.poolId.toLowerCase())},e.tokenId.toString())))})]}):Object(xe.jsxs)(x.b,{flexDirection:"column",alignItems:"center",marginTop:"60px",children:[Object(xe.jsx)(u.a,{size:48,color:D.subText}),Object(xe.jsx)(x.d,{fontSize:16,lineHeight:1.5,color:D.subText,textAlign:"center",marginTop:"1rem",children:Object(xe.jsx)(i.b,{id:"No liquidity found. Check out our <0>Pools.</0>",components:{0:Object(xe.jsx)(G.k,{to:"/pools?tab=elastic"})}})})]}):Object(xe.jsx)(O.g,{padding:"40px",children:Object(xe.jsx)(G.l.body,{color:D.text3,textAlign:"center",children:Object(xe.jsx)(i.b,{id:"Connect to a wallet to view your liquidity."})})})]})}),Object(xe.jsx)(H.a,{})]}):Object(xe.jsx)(j.a,{to:"/"})}var Le,Te,Se,Pe,Ae,Ee,Me,ze,Fe=o("./src/state/farms/hooks.ts"),qe=o("./src/state/pools/hooks.ts"),Re=o("./src/state/user/hooks.tsx"),De=o("./src/state/wallet/hooks.ts"),Ne=p.default.div.withConfig({displayName:"Pool__Tab",componentId:"sc-1utmumt-0"})(["padding:4px 0;color:",";font-weight:500;cursor:pointer;:hover{color:",";}",";"],(e=>{var t=e.active,o=e.theme;return t?o.primary:o.subText}),(e=>e.theme.primary),(e=>e.theme.mediaWidth.upToSmall(Le||(Le=Object(n.a)(["\n    font-size: 15px;\n  "]))))),We=Object(p.default)(g.a).withConfig({displayName:"Pool__PageWrapper",componentId:"sc-1utmumt-1"})(["padding:32px 0 100px;width:100%;max-width:1224px;"," ",";"],(e=>e.theme.mediaWidth.upToLarge(Te||(Te=Object(n.a)(["\n    padding: 24px 12px 100px;\n    max-width: 832px;\n  "])))),(e=>e.theme.mediaWidth.upToSmall(Se||(Se=Object(n.a)(["\n    max-width: 392px;\n  "]))))),Ue=p.default.div.withConfig({displayName:"Pool__InstructionText",componentId:"sc-1utmumt-2"})(["width:100%;padding:16px 0;font-size:12px;line-height:1.5;border-top:1px solid ",";color:",";border-bottom:1px solid ",";display:flex;justify-content:space-between;align-items:center;"],(e=>e.theme.border),(e=>e.theme.subText),(e=>e.theme.border)),Ye=p.default.div.withConfig({displayName:"Pool__TitleRow",componentId:"sc-1utmumt-3"})(["display:flex;justify-content:space-between;align-items:center;gap:12px;",";"],(e=>e.theme.mediaWidth.upToSmall(Pe||(Pe=Object(n.a)(["\n    gap: 1rem;\n    width: 100%;\n    flex-direction: column;\n  "]))))),Be=p.default.div.withConfig({displayName:"Pool__PositionCardGrid",componentId:"sc-1utmumt-4"})(["display:grid;grid-template-columns:minmax(392px,auto) minmax(392px,auto) minmax(392px,auto);gap:24px;max-width:1224px;"," ",";"],(e=>e.theme.mediaWidth.upToLarge(Ae||(Ae=Object(n.a)(["\n    grid-template-columns: 1fr 1fr;\n    max-width: 832px;\n  "])))),(e=>e.theme.mediaWidth.upToSmall(Ee||(Ee=Object(n.a)(["\n    grid-template-columns: 1fr;\n    max-width: 392px;\n  "]))))),He=Object(p.default)(x.b).withConfig({displayName:"Pool__FilterRow",componentId:"sc-1utmumt-5"})(["align-items:center;justify-content:space-between;gap:12px;"," ",""],(e=>e.theme.mediaWidth.upToLarge(Me||(Me=Object(n.a)(["\n      width: 100%;\n      justify-content: flex-end;\n  "])))),(e=>e.theme.mediaWidth.upToSmall(ze||(ze=Object(n.a)(["\n    align-items: flex-start;\n    flex-direction: column-reverse;\n    gap: 0;\n\n    > div {\n      margin-top: 12px;\n      width: 100%\n      justify-content: space-between\n      &:nth-child(1){\n        margin-top: 20px\n      }\n    }\n  "]))))),Ge=Object(p.keyframes)(["100%{transform:translateX(100%);}"]),Ve=p.default.div.withConfig({displayName:"Pool__PreloadCard",componentId:"sc-1utmumt-6"})(["width:",";height:",";background:",";border-radius:8px;position:relative;display:inline-block;overflow:hidden;&::after{position:absolute;top:0;right:0;bottom:0;left:0;transform:translateX(-100%);background-image:linear-gradient(90deg,rgba(#fff,0) 0,rgba(#fff,0.2) 20%,rgba(#fff,0.5) 60%,rgba(#fff,0));animation:"," 2s infinite;content:'';}"],(e=>{var t=e.width;return null!==t&&void 0!==t?t:"100%"}),(e=>{var t=e.height;return null!==t&&void 0!==t?t:"436px"}),(e=>e.theme.background),Ge);function Qe(){var e=Object(F.a)().tab,t=void 0===e?S.c.ELASTIC:e;return Object(xe.jsxs)(xe.Fragment,{children:[Object(xe.jsxs)(We,{children:[Object(xe.jsx)(g.a,{children:Object(xe.jsx)(f.a,{})}),t===S.c.ELASTIC?Object(xe.jsx)(_e,{}):Object(xe.jsx)(Ke,{})]}),Object(xe.jsx)(_.a,{})]})}function Ke(){var e=Object(R.a)(),t=Object(A.b)(),o=t.account,n=t.chainId,d=t.isEVM,b=Object(D.a)().width,p=b&&b<=768,f=Object(Re.g)(),S=Object(qe.h)(),E=S.loading,F=S.data,N=Object(Fe.b)(),W=N.data,U=N.loading,Y=Object(l.useState)(""),B=Object(s.a)(Y,2),H=B[0],V=B[1],Q=Object(M.a)(H.trim().toLowerCase(),300);Object(q.a)();var K=Object(l.useMemo)((()=>Object.values(W).flat().filter((e=>{var t;return c.JSBI.greaterThan(c.JSBI.BigInt((null===(t=e.userData)||void 0===t?void 0:t.stakedBalance)||0),c.JSBI.BigInt(0))&&!T.T[e.fairLaunchAddress]}))),[W]),J=Object(Re.o)(f),X=Object(l.useMemo)((()=>J.map((e=>e.liquidityTokens))),[J]),Z=Object(l.useMemo)((()=>X.flat()),[X]),$=Object(De.h)(Z),ee=Object(s.a)($,2),te=ee[0],oe=ee[1],se=Object(l.useMemo)((()=>X.reduce(((e,t,o)=>(t.filter((e=>{var t;return null===(t=te[e.address])||void 0===t?void 0:t.greaterThan("0")})).forEach((t=>{e.push({liquidityToken:t,tokens:J[o].tokens})})),e)),[])),[J,X,te]),ne=Object(P.e)(se.map((e=>{var t=e.liquidityToken,o=e.tokens;return{address:t.address,currencies:o}}))),ie=oe||(null===ne||void 0===ne?void 0:ne.length)<se.length||(null===ne||void 0===ne?void 0:ne.some((e=>!e[1]))),re=Object(l.useMemo)((()=>ne.map((e=>Object(s.a)(e,2)[1])).filter((e=>Boolean(e)))),[ne]),ce=Object(l.useMemo)((()=>re.filter((e=>{var t,o;return!Q||((null===(t=e.token0.symbol)||void 0===t?void 0:t.toLowerCase().includes(Q))||(null===(o=e.token1.symbol)||void 0===o?void 0:o.toLowerCase().includes(Q))||e.address.toLowerCase()===Q)})).filter((e=>!K.map((e=>e.id.toLowerCase())).includes(e.address.toLowerCase())))),[re,Q,K]),de={};null===F||void 0===F||F.liquidityPositions.forEach((e=>{de[e.pool.id]=e}));var ae=Object(l.useState)(!1),le=Object(s.a)(ae,2),be=le[0],ue=le[1],je=ie||E||U,me=Object(z.c)().mixpanelHandler,pe=Object(m.a)("(max-width: 768px)");return d?Object(xe.jsxs)(xe.Fragment,{children:[Object(xe.jsx)(We,{style:{padding:0,marginTop:"24px"},children:Object(xe.jsx)(g.a,{gap:"lg",justify:"center",children:Object(xe.jsxs)(g.a,{gap:"lg",style:{width:"100%"},children:[Object(xe.jsx)(C.a,{children:Object(xe.jsxs)(Ue,{children:[Object(xe.jsx)(i.b,{id:"Here you can view all your liquidity and staked balances in the Classic Pools"}),!pe&&Object(xe.jsx)(G.c,{href:"".concat(T.B[n],"/account/").concat(o),children:Object(xe.jsxs)(x.b,{alignItems:"center",children:[Object(xe.jsx)(v.a,{size:16}),Object(xe.jsxs)(x.d,{fontSize:"14px",marginLeft:"4px",children:[Object(xe.jsx)(i.b,{id:"Analyze Wallet"})," \u2197"]})]})})]})}),Object(xe.jsxs)(Ye,{children:[Object(xe.jsxs)(x.b,{justifyContent:"space-between",flex:1,alignItems:"center",width:"100%",children:[Object(xe.jsxs)(x.b,{sx:{gap:"1.5rem"},alignItems:"center",children:[Object(xe.jsx)(Ne,{active:!be,onClick:()=>{be&&me(z.a.MYPOOLS_POOLS_VIEWED),ue(!1)},role:"button",children:Object(xe.jsx)(i.b,{id:"My Pools"})}),Object(xe.jsx)(Ne,{active:be,onClick:()=>{be||me(z.a.MYPOOLS_STAKED_VIEWED),ue(!0)},role:"button",children:Object(xe.jsx)(i.b,{id:"My Staked Pools"})})]}),pe&&Object(xe.jsxs)(x.b,{sx:{gap:"12px"},children:[Object(xe.jsx)(G.c,{href:"".concat(T.B[n],"/account/").concat(o),children:Object(xe.jsx)(x.b,{sx:{borderRadius:"50%"},width:"36px",backgroundColor:Object(a.d)(e.subText,.2),height:"36px",alignItems:"center",justifyContent:"center",children:Object(xe.jsx)(v.a,{size:16,color:e.subText})})}),Object(xe.jsx)(L.b,{type:L.a.CLASSIC_MY_POOLS})]})]}),Object(xe.jsxs)(x.b,{alignItems:"center",flexDirection:"row",justifyContent:"flex-end",sx:{gap:"12px"},width:p?"100%":void 0,children:[Object(xe.jsx)(I.d,{style:{width:"unset",flex:p?1:void 0},minWidth:p?"224px":"254px",searchValue:H,onSearch:e=>V(e),placeholder:r.a._("Search by token name or pool address")}),Object(xe.jsxs)(h.h,{as:G.k,to:T.i.FIND_POOL,style:{color:e.textReverse,padding:"10px 12px",fontSize:"14px",width:"max-content",height:"36px",textDecoration:"none"},children:[Object(xe.jsx)(y.a,{}),Object(xe.jsx)(x.d,{marginLeft:"4px",children:Object(xe.jsx)(i.b,{id:"Import Pool"})})]}),!pe&&Object(xe.jsx)(L.b,{type:L.a.CLASSIC_MY_POOLS})]})]}),o?be?je&&!K.length?Object(xe.jsx)(k.a,{}):K.length?Object(xe.jsxs)(xe.Fragment,{children:[Object(xe.jsx)(Be,{children:K.filter((e=>e.token0.symbol.toLowerCase().includes(Q)||e.token1.symbol.toLowerCase().includes(Q)||e.id.toLowerCase()===Q)).map((e=>Object(xe.jsx)(Je,{farm:e,userLiquidityPositions:null===F||void 0===F?void 0:F.liquidityPositions,tab:"STAKED"},e.id)))}),Object(xe.jsxs)(x.d,{fontSize:16,color:e.subText,textAlign:"center",marginTop:"1rem",children:[r.a._("Don't see a pool you joined?")," ",Object(xe.jsx)(G.k,{id:"import-pool-link",to:T.i.FIND_POOL,children:Object(xe.jsx)(i.b,{id:"Import it."})})]})]}):Object(xe.jsxs)(x.b,{flexDirection:"column",alignItems:"center",marginTop:"60px",children:[Object(xe.jsx)(u.a,{size:48,color:e.subText}),Object(xe.jsx)(x.d,{fontSize:16,lineHeight:1.5,color:e.subText,textAlign:"center",marginTop:"1rem",children:Object(xe.jsx)(i.b,{id:"No staked liquidity found. Check out our <0>Farms.</0>",components:{0:Object(xe.jsx)(G.k,{to:"/farms"})}})})]}):!je||ce.length||K.length?(null===ce||void 0===ce?void 0:ce.length)>0||K.length?Object(xe.jsxs)(xe.Fragment,{children:[Object(xe.jsxs)(Be,{children:[ce.map((e=>{var t=Object.values(W).flat().find((t=>t.id.toLowerCase()===e.address.toLowerCase()));return Object(xe.jsx)(w.c,{pair:e,myLiquidity:de[e.address.toLowerCase()],farm:t,tab:"ALL"},e.liquidityToken.address)})),K.filter((e=>e.token0.symbol.toLowerCase().includes(Q)||e.token1.symbol.toLowerCase().includes(Q)||e.id.toLowerCase()===Q)).map((e=>Object(xe.jsx)(Je,{farm:e,userLiquidityPositions:null===F||void 0===F?void 0:F.liquidityPositions,tab:"ALL"},e.id)))]}),Object(xe.jsxs)(x.d,{fontSize:16,color:e.subText,textAlign:"center",marginTop:"1rem",children:[r.a._("Don't see a pool you joined?")," ",Object(xe.jsx)(G.k,{id:"import-pool-link",to:T.i.FIND_POOL,children:Object(xe.jsx)(i.b,{id:"Import it."})})]})]}):Object(xe.jsxs)(x.b,{flexDirection:"column",alignItems:"center",marginTop:"60px",children:[Object(xe.jsx)(u.a,{size:48,color:e.subText}),Object(xe.jsxs)(x.d,{fontSize:16,lineHeight:1.5,color:e.subText,textAlign:"center",marginTop:"1rem",children:[Object(xe.jsx)(i.b,{id:"No liquidity found. Check out our <0>Pools.</0>",components:{0:Object(xe.jsx)(G.k,{to:"/pools?tab=classic"})}}),Object(xe.jsx)("br",{}),r.a._("Don't see a pool you joined?")," ",Object(xe.jsx)(G.k,{id:"import-pool-link",to:T.i.FIND_POOL,children:Object(xe.jsx)(i.b,{id:"Import it."})})]})]}):Object(xe.jsxs)(Be,{children:[Object(xe.jsx)(Ve,{}),Object(xe.jsx)(Ve,{}),Object(xe.jsx)(Ve,{})]}):Object(xe.jsx)(O.g,{padding:"40px",children:Object(xe.jsx)(G.l.body,{color:e.text3,textAlign:"center",children:Object(xe.jsx)(i.b,{id:"Connect to a wallet to view your liquidity."})})})]})})}),Object(xe.jsx)(_.a,{})]}):Object(xe.jsx)(j.a,{to:"/"})}var Je=e=>{var t,o,s,n=e.farm,i=e.userLiquidityPositions,r=e.tab,c=Object(E.c)(null===(t=n.token0)||void 0===t?void 0:t.id)||void 0,a=Object(E.c)(null===(o=n.token1)||void 0===o?void 0:o.id)||void 0,l=Object(Fe.e)(n).farmAPR,b=Object(P.c)(null===c||void 0===c?void 0:c.wrapped,null===a||void 0===a?void 0:a.wrapped,n.id)[1];return b?Object(xe.jsx)(w.c,{pair:b,stakedBalance:d.TokenAmount.fromRawAmount(b.liquidityToken,(null===(s=n.userData)||void 0===s?void 0:s.stakedBalance)||"0"),myLiquidity:null===i||void 0===i?void 0:i.find((e=>e.pool.id===b.address)),farm:n,farmAPR:l,tab:r}):Object(xe.jsx)(Ve,{})}},"./src/pages/ProAmmPool/ContentLoader.tsx":function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));var s=o("./node_modules/rebass/dist/index.esm.js"),n=o("./node_modules/styled-components/dist/styled-components.browser.esm.js"),i=o("./src/components/Divider/index.tsx"),r=o("./node_modules/react/jsx-runtime.js"),c=Object(n.keyframes)(["to{background-position-x:-200%;}"]),d=n.default.div.withConfig({displayName:"ContentLoader__StyledPositionCard",componentId:"sc-1m7nxe9-0"})(["border:none;background:",";position:relative;overflow:hidden;border-radius:20px;padding:28px 20px 16px;display:flex;gap:1rem;flex-direction:column;"],(e=>e.theme.background)),a=n.default.div.withConfig({displayName:"ContentLoader__Loading",componentId:"sc-1m7nxe9-1"})(["background:linear-gradient( 90deg,"," 8%,"," 18%,"," 33% );border-radius:20px;background-size:200% 100%;animation:1.5s "," linear infinite;"],(e=>e.theme.tableHeader),(e=>e.theme.tableHeader),(e=>e.theme.tableHeader),c),l=Object(n.default)(a).withConfig({displayName:"ContentLoader__Title",componentId:"sc-1m7nxe9-2"})(["height:41px;"]),b=Object(n.default)(a).withConfig({displayName:"ContentLoader__Tab",componentId:"sc-1m7nxe9-3"})(["height:28px;border-radius:999px;"]);t.b=function(){return Object(r.jsxs)(d,{children:[Object(r.jsx)(l,{}),Object(r.jsx)(b,{}),Object(r.jsx)(a,{style:{height:"104px"}}),Object(r.jsx)(a,{style:{height:"128px"}}),Object(r.jsxs)(s.b,{children:[Object(r.jsx)(a,{style:{height:"36px",flex:1,borderRadius:"999px"}}),Object(r.jsx)(a,{style:{height:"36px",flex:1,marginLeft:"1rem",borderRadius:"999px"}})]}),Object(r.jsx)(i.b,{}),Object(r.jsx)(a,{style:{height:"15px",width:"80px",borderRadius:"999px"}})]})}}}]);
//# sourceMappingURL=my-pool-page.35f5f1ad.chunk.js.map