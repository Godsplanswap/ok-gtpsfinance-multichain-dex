{"version":3,"sources":["../node_modules/@kyberswap/ks-sdk-solana/dist/index.js","../node_modules/@kyberswap/ks-sdk-solana/dist/programs/kyberswap_factory_solana.js","../node_modules/@kyberswap/ks-sdk-solana/dist/programs/kyberswap_pool_solana.js","../node_modules/@kyberswap/ks-sdk-solana/dist/programs/kyberswap_router_solana.js","../node_modules/@kyberswap/ks-sdk-solana/dist/src/computeBudget/index.js","../node_modules/@kyberswap/ks-sdk-solana/dist/src/computeBudget/instructions/constants.js","../node_modules/@kyberswap/ks-sdk-solana/dist/src/computeBudget/instructions/index.js","../node_modules/@kyberswap/ks-sdk-solana/dist/src/computeBudget/instructions/requestUnits.js","../node_modules/@kyberswap/ks-sdk-solana/dist/src/computeBudget/instructions/types.js","../node_modules/@kyberswap/ks-sdk-solana/dist/src/constants.js","../node_modules/@kyberswap/ks-sdk-solana/dist/src/context.js","../node_modules/@kyberswap/ks-sdk-solana/dist/src/entities/Pool.js","../node_modules/@kyberswap/ks-sdk-solana/dist/src/entities/currency.js","../node_modules/@kyberswap/ks-sdk-solana/dist/src/entities/index.js","../node_modules/@kyberswap/ks-sdk-solana/dist/src/entities/route.js","../node_modules/@kyberswap/ks-sdk-solana/dist/src/entities/trade.js","../node_modules/@kyberswap/ks-sdk-solana/dist/src/errors.js","../node_modules/@kyberswap/ks-sdk-solana/dist/src/fetcher.js","../node_modules/@kyberswap/ks-sdk-solana/dist/src/index.js","../node_modules/@kyberswap/ks-sdk-solana/dist/src/router.js","../node_modules/@kyberswap/ks-sdk-solana/dist/src/utils.js","../node_modules/react-feather/dist/icons/command.js","../node_modules/react-feather/dist/icons/dollar-sign.js","../node_modules/react-loading-skeleton/dist/index.mjs","utils/positioning.ts","utils/constants.ts","utils/offset.ts","utils/dom.ts","utils/viewport.ts","components/Mask.tsx","defaultstyles.ts","components/Tooltip.tsx","utils/scroll.ts","utils/tour.ts","components/Walktour.tsx"],"names":["__createBinding","this","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__exportStar","exports","p","prototype","hasOwnProperty","call","value","require","IDL","COMPUTE_BUDGET_PROGRAM_ID","web3_js_1","PublicKey","createRequestUnitsInstruction","requestUnitsInstructionData","buffer_layout_1","types_1","constants_1","struct","u8","u32","units","additionalFee","programId","data","Buffer","alloc","span","encode","instruction","ComputeBudgetInstruction","RequestUnits","TransactionInstruction","keys","__importDefault","mod","LIQUIDITY_TOKEN_POOL_DECIMAL","RUST_TYPE_MAXIMA","RustType","TradeDirection","PRECISION_JSBI","_100_JSBI","TEN_JSBI","THREE_JSBI","TWO_JSBI","ONE_JSBI","ZERO_JSBI","PRECISION","_100","TEN","THREE","TWO","ONE","ZERO","INCINERATOR","MINIMUM_LIQUIDITY","FEE_OPTIONS","FEE_BPS","AMPLIFICATION_FACTOR_BPS","Rounding","anchor_1","jsbi_1","BN","pow","default","BigInt","exponentiate","u64","sub","U256","Context","kyberswap_factory_solana_1","kyberswap_pool_solana_1","kyberswap_router_solana_1","constructor","anchorProvider","factoryAddress","poolAddress","routerAddress","factoryProgram","Program","poolProgram","routerProgram","Pool","tiny_invariant_1","utils_1","errors_1","bn_js_1","ks_sdk_core_1","context","address","tokenAmountA","tokenAmountB","virtualTokenAmountA","virtualTokenAmountB","fee","amp","tokenAmounts","currency","sortsBefore","virtualTokenAmounts","findProgramAddressSync","toBuffer","poolAuthority","authority","from","liquidityTokenAddress","poolToken0Account","token0Account","poolToken1Account","token1Account","liquidityToken","Token","ChainId","SOLANA","toBase58","involvesToken","token","equals","token0","token1","token0Price","Price","baseAmount","quoteAmount","token1Price","priceOf","priceOfReal","reserve0","reserve1","virtualReserve0","virtualReserve1","reserveOf","virtualReserveOf","getOutputAmount","inputAmount","equalTo","InsufficientReservesError","outputToken","inputReserve","outputReserve","inputAmountWithFee","quotientBN","mul","div","numerator","denominator","add","outputAmount","TokenAmount","fromRawAmount","gte","eq","InsufficientInputAmountError","subtract","getInputAmount","inputToken","getLiquidityMinted","totalSupply","liquidity","sqrt","amount0","amount1","lte","gt","getLiquidityValue","totalSupplyAdjusted","feeBps","kLast","kLastParsed","parseBigintIsh","rootK","rootKLast","feeLiquidity","WSOL","SOL","NativeCurrency","wrapped","Route","currency_1","pairs","input","output","_midPrice","length","path","entries","i","pair","currentInput","push","midPrice","prices","reduced","slice","reduce","accumulator","currentValue","multiply","tradeDirections","dirs","ZERO_TO_ONE","ONE_TO_ZERO","accountMetas","map","pubkey","isSigner","isWritable","tradeComparator","inputOutputComparator","Trade","route_1","route","amount","tradeType","Array","nextInputReserves","nextOutputReserves","TradeType","EXACT_INPUT","currencyEquals","nextPair","CurrencyAmount","fromFractionalAmount","EXACT_OUTPUT","executionPrice","quotient","priceImpact","computePriceImpact","amountIn","amountOut","minimumAmountOut","slippageTolerance","lessThan","slippageAdjustedAmountOut","Fraction","invert","maximumAmountIn","slippageAdjustedAmountIn","originalAmountIn","currencyOut","maxNumResults","maxHops","currentPairs","currencyAmountIn","bestTrades","tokenOut","bestPool","bestAmountOut","j","pool","error","isInsufficientInputAmountError","isInsufficientReservesError","greaterThan","sortedInsert","pairsExcludingThisPair","concat","bestTradeExactIn","currencyIn","originalAmountOut","currencyAmountOut","tokenIn","bestAmountIn","bestTradeExactOut","a","b","ioComp","CAN_SET_PROTOTYPE","Error","super","name","setPrototypeOf","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","apply","Fetcher","src_1","spl_token_1","symbol","getMint","connection","mint","decimals","tokenA","tokenB","_a","_b","getTokenPairAddress","currentTokenPairAddress","account","tokenPair","fetch","tokenPairState","pairAddresses","getPoolAddressByTokenPairNonce","unamplifiedPool","getAccountInfo","owner","numAmplifiedPools","currentPool","fetchPoolAddresses","addresses","all","poolState","balance","vReserve0","virtualBalance","vReserve1","feeInPrecision","ampBps","curve","curveParameters","balances","Router","entities_1","routerState","_context","_routerStateAddress","routerStateAddress","getDelegatingAddress","findProgramAddress","routerAuthority","getWSOLUnwrapper","routerBalanceWsol","addLiquidity","poolStateAddress","liquidityProvider","tokenAMintAddress","tokenAAmount","tokenBAmount","tokenAAmountMin","tokenBAmountMin","preferNativeToken","token0Mint","token1Mint","factory","factoryState","getAssociatedTokenAddress","poolMint","feeTo","factoryBalanceFeeTo","liquidityProviderLiquidityToken","delegatingAddress","tokenAmount","solAmount","tokenAmountMin","solAmountMin","liquidityProviderToken","ix","addLiquiditySol","accounts","router","user","userBalanceToken","systemProgram","SystemProgram","poolBalanceToken0","poolBalanceToken1","poolMintLiquidity","poolBalanceLockedLiquidity","userBalanceLiquidity","systemTokenProgram","TOKEN_PROGRAM_ID","token0Amount","token1Amount","token0AmountMin","token1AmountMin","liquidityProviderToken0","liquidityProviderToken1","userBalanceToken0","userBalanceToken1","isInitializedTokenAccount","ixs","createAssociatedTokenAccountInstruction","Transaction","addLiquidityNewPool","tokenBMintAddress","amplificationFactorInBps","feeInBps","sortedTokens","token0MintAddress","token1MintAddress","getNextPoolStateAddress","isAmplifiedPool","poolBalanceLiquidity","createAtaIx","addLiquidityIx","ASSOCIATED_TOKEN_PROGRAM_ID","SYSVAR_RENT_PUBKEY","payer","incinerator","factoryFeeTo","tokenProgram","associatedTokenProgram","rent","createPool","removeLiquidity","amountAMin","amountBMin","removeLiquiditySol","wrappedSol","amount0Min","amount1Min","swap","trader","trade","options","solIn","isNative","solOut","allowedSlippage","swapExactSOLForTokens","swapExactTokensForTokensOrSOL","swapSOLForExactTokens","swapTokensForExactTokensOrSOL","minAmountOut","forToken","userBalanceTokenIn","firstPoolBalanceTokenIn","remainingAccounts","prepareForSwapExactTokensForTokens","preIxs","makeSwapInstructions","swapIxs","prepareForSwapExactSolForTokens","firstPoolBalanceWsol","maxAmountIn","prepareForSwapTokensForExactTokens","prepareForSwapSolForExactTokens","traderTokenAccountOut","to","swap2","userBalanceTo","swapToSol","ADD_LIQUIDITY_NEW_POOL_COMPUTE_BUDGET","BNtoJSBI","approveTokenForRouter","sendAndConfirmTransaction","createUserAssociatedTokenAccount","getAmplifiedPoolAddress","getUnamplifiedPoolAddress","validateRustTypeValue","rustType","tokenPairAddress","tokenPairNonce","toArrayLike","transaction","getLatestBlockhash","latestBlockHash","feePayer","wallet","publicKey","recentBlockhash","blockhash","lastValidBlockHeight","signTransaction","sendRawTransaction","serialize","txSign","confirmTransaction","assign","signature","toBytes","y","x","z","lt","index","confirmOptions","associatedTokenProgramId","associatedToken","commitment","createApproveInstruction","toString","approveKncTx","bigintIsh","items","maxSize","comparator","isFull","lo","hi","mid","splice","pop","getAccount","TokenAccountNotFoundError","TokenInvalidAccountOwnerError","currencyA","currencyB","_extends","target","arguments","source","key","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","Command","forwardRef","_ref","ref","_ref$color","color","_ref$size","size","rest","React","createElement","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","propTypes","PropTypes","string","oneOfType","number","displayName","DollarSign","x1","y1","x2","y2","SkeletonThemeContext","createContext","Skeleton","_c","count","Wrapper","wrapper","customClassName","className","containerClassName","containerTestId","circle","styleProp","style","originalPropsStyleOptions","contextStyleOptions","useContext","propsStyleOptions","styleOptions","baseColor","highlightColor","borderRadius","direction","duration","enableAnimation","styleOptionsToCssProperties","inline","elements","countCeil","Math","ceil","thisStyle","fractionalPart","fractionalWidth","skeletonSpan","Fragment","el","CardinalOrientation","root","scrollLeft","scrollTop","coords","curOffset","rootCoords","aCoords","aDims","aPosition","bPosition","bCoords","dims","element","elementDims","atViewportPosition","tooltip","predictViewport","currentCenter","accCenter","getCenter","acc","cur","ind","arr","orientation","CENTER","center","preferredCandidates","scrollDisabled","viewportDims","viewportScrollStart","viewportCurrentStart","viewportScrollEnd","tooltipDims","targetDims","targetCoords","curriedGetCombinedData","validPositions","filter","oc","absoluteCompatiblePositions","currentCompatiblePositions","combinedDims","combinedCoords","compatiblePositions","padding","viewportStart","viewportEnd","sx","sy","ex","ey","args","tooltipSeparation","orientationPreferences","getPositionFromCandidates","tourRoot","disableAutoScroll","allowForeignTarget","selector","defaultPosition","foreignTarget","noScroll","candidates","tooltipDistance","includeAllPositions","additionalPositions","centerX","centerY","eastOffset","southOffset","westOffset","northOffset","east","south","west","north","standardPositions","EAST","SOUTH","WEST","NORTH","eastAlign","southAlign","westAlign","northAlign","eastNorth","eastSouth","southEast","southWest","westSouth","westNorth","northWest","northEast","EASTNORTH","EASTSOUTH","SOUTHEAST","SOUTHWEST","WESTSOUTH","WESTNORTH","NORTHWEST","NORTHEAST","rawPosition","cans","specifiedCandidate","find","cc","adjustedPosition","abs","elementData","getBoundingClientRect","left","top","regex","prop","getComputedStyle","getPropertyValue","windowStart","window","pageYOffset","document","documentElement","pageXOffset","scrollingElement","body","test","parentElement","isSameNode","bDims","generateBounds","right","bottom","mostExtreme","largest","aBounds","bBounds","validCoordsA","validCoordsB","fitsDims","fitsHorizontally","fitsVertically","defaultElement","container","includeSelf","containerFocusables","focusableChildren","querySelectorAll","array","matches","forEach","start","end","querySelector","clientHeight","clientWidth","scrollHeight","scrollWidth","curScrollOffset","startCoords","atPosition","needsAdjusting","position","scrollDestination","endCoords","rightmost","bottommost","props","targetInfo","disableMaskInteraction","close","disableCloseOnClick","maskId","containerWidth","containerHeight","pathId","cutoutTop","cutoutLeft","cutoutRight","cutoutBottom","cursor","textAlign","border","backgroundColor","fontSize","margin","display","flexDirection","zIndex","fontFamily","boxShadow","minWidth","maxWidth","footer","justifyContent","marginTop","title","description","primaryButton","secondaryButton","tertiaryButton","marginRight","disabledButton","styles","prev","stepContent","customTitleRenderer","customDescriptionRenderer","customFooterRenderer","disableClose","disableNext","disablePrev","nextLabel","prevLabel","closeLabel","stepIndex","allSteps","tooltipStyle","prevDisabled","nextDisabled","onClick","disabled","destination","disableSmoothScrolling","scrollOptions","behavior","scrollTo","f","timeoutId","interval","clearTimeout","setTimeout","base","identifier","beforeStart","afterEnd","lightningRod","keyCode","shiftKey","preventDefault","focus","targetSelector","tooltipPosition","rerenderTolerance","currentTargetSize","currentTargetPosition","sizeChanged","positionChanged","currentPosition","action","actionValidator","maskPadding","transition","renderTolerance","updateInterval","steps","initialStepIndex","isOpen","controlled","isOpenState","setIsOpenState","setTarget","setTooltipPosition","currentStepIndex","setCurrentStepIndex","setTourRoot","cleanupRefs","portal","targetPosition","targetSize","currentStepContent","tourOpen","customTooltipRenderer","rootSelector","customNextFunc","customPrevFunc","customCloseFunc","movingTarget","disableMask","setUpdateListener","removeUpdateListener","disableListeners","disableSmoothScroll","debug","nextOnTargetClick","validateNextOnTargetClick","renderMask","cleanup","current","console","log","tourLogic","updateTour","tooltipContainer","targetScope","getTarget","currentTarget","currentTargetDims","smartPadding","cleanupFocusTrap","tooltipBeforeStart","tooltipAfterEnd","targetTrapHandler","tooltipFirst","tooltipLast","targetFirst","targetLast","addEventListener","tooltipTrapHandler","removeEventListener","conditionalUpdate","availableTarget","cleanupUpdateListener","event","update","customSetListener","customRemoveListener","cleanupWatcher","callback","intervalId","setInterval","clearInterval","cleanupTargetTether","validateNext","clickHandler","goToStep","baseLogic","reset","closeTour","fromTarget","keyPressHandler","portalStyle","visibility","pointerEvents","tooltipContainerStyle","MaskTag","render","id","onKeyDown","tabIndex"],"mappings":"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","file":"static/js/vendors~swapv2-page.f2761471.chunk.js","sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./src\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IDL = void 0;\nexports.IDL = {\n    \"version\": \"0.1.0\",\n    \"name\": \"kyberswap_factory_solana\",\n    \"instructions\": [\n        {\n            \"name\": \"initialize\",\n            \"accounts\": [\n                {\n                    \"name\": \"payer\",\n                    \"isMut\": true,\n                    \"isSigner\": true\n                },\n                {\n                    \"name\": \"feeToSetter\",\n                    \"isMut\": false,\n                    \"isSigner\": true\n                },\n                {\n                    \"name\": \"factoryState\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"systemProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                }\n            ],\n            \"args\": [\n                {\n                    \"name\": \"feeTo\",\n                    \"type\": \"publicKey\"\n                },\n                {\n                    \"name\": \"feeBps\",\n                    \"type\": \"u64\"\n                }\n            ]\n        },\n        {\n            \"name\": \"createPool\",\n            \"accounts\": [\n                {\n                    \"name\": \"payer\",\n                    \"isMut\": true,\n                    \"isSigner\": true\n                },\n                {\n                    \"name\": \"factoryState\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"tokenPair\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolState\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolAuthority\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"token0Mint\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"token1Mint\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceToken0\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceToken1\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"incinerator\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolMint\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceLiquidity\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceLockedLiquidity\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"factoryBalanceFeeTo\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"factoryFeeTo\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"tokenProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"associatedTokenProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"systemProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"rent\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                }\n            ],\n            \"args\": [\n                {\n                    \"name\": \"amplificationFactor\",\n                    \"type\": \"u64\"\n                },\n                {\n                    \"name\": \"feeBps\",\n                    \"type\": \"u16\"\n                }\n            ]\n        },\n        {\n            \"name\": \"setFeeConfiguration\",\n            \"accounts\": [\n                {\n                    \"name\": \"feeToSetter\",\n                    \"isMut\": false,\n                    \"isSigner\": true\n                },\n                {\n                    \"name\": \"factoryState\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                }\n            ],\n            \"args\": [\n                {\n                    \"name\": \"feeBps\",\n                    \"type\": \"u64\"\n                }\n            ]\n        }\n    ],\n    \"accounts\": [\n        {\n            \"name\": \"factory\",\n            \"type\": {\n                \"kind\": \"struct\",\n                \"fields\": [\n                    {\n                        \"name\": \"numPools\",\n                        \"type\": \"u64\"\n                    },\n                    {\n                        \"name\": \"feeTo\",\n                        \"type\": \"publicKey\"\n                    },\n                    {\n                        \"name\": \"feeBps\",\n                        \"type\": \"u64\"\n                    },\n                    {\n                        \"name\": \"feeToSetter\",\n                        \"type\": \"publicKey\"\n                    },\n                    {\n                        \"name\": \"numFeeOptions\",\n                        \"type\": \"u16\"\n                    },\n                    {\n                        \"name\": \"feeOptions\",\n                        \"type\": {\n                            \"array\": [\n                                \"u16\",\n                                16\n                            ]\n                        }\n                    }\n                ]\n            }\n        },\n        {\n            \"name\": \"tokenPair\",\n            \"type\": {\n                \"kind\": \"struct\",\n                \"fields\": [\n                    {\n                        \"name\": \"numAmplifiedPools\",\n                        \"type\": \"u64\"\n                    }\n                ]\n            }\n        }\n    ],\n    \"events\": [\n        {\n            \"name\": \"PoolCreated\",\n            \"fields\": [\n                {\n                    \"name\": \"token0\",\n                    \"type\": \"publicKey\",\n                    \"index\": false\n                },\n                {\n                    \"name\": \"token1\",\n                    \"type\": \"publicKey\",\n                    \"index\": false\n                },\n                {\n                    \"name\": \"pool\",\n                    \"type\": \"publicKey\",\n                    \"index\": false\n                },\n                {\n                    \"name\": \"ampBps\",\n                    \"type\": \"u64\",\n                    \"index\": false\n                },\n                {\n                    \"name\": \"feeBps\",\n                    \"type\": \"u16\",\n                    \"index\": false\n                },\n                {\n                    \"name\": \"totalPool\",\n                    \"type\": \"u64\",\n                    \"index\": false\n                }\n            ]\n        },\n        {\n            \"name\": \"SetFeeConfigurationEvent\",\n            \"fields\": [\n                {\n                    \"name\": \"feeTo\",\n                    \"type\": \"publicKey\",\n                    \"index\": false\n                },\n                {\n                    \"name\": \"feeBps\",\n                    \"type\": \"u64\",\n                    \"index\": false\n                }\n            ]\n        },\n        {\n            \"name\": \"SetFeeToSetterEvent\",\n            \"fields\": [\n                {\n                    \"name\": \"feeToSetter\",\n                    \"type\": \"publicKey\",\n                    \"index\": false\n                }\n            ]\n        }\n    ],\n    \"errors\": [\n        {\n            \"code\": 6000,\n            \"name\": \"InvalidOwner\",\n            \"msg\": \"The account must be owned by this program\"\n        },\n        {\n            \"code\": 6001,\n            \"name\": \"AllPoolsSpaceExceeded\",\n            \"msg\": \"The capacity of the account containing all pools is exceeded\"\n        },\n        {\n            \"code\": 6002,\n            \"name\": \"IdenticalAddresses\",\n            \"msg\": \"Token A must be not equal to Token B\"\n        },\n        {\n            \"code\": 6003,\n            \"name\": \"ZeroAddress\",\n            \"msg\": \"Token A and Token B must not be zero\"\n        },\n        {\n            \"code\": 6004,\n            \"name\": \"InvalidAmplificationFactor\",\n            \"msg\": \"Amplification factor must >=10000\"\n        },\n        {\n            \"code\": 6005,\n            \"name\": \"InvalidTokensPairIndex\",\n            \"msg\": \"Tokens pair index 0 is specified for unamplified pools, and tokens pair index >0 is specified for amplified pools.\"\n        },\n        {\n            \"code\": 6006,\n            \"name\": \"UnamplifiedPoolExists\",\n            \"msg\": \"The unamplified pool with the tokens pair already exists\"\n        },\n        {\n            \"code\": 6007,\n            \"name\": \"InvalidFee\",\n            \"msg\": \"KyberSwapFactory: Invalid fee\"\n        }\n    ]\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IDL = void 0;\nexports.IDL = {\n    \"version\": \"0.1.0\",\n    \"name\": \"kyberswap_pool_solana\",\n    \"instructions\": [\n        {\n            \"name\": \"initialize\",\n            \"accounts\": [\n                {\n                    \"name\": \"poolState\",\n                    \"isMut\": true,\n                    \"isSigner\": true\n                },\n                {\n                    \"name\": \"token0\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"token1\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceLiquidity\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceLockedLiquidity\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolMint\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"tokenProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                }\n            ],\n            \"args\": [\n                {\n                    \"name\": \"factoryAddress\",\n                    \"type\": \"publicKey\"\n                },\n                {\n                    \"name\": \"curveInput\",\n                    \"type\": {\n                        \"defined\": \"CurveInput\"\n                    }\n                },\n                {\n                    \"name\": \"tokenPairNonce\",\n                    \"type\": \"u64\"\n                },\n                {\n                    \"name\": \"feeBps\",\n                    \"type\": \"u16\"\n                }\n            ]\n        },\n        {\n            \"name\": \"mint\",\n            \"accounts\": [\n                {\n                    \"name\": \"poolState\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolAuthority\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceToken0\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceToken1\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolMintLiquidity\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceLockedLiquidity\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"userBalanceDestination\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"factoryState\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"factoryBalanceFeeTo\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"systemTokenProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                }\n            ],\n            \"args\": []\n        },\n        {\n            \"name\": \"burn\",\n            \"accounts\": [\n                {\n                    \"name\": \"poolState\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolAuthority\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceToken0\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceToken1\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolMintLiquidity\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceLiquidity\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"userBalanceToken0\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"userBalanceToken1\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"factoryState\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"factoryBalanceFeeTo\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"systemTokenProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                }\n            ],\n            \"args\": []\n        },\n        {\n            \"name\": \"swap\",\n            \"accounts\": [\n                {\n                    \"name\": \"poolState\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolAuthority\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"userBalanceTo\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceToken0\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceToken1\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"systemTokenProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                }\n            ],\n            \"args\": [\n                {\n                    \"name\": \"amount0Out\",\n                    \"type\": \"u128\"\n                },\n                {\n                    \"name\": \"amount1Out\",\n                    \"type\": \"u128\"\n                }\n            ]\n        },\n        {\n            \"name\": \"swap2\",\n            \"accounts\": [\n                {\n                    \"name\": \"poolState\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolAuthority\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"userBalanceTo\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceToken0\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceToken1\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"systemTokenProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                }\n            ],\n            \"args\": [\n                {\n                    \"name\": \"tradeDirection\",\n                    \"type\": \"u8\"\n                }\n            ]\n        },\n        {\n            \"name\": \"calculateAmountOut\",\n            \"accounts\": [\n                {\n                    \"name\": \"poolState\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                }\n            ],\n            \"args\": [\n                {\n                    \"name\": \"amountIn\",\n                    \"type\": \"u128\"\n                },\n                {\n                    \"name\": \"tradeDirection\",\n                    \"type\": \"u8\"\n                }\n            ]\n        },\n        {\n            \"name\": \"setCalculatedAmountOut\",\n            \"accounts\": [\n                {\n                    \"name\": \"poolState\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                }\n            ],\n            \"args\": [\n                {\n                    \"name\": \"amountOut\",\n                    \"type\": \"u128\"\n                }\n            ]\n        },\n        {\n            \"name\": \"calculateAmountIn\",\n            \"accounts\": [\n                {\n                    \"name\": \"poolState\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                }\n            ],\n            \"args\": [\n                {\n                    \"name\": \"amountOut\",\n                    \"type\": \"u128\"\n                },\n                {\n                    \"name\": \"tradeDirection\",\n                    \"type\": \"u8\"\n                }\n            ]\n        },\n        {\n            \"name\": \"skim\",\n            \"accounts\": [\n                {\n                    \"name\": \"poolState\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolAuthority\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceToken0\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceToken1\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"userBalanceToken0\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"userBalanceToken1\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"systemTokenProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                }\n            ],\n            \"args\": []\n        },\n        {\n            \"name\": \"sync\",\n            \"accounts\": [\n                {\n                    \"name\": \"poolState\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolAuthority\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceToken0\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceToken1\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolMintLiquidity\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"factoryState\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"factoryBalanceFeeTo\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"systemTokenProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                }\n            ],\n            \"args\": []\n        }\n    ],\n    \"accounts\": [\n        {\n            \"name\": \"factory\",\n            \"type\": {\n                \"kind\": \"struct\",\n                \"fields\": [\n                    {\n                        \"name\": \"numPools\",\n                        \"type\": \"u64\"\n                    },\n                    {\n                        \"name\": \"feeTo\",\n                        \"type\": \"publicKey\"\n                    },\n                    {\n                        \"name\": \"feeBps\",\n                        \"type\": \"u64\"\n                    },\n                    {\n                        \"name\": \"feeToSetter\",\n                        \"type\": \"publicKey\"\n                    },\n                    {\n                        \"name\": \"numFeeOptions\",\n                        \"type\": \"u16\"\n                    },\n                    {\n                        \"name\": \"feeOptions\",\n                        \"type\": {\n                            \"array\": [\n                                \"u16\",\n                                16\n                            ]\n                        }\n                    }\n                ]\n            }\n        },\n        {\n            \"name\": \"pool\",\n            \"type\": {\n                \"kind\": \"struct\",\n                \"fields\": [\n                    {\n                        \"name\": \"tokenPairNonce\",\n                        \"type\": \"u64\"\n                    },\n                    {\n                        \"name\": \"factoryAddress\",\n                        \"type\": \"publicKey\"\n                    },\n                    {\n                        \"name\": \"bumpSeed\",\n                        \"type\": \"u8\"\n                    },\n                    {\n                        \"name\": \"tokenProgramId\",\n                        \"type\": \"publicKey\"\n                    },\n                    {\n                        \"name\": \"curve\",\n                        \"type\": {\n                            \"defined\": \"CurveInput\"\n                        }\n                    },\n                    {\n                        \"name\": \"token0Mint\",\n                        \"type\": \"publicKey\"\n                    },\n                    {\n                        \"name\": \"token1Mint\",\n                        \"type\": \"publicKey\"\n                    },\n                    {\n                        \"name\": \"token0Account\",\n                        \"type\": \"publicKey\"\n                    },\n                    {\n                        \"name\": \"token1Account\",\n                        \"type\": \"publicKey\"\n                    },\n                    {\n                        \"name\": \"poolMint\",\n                        \"type\": \"publicKey\"\n                    },\n                    {\n                        \"name\": \"poolBalanceLiquidity\",\n                        \"type\": \"publicKey\"\n                    },\n                    {\n                        \"name\": \"poolBalanceLockedLiquidity\",\n                        \"type\": \"publicKey\"\n                    },\n                    {\n                        \"name\": \"balance\",\n                        \"type\": {\n                            \"defined\": \"Balance\"\n                        }\n                    },\n                    {\n                        \"name\": \"virtualBalance\",\n                        \"type\": {\n                            \"defined\": \"VirtualBalance\"\n                        }\n                    },\n                    {\n                        \"name\": \"kLast\",\n                        \"type\": {\n                            \"array\": [\n                                \"u64\",\n                                4\n                            ]\n                        }\n                    },\n                    {\n                        \"name\": \"feeInPrecision\",\n                        \"type\": \"u128\"\n                    },\n                    {\n                        \"name\": \"returnValue\",\n                        \"type\": {\n                            \"defined\": \"ReturnValue\"\n                        }\n                    }\n                ]\n            }\n        }\n    ],\n    \"types\": [\n        {\n            \"name\": \"CurveInput\",\n            \"type\": {\n                \"kind\": \"struct\",\n                \"fields\": [\n                    {\n                        \"name\": \"curveType\",\n                        \"type\": \"u8\"\n                    },\n                    {\n                        \"name\": \"curveParameters\",\n                        \"type\": \"u64\"\n                    }\n                ]\n            }\n        },\n        {\n            \"name\": \"MintLiquidityReturnValue\",\n            \"type\": {\n                \"kind\": \"struct\",\n                \"fields\": [\n                    {\n                        \"name\": \"liquidity\",\n                        \"type\": \"u128\"\n                    }\n                ]\n            }\n        },\n        {\n            \"name\": \"BurnLiquidityReturnValue\",\n            \"type\": {\n                \"kind\": \"struct\",\n                \"fields\": [\n                    {\n                        \"name\": \"amount0\",\n                        \"type\": \"u128\"\n                    },\n                    {\n                        \"name\": \"amount1\",\n                        \"type\": \"u128\"\n                    }\n                ]\n            }\n        },\n        {\n            \"name\": \"CalculateAmountOutReturnValue\",\n            \"type\": {\n                \"kind\": \"struct\",\n                \"fields\": [\n                    {\n                        \"name\": \"amountOut\",\n                        \"type\": \"u128\"\n                    }\n                ]\n            }\n        },\n        {\n            \"name\": \"CalculateAmountInReturnValue\",\n            \"type\": {\n                \"kind\": \"struct\",\n                \"fields\": [\n                    {\n                        \"name\": \"amountIn\",\n                        \"type\": \"u128\"\n                    }\n                ]\n            }\n        },\n        {\n            \"name\": \"ReturnValue\",\n            \"type\": {\n                \"kind\": \"struct\",\n                \"fields\": [\n                    {\n                        \"name\": \"kind\",\n                        \"type\": \"u8\"\n                    },\n                    {\n                        \"name\": \"value\",\n                        \"type\": {\n                            \"array\": [\n                                \"u8\",\n                                32\n                            ]\n                        }\n                    }\n                ]\n            }\n        },\n        {\n            \"name\": \"VirtualBalance\",\n            \"type\": {\n                \"kind\": \"struct\",\n                \"fields\": [\n                    {\n                        \"name\": \"vReserve0\",\n                        \"type\": \"u128\"\n                    },\n                    {\n                        \"name\": \"vReserve1\",\n                        \"type\": \"u128\"\n                    }\n                ]\n            }\n        },\n        {\n            \"name\": \"Balance\",\n            \"type\": {\n                \"kind\": \"struct\",\n                \"fields\": [\n                    {\n                        \"name\": \"reserve0\",\n                        \"type\": \"u128\"\n                    },\n                    {\n                        \"name\": \"reserve1\",\n                        \"type\": \"u128\"\n                    }\n                ]\n            }\n        },\n        {\n            \"name\": \"CurveType\",\n            \"type\": {\n                \"kind\": \"enum\",\n                \"variants\": [\n                    {\n                        \"name\": \"Dmm\"\n                    }\n                ]\n            }\n        },\n        {\n            \"name\": \"TradeDirection\",\n            \"type\": {\n                \"kind\": \"enum\",\n                \"variants\": [\n                    {\n                        \"name\": \"ZeroToOne\"\n                    },\n                    {\n                        \"name\": \"OneToZero\"\n                    }\n                ]\n            }\n        },\n        {\n            \"name\": \"ReturnValueEnum\",\n            \"type\": {\n                \"kind\": \"enum\",\n                \"variants\": [\n                    {\n                        \"name\": \"Uninitialized\"\n                    },\n                    {\n                        \"name\": \"MintLiquidity\",\n                        \"fields\": [\n                            {\n                                \"defined\": \"MintLiquidityReturnValue\"\n                            }\n                        ]\n                    },\n                    {\n                        \"name\": \"BurnLiquidity\",\n                        \"fields\": [\n                            {\n                                \"defined\": \"BurnLiquidityReturnValue\"\n                            }\n                        ]\n                    },\n                    {\n                        \"name\": \"CalculateAmountOut\",\n                        \"fields\": [\n                            {\n                                \"defined\": \"CalculateAmountOutReturnValue\"\n                            }\n                        ]\n                    },\n                    {\n                        \"name\": \"CalculateAmountIn\",\n                        \"fields\": [\n                            {\n                                \"defined\": \"CalculateAmountInReturnValue\"\n                            }\n                        ]\n                    }\n                ]\n            }\n        }\n    ],\n    \"errors\": [\n        {\n            \"code\": 6000,\n            \"name\": \"AlreadyInUse\",\n            \"msg\": \"Swap account already in use\"\n        },\n        {\n            \"code\": 6001,\n            \"name\": \"InvalidProgramAddress\",\n            \"msg\": \"Invalid program address generated from bump seed and key\"\n        },\n        {\n            \"code\": 6002,\n            \"name\": \"InvalidOwner\",\n            \"msg\": \"Input account owner is not the program address\"\n        },\n        {\n            \"code\": 6003,\n            \"name\": \"InvalidOutputOwner\",\n            \"msg\": \"Output pool account owner cannot be the program address\"\n        },\n        {\n            \"code\": 6004,\n            \"name\": \"ExpectedMint\",\n            \"msg\": \"Deserialized account is not an SPL Token mint\"\n        },\n        {\n            \"code\": 6005,\n            \"name\": \"ExpectedAccount\",\n            \"msg\": \"Deserialized account is not an SPL Token account\"\n        },\n        {\n            \"code\": 6006,\n            \"name\": \"EmptySupply\",\n            \"msg\": \"Input token account empty\"\n        },\n        {\n            \"code\": 6007,\n            \"name\": \"InvalidSupply\",\n            \"msg\": \"Pool token mint has a non-zero supply\"\n        },\n        {\n            \"code\": 6008,\n            \"name\": \"InvalidDelegate\",\n            \"msg\": \"Token account has a delegate\"\n        },\n        {\n            \"code\": 6009,\n            \"name\": \"InvalidInput\",\n            \"msg\": \"InvalidInput\"\n        },\n        {\n            \"code\": 6010,\n            \"name\": \"IncorrectSwapAccount\",\n            \"msg\": \"Address of the provided swap token account is incorrect\"\n        },\n        {\n            \"code\": 6011,\n            \"name\": \"IncorrectPoolMint\",\n            \"msg\": \"Address of the provided pool token mint is incorrect\"\n        },\n        {\n            \"code\": 6012,\n            \"name\": \"InvalidOutput\",\n            \"msg\": \"InvalidOutput\"\n        },\n        {\n            \"code\": 6013,\n            \"name\": \"CalculationFailure\",\n            \"msg\": \"General calculation failure due to overflow or underflow\"\n        },\n        {\n            \"code\": 6014,\n            \"name\": \"InvalidInstruction\",\n            \"msg\": \"Invalid instruction\"\n        },\n        {\n            \"code\": 6015,\n            \"name\": \"RepeatedMint\",\n            \"msg\": \"Swap input token accounts have the same mint\"\n        },\n        {\n            \"code\": 6016,\n            \"name\": \"ExceededSlippage\",\n            \"msg\": \"Swap instruction exceeds desired slippage limit\"\n        },\n        {\n            \"code\": 6017,\n            \"name\": \"InvalidCloseAuthority\",\n            \"msg\": \"Token account has a close authority\"\n        },\n        {\n            \"code\": 6018,\n            \"name\": \"InvalidFreezeAuthority\",\n            \"msg\": \"Pool token mint has a freeze authority\"\n        },\n        {\n            \"code\": 6019,\n            \"name\": \"IncorrectFeeAccount\",\n            \"msg\": \"Pool fee token account incorrect\"\n        },\n        {\n            \"code\": 6020,\n            \"name\": \"ZeroTradingTokens\",\n            \"msg\": \"Given pool token amount results in zero trading tokens\"\n        },\n        {\n            \"code\": 6021,\n            \"name\": \"FeeCalculationFailure\",\n            \"msg\": \"Fee calculation failed due to overflow, underflow, or unexpected 0\"\n        },\n        {\n            \"code\": 6022,\n            \"name\": \"ConversionFailure\",\n            \"msg\": \"Conversion to u64 failed with an overflow or underflow\"\n        },\n        {\n            \"code\": 6023,\n            \"name\": \"InvalidFee\",\n            \"msg\": \"The provided fee does not match the program owner's constraints\"\n        },\n        {\n            \"code\": 6024,\n            \"name\": \"IncorrectTokenProgramId\",\n            \"msg\": \"The provided token program does not match the token program expected by the swap\"\n        },\n        {\n            \"code\": 6025,\n            \"name\": \"UnsupportedCurveType\",\n            \"msg\": \"The provided curve type is not supported by the program owner\"\n        },\n        {\n            \"code\": 6026,\n            \"name\": \"InvalidCurve\",\n            \"msg\": \"The provided curve parameters are invalid\"\n        },\n        {\n            \"code\": 6027,\n            \"name\": \"UnsupportedCurveOperation\",\n            \"msg\": \"The operation cannot be performed on the given curve\"\n        },\n        {\n            \"code\": 6028,\n            \"name\": \"InvalidMint\",\n            \"msg\": \"Invalid mint in pool balance liquidity account\"\n        },\n        {\n            \"code\": 6029,\n            \"name\": \"InvalidAuthority\",\n            \"msg\": \"Invalid authority in token account\"\n        },\n        {\n            \"code\": 6030,\n            \"name\": \"AdditionOverflow\",\n            \"msg\": \"SafeMath: addition overflow\"\n        },\n        {\n            \"code\": 6031,\n            \"name\": \"SubtractionOverflow\",\n            \"msg\": \"SafeMath: subtraction overflow\"\n        },\n        {\n            \"code\": 6032,\n            \"name\": \"MultiplicationOverflow\",\n            \"msg\": \"SafeMath: multiplication overflow\"\n        },\n        {\n            \"code\": 6033,\n            \"name\": \"DivisionOverflow\",\n            \"msg\": \"SafeMath: division overflow\"\n        },\n        {\n            \"code\": 6034,\n            \"name\": \"InsufficientOutputAmount\",\n            \"msg\": \"KyberSwap: INSUFFICIENT_OUTPUT_AMOUNT\"\n        },\n        {\n            \"code\": 6035,\n            \"name\": \"InsufficientLiquidity\",\n            \"msg\": \"KyberSwap: INSUFFICIENT_LIQUIDITY\"\n        },\n        {\n            \"code\": 6036,\n            \"name\": \"InvalidTo\",\n            \"msg\": \"KyberSwap: INVALID_TO\"\n        },\n        {\n            \"code\": 6037,\n            \"name\": \"InsufficientInputAmount\",\n            \"msg\": \"KyberSwap: INSUFFICIENT_INPUT_AMOUNT\"\n        },\n        {\n            \"code\": 6038,\n            \"name\": \"K\",\n            \"msg\": \"KyberSwap: K\"\n        },\n        {\n            \"code\": 6039,\n            \"name\": \"Overflow\",\n            \"msg\": \"KyberSwap: OVERFLOW\"\n        },\n        {\n            \"code\": 6040,\n            \"name\": \"UnsyncReserves\",\n            \"msg\": \"KyberSwap: UNSYNC_RESERVES\"\n        },\n        {\n            \"code\": 6041,\n            \"name\": \"InsufficientLiquidityMinted\",\n            \"msg\": \"KyberSwap: INSUFFICIENT_LIQUIDITY_MINTED\"\n        },\n        {\n            \"code\": 6042,\n            \"name\": \"InsufficientLiquidityBurned\",\n            \"msg\": \"KyberSwap: INSUFFICIENT_LIQUIDITY_BURNED\"\n        },\n        {\n            \"code\": 6043,\n            \"name\": \"InvalidTradeDirection\",\n            \"msg\": \"KyberSwap: Invalid trade direction\"\n        },\n        {\n            \"code\": 6044,\n            \"name\": \"InvalidFeeConfiguration\",\n            \"msg\": \"KyberSwap: Invalid government fee configuration\"\n        },\n        {\n            \"code\": 6045,\n            \"name\": \"Forbidden\",\n            \"msg\": \"KyberSwap: Forbidden\"\n        },\n        {\n            \"code\": 6046,\n            \"name\": \"IdenticalAddresses\",\n            \"msg\": \"Token A must be not equal to Token B\"\n        },\n        {\n            \"code\": 6047,\n            \"name\": \"ZeroAddress\",\n            \"msg\": \"Token A and Token B must not be zero\"\n        }\n    ]\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IDL = void 0;\nexports.IDL = {\n    \"version\": \"0.1.0\",\n    \"name\": \"kyberswap_router_solana\",\n    \"instructions\": [\n        {\n            \"name\": \"initialize\",\n            \"accounts\": [\n                {\n                    \"name\": \"payer\",\n                    \"isMut\": true,\n                    \"isSigner\": true\n                },\n                {\n                    \"name\": \"router\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"routerAuthority\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"systemProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"rent\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                }\n            ],\n            \"args\": [\n                {\n                    \"name\": \"factoryState\",\n                    \"type\": \"publicKey\"\n                }\n            ]\n        },\n        {\n            \"name\": \"addLiquidity\",\n            \"accounts\": [\n                {\n                    \"name\": \"user\",\n                    \"isMut\": false,\n                    \"isSigner\": true\n                },\n                {\n                    \"name\": \"router\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolAuthority\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolState\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceToken0\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceToken1\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolMintLiquidity\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceLockedLiquidity\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"userBalanceLiquidity\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"routerAuthority\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"userBalanceToken0\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"userBalanceToken1\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"factoryState\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"factoryBalanceFeeTo\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"systemTokenProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                }\n            ],\n            \"args\": [\n                {\n                    \"name\": \"amount0Desired\",\n                    \"type\": \"u128\"\n                },\n                {\n                    \"name\": \"amount1Desired\",\n                    \"type\": \"u128\"\n                },\n                {\n                    \"name\": \"amount0Min\",\n                    \"type\": \"u128\"\n                },\n                {\n                    \"name\": \"amount1Min\",\n                    \"type\": \"u128\"\n                }\n            ]\n        },\n        {\n            \"name\": \"addLiquiditySol\",\n            \"accounts\": [\n                {\n                    \"name\": \"router\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"user\",\n                    \"isMut\": true,\n                    \"isSigner\": true\n                },\n                {\n                    \"name\": \"routerAuthority\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"userBalanceToken\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"systemProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolState\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolAuthority\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceToken0\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceToken1\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolMintLiquidity\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceLockedLiquidity\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"userBalanceLiquidity\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"factoryState\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"factoryBalanceFeeTo\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"systemTokenProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                }\n            ],\n            \"args\": [\n                {\n                    \"name\": \"amountTokenDesired\",\n                    \"type\": \"u128\"\n                },\n                {\n                    \"name\": \"amountSolDesired\",\n                    \"type\": \"u128\"\n                },\n                {\n                    \"name\": \"amountTokenMin\",\n                    \"type\": \"u128\"\n                },\n                {\n                    \"name\": \"amountSolMin\",\n                    \"type\": \"u128\"\n                }\n            ]\n        },\n        {\n            \"name\": \"prepareForSwapExactTokensForTokens\",\n            \"accounts\": [\n                {\n                    \"name\": \"user\",\n                    \"isMut\": false,\n                    \"isSigner\": true\n                },\n                {\n                    \"name\": \"router\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"routerAuthority\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"userBalanceTokenIn\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"firstPoolBalanceTokenIn\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"systemTokenProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                }\n            ],\n            \"args\": [\n                {\n                    \"name\": \"amountIn\",\n                    \"type\": \"u128\"\n                },\n                {\n                    \"name\": \"amountOutMin\",\n                    \"type\": \"u128\"\n                },\n                {\n                    \"name\": \"tradeDirections\",\n                    \"type\": \"bytes\"\n                }\n            ]\n        },\n        {\n            \"name\": \"prepareForSwapExactSolForTokens\",\n            \"accounts\": [\n                {\n                    \"name\": \"user\",\n                    \"isMut\": true,\n                    \"isSigner\": true\n                },\n                {\n                    \"name\": \"router\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"firstPoolBalanceWsol\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"systemTokenProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"systemProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                }\n            ],\n            \"args\": [\n                {\n                    \"name\": \"amountIn\",\n                    \"type\": \"u128\"\n                },\n                {\n                    \"name\": \"amountOutMin\",\n                    \"type\": \"u128\"\n                },\n                {\n                    \"name\": \"tradeDirections\",\n                    \"type\": \"bytes\"\n                }\n            ]\n        },\n        {\n            \"name\": \"prepareForSwapSolForExactTokens\",\n            \"accounts\": [\n                {\n                    \"name\": \"user\",\n                    \"isMut\": true,\n                    \"isSigner\": true\n                },\n                {\n                    \"name\": \"router\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"firstPoolBalanceWsol\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"systemTokenProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"systemProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                }\n            ],\n            \"args\": [\n                {\n                    \"name\": \"amountOut\",\n                    \"type\": \"u128\"\n                },\n                {\n                    \"name\": \"amountInMax\",\n                    \"type\": \"u128\"\n                },\n                {\n                    \"name\": \"tradeDirections\",\n                    \"type\": \"bytes\"\n                }\n            ]\n        },\n        {\n            \"name\": \"prepareForSwapTokensForExactTokens\",\n            \"accounts\": [\n                {\n                    \"name\": \"user\",\n                    \"isMut\": true,\n                    \"isSigner\": true\n                },\n                {\n                    \"name\": \"router\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"routerAuthority\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"userBalanceTokenIn\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"firstPoolBalanceTokenIn\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"systemTokenProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                }\n            ],\n            \"args\": [\n                {\n                    \"name\": \"amountOut\",\n                    \"type\": \"u128\"\n                },\n                {\n                    \"name\": \"amountInMax\",\n                    \"type\": \"u128\"\n                },\n                {\n                    \"name\": \"tradeDirections\",\n                    \"type\": \"bytes\"\n                }\n            ]\n        },\n        {\n            \"name\": \"swapToSol\",\n            \"accounts\": [\n                {\n                    \"name\": \"user\",\n                    \"isMut\": true,\n                    \"isSigner\": true\n                },\n                {\n                    \"name\": \"router\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"routerAuthority\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"routerBalanceWsol\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"wrappedSol\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"systemProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"rent\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolState\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolAuthority\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceToken0\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceToken1\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"systemTokenProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                }\n            ],\n            \"args\": []\n        },\n        {\n            \"name\": \"removeLiquidity\",\n            \"accounts\": [\n                {\n                    \"name\": \"user\",\n                    \"isMut\": false,\n                    \"isSigner\": true\n                },\n                {\n                    \"name\": \"router\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"routerAuthority\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"userBalanceLiquidity\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolState\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolAuthority\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceToken0\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceToken1\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolMintLiquidity\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceLiquidity\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"userBalanceToken0\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"userBalanceToken1\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"factoryState\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"factoryBalanceFeeTo\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"systemTokenProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                }\n            ],\n            \"args\": [\n                {\n                    \"name\": \"liquidity\",\n                    \"type\": \"u128\"\n                },\n                {\n                    \"name\": \"amount0Min\",\n                    \"type\": \"u128\"\n                },\n                {\n                    \"name\": \"amount1Min\",\n                    \"type\": \"u128\"\n                }\n            ]\n        },\n        {\n            \"name\": \"removeLiquiditySol\",\n            \"accounts\": [\n                {\n                    \"name\": \"router\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"user\",\n                    \"isMut\": true,\n                    \"isSigner\": true\n                },\n                {\n                    \"name\": \"routerAuthority\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"userBalanceLiquidity\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"routerBalanceWsol\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"wrappedSol\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"systemProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"rent\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolState\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolAuthority\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceToken0\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceToken1\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolMintLiquidity\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"poolBalanceLiquidity\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"userBalanceToken\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"factoryState\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"factoryBalanceFeeTo\",\n                    \"isMut\": true,\n                    \"isSigner\": false\n                },\n                {\n                    \"name\": \"systemTokenProgram\",\n                    \"isMut\": false,\n                    \"isSigner\": false\n                }\n            ],\n            \"args\": [\n                {\n                    \"name\": \"liquidity\",\n                    \"type\": \"u128\"\n                },\n                {\n                    \"name\": \"amountTokenMin\",\n                    \"type\": \"u128\"\n                },\n                {\n                    \"name\": \"amountSolMin\",\n                    \"type\": \"u128\"\n                }\n            ]\n        }\n    ],\n    \"accounts\": [\n        {\n            \"name\": \"router\",\n            \"type\": {\n                \"kind\": \"struct\",\n                \"fields\": [\n                    {\n                        \"name\": \"factoryAddress\",\n                        \"type\": \"publicKey\"\n                    }\n                ]\n            }\n        }\n    ],\n    \"errors\": [\n        {\n            \"code\": 6000,\n            \"name\": \"InvalidProgramAddress\",\n            \"msg\": \"The program address is invalid \"\n        },\n        {\n            \"code\": 6001,\n            \"name\": \"InvalidAuthority\",\n            \"msg\": \"The authority must be correctly generated\"\n        },\n        {\n            \"code\": 6002,\n            \"name\": \"InvalidOwner\",\n            \"msg\": \"The account must be owned by this program\"\n        },\n        {\n            \"code\": 6003,\n            \"name\": \"AllPoolsSpaceExceeded\",\n            \"msg\": \"The capacity of the account containing all pools is exceeded\"\n        },\n        {\n            \"code\": 6004,\n            \"name\": \"IdenticalAddresses\",\n            \"msg\": \"Token A must be not equal to Token B\"\n        },\n        {\n            \"code\": 6005,\n            \"name\": \"ZeroAddress\",\n            \"msg\": \"Token A and Token B must not be zero\"\n        },\n        {\n            \"code\": 6006,\n            \"name\": \"InvalidAmplificationFactor\",\n            \"msg\": \"Amplification factor must >=10000\"\n        },\n        {\n            \"code\": 6007,\n            \"name\": \"InvalidTokensPairIndex\",\n            \"msg\": \"Tokens pair index 0 is specified for unamplified pools, and tokens pair index >0 is specified for amplified pools.\"\n        },\n        {\n            \"code\": 6008,\n            \"name\": \"UnamplifiedPoolExists\",\n            \"msg\": \"The unamplified pool with the tokens pair already exists\"\n        },\n        {\n            \"code\": 6009,\n            \"name\": \"InsufficientAAmount\",\n            \"msg\": \"KyberSwapRouter: INSUFFICIENT_A_AMOUNT\"\n        },\n        {\n            \"code\": 6010,\n            \"name\": \"InsufficientBAmount\",\n            \"msg\": \"KyberSwapRouter: INSUFFICIENT_B_AMOUNT\"\n        },\n        {\n            \"code\": 6011,\n            \"name\": \"InvalidAmountA\",\n            \"msg\": \"KyberSwapRouter: Amount A should not be less than desired in case amount_B_optimal > amount_B_desired\"\n        },\n        {\n            \"code\": 6012,\n            \"name\": \"InvalidSourceTokenMint\",\n            \"msg\": \"KyberSwapRouter: Source token's mint does not match\"\n        },\n        {\n            \"code\": 6013,\n            \"name\": \"InvalidTradeDirection\",\n            \"msg\": \"KyberSwapRouter: Invalid trade direction\"\n        },\n        {\n            \"code\": 6014,\n            \"name\": \"InvalidPoolLength\",\n            \"msg\": \"KyberSwapRouter: Invalid pool length\"\n        },\n        {\n            \"code\": 6015,\n            \"name\": \"InvalidPoolAccount\",\n            \"msg\": \"KyberSwapRouter: Invalid pool account\"\n        },\n        {\n            \"code\": 6016,\n            \"name\": \"InvalidPath\",\n            \"msg\": \"KyberSwapRouter: Invalid path\"\n        },\n        {\n            \"code\": 6017,\n            \"name\": \"InsufficientOutputAmount\",\n            \"msg\": \"KyberSwapRouter: insufficient output amount\"\n        },\n        {\n            \"code\": 6018,\n            \"name\": \"ExcessiveInputAmount\",\n            \"msg\": \"KyberSwapRouter: excessive input amount\"\n        },\n        {\n            \"code\": 6019,\n            \"name\": \"InvalidReturnValue\",\n            \"msg\": \"KyberSwapRouter: invalid return value\"\n        },\n        {\n            \"code\": 6020,\n            \"name\": \"InvalidMint\",\n            \"msg\": \"KyberSwapRouter: Invalid mint\"\n        }\n    ]\n};\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./instructions\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.COMPUTE_BUDGET_PROGRAM_ID = void 0;\nconst web3_js_1 = require(\"@solana/web3.js\");\n/** Address of the ComputeBudget program */\nexports.COMPUTE_BUDGET_PROGRAM_ID = new web3_js_1.PublicKey('ComputeBudget111111111111111111111111111111');\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./constants\"), exports);\n__exportStar(require(\"./requestUnits\"), exports);\n__exportStar(require(\"./types\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createRequestUnitsInstruction = exports.requestUnitsInstructionData = void 0;\nconst buffer_layout_1 = require(\"@solana/buffer-layout\");\nconst types_1 = require(\"./types\");\nconst web3_js_1 = require(\"@solana/web3.js\");\nconst constants_1 = require(\"./constants\");\nexports.requestUnitsInstructionData = (0, buffer_layout_1.struct)([\n    (0, buffer_layout_1.u8)('instruction'),\n    (0, buffer_layout_1.u32)('units'),\n    (0, buffer_layout_1.u32)('additionalFee'),\n]);\n/**\n * Create an RequestUnits instruction\n * @param units Units to request\n * @param additionalFee Additional fee to add\n * @param programId ComputeBudget program account\n * @returns Instruction to add to a transaction\n */\nfunction createRequestUnitsInstruction(units, additionalFee, programId = constants_1.COMPUTE_BUDGET_PROGRAM_ID) {\n    const data = Buffer.alloc(exports.requestUnitsInstructionData.span);\n    exports.requestUnitsInstructionData.encode({\n        instruction: types_1.ComputeBudgetInstruction.RequestUnits,\n        units,\n        additionalFee,\n    }, data);\n    return new web3_js_1.TransactionInstruction({ keys: [], programId, data });\n}\nexports.createRequestUnitsInstruction = createRequestUnitsInstruction;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ComputeBudgetInstruction = void 0;\n/** Instructions defined by the ComputeBudget program */\nvar ComputeBudgetInstruction;\n(function (ComputeBudgetInstruction) {\n    ComputeBudgetInstruction[ComputeBudgetInstruction[\"RequestUnits\"] = 0] = \"RequestUnits\";\n})(ComputeBudgetInstruction = exports.ComputeBudgetInstruction || (exports.ComputeBudgetInstruction = {}));\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LIQUIDITY_TOKEN_POOL_DECIMAL = exports.RUST_TYPE_MAXIMA = exports.RustType = exports.TradeDirection = exports.PRECISION_JSBI = exports._100_JSBI = exports.TEN_JSBI = exports.THREE_JSBI = exports.TWO_JSBI = exports.ONE_JSBI = exports.ZERO_JSBI = exports.PRECISION = exports._100 = exports.TEN = exports.THREE = exports.TWO = exports.ONE = exports.ZERO = exports.INCINERATOR = exports.MINIMUM_LIQUIDITY = exports.FEE_OPTIONS = exports.FEE_BPS = exports.AMPLIFICATION_FACTOR_BPS = exports.Rounding = void 0;\nconst web3_js_1 = require(\"@solana/web3.js\");\nconst anchor_1 = require(\"@project-serum/anchor\");\nconst jsbi_1 = __importDefault(require(\"jsbi\"));\nvar Rounding;\n(function (Rounding) {\n    Rounding[Rounding[\"ROUND_DOWN\"] = 0] = \"ROUND_DOWN\";\n    Rounding[Rounding[\"ROUND_HALF_UP\"] = 1] = \"ROUND_HALF_UP\";\n    Rounding[Rounding[\"ROUND_UP\"] = 2] = \"ROUND_UP\";\n})(Rounding = exports.Rounding || (exports.Rounding = {}));\nexports.AMPLIFICATION_FACTOR_BPS = 10000;\nexports.FEE_BPS = 10000;\nexports.FEE_OPTIONS = [1, 5, 30, 50, 100];\nexports.MINIMUM_LIQUIDITY = 1000;\nexports.INCINERATOR = new web3_js_1.PublicKey('1nc1nerator11111111111111111111111111111111');\n// exports for internal consumption\nexports.ZERO = new anchor_1.BN(0);\nexports.ONE = new anchor_1.BN(1);\nexports.TWO = new anchor_1.BN(2);\nexports.THREE = new anchor_1.BN(3);\nexports.TEN = new anchor_1.BN(10);\nexports._100 = new anchor_1.BN(100);\nexports.PRECISION = new anchor_1.BN(10).pow(new anchor_1.BN(9));\nexports.ZERO_JSBI = jsbi_1.default.BigInt(0);\nexports.ONE_JSBI = jsbi_1.default.BigInt(1);\nexports.TWO_JSBI = jsbi_1.default.BigInt(2);\nexports.THREE_JSBI = jsbi_1.default.BigInt(3);\nexports.TEN_JSBI = jsbi_1.default.BigInt(10);\nexports._100_JSBI = jsbi_1.default.BigInt(100);\nexports.PRECISION_JSBI = jsbi_1.default.exponentiate(jsbi_1.default.BigInt(10), jsbi_1.default.BigInt(9));\nvar TradeDirection;\n(function (TradeDirection) {\n    TradeDirection[TradeDirection[\"ZERO_TO_ONE\"] = 0] = \"ZERO_TO_ONE\";\n    TradeDirection[TradeDirection[\"ONE_TO_ZERO\"] = 1] = \"ONE_TO_ZERO\";\n})(TradeDirection = exports.TradeDirection || (exports.TradeDirection = {}));\nvar RustType;\n(function (RustType) {\n    RustType[\"u64\"] = \"u64\";\n    RustType[\"U256\"] = \"U256\";\n})(RustType = exports.RustType || (exports.RustType = {}));\nexports.RUST_TYPE_MAXIMA = {\n    [RustType.u64]: new anchor_1.BN(2).pow(new anchor_1.BN(64)).sub(exports.ONE),\n    [RustType.U256]: new anchor_1.BN(2).pow(new anchor_1.BN(256)).sub(exports.ONE),\n};\nexports.LIQUIDITY_TOKEN_POOL_DECIMAL = 9;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Context = void 0;\nconst anchor_1 = require(\"@project-serum/anchor\");\nconst kyberswap_factory_solana_1 = require(\"../programs/kyberswap_factory_solana\");\nconst kyberswap_pool_solana_1 = require(\"../programs/kyberswap_pool_solana\");\nconst kyberswap_router_solana_1 = require(\"../programs/kyberswap_router_solana\");\n/**\n * Contains KyberSwap program structs to create instructions and fetch accounts from the network.\n */\nclass Context {\n    /**\n     * Create a Context from anchorProvider and program addresses.\n     * @param anchorProvider The anchorProvider\n     * @param factoryAddress The address of KyberswapFactory program.\n     * @param poolAddress The address of KyberswapPool program.\n     * @param routerAddress The address of KyberswapRouter program.\n     */\n    constructor(anchorProvider, factoryAddress, poolAddress, routerAddress) {\n        this.anchorProvider = anchorProvider;\n        this.factoryProgram = new anchor_1.Program(kyberswap_factory_solana_1.IDL, factoryAddress, anchorProvider);\n        this.poolProgram = new anchor_1.Program(kyberswap_pool_solana_1.IDL, poolAddress, anchorProvider);\n        this.routerProgram = new anchor_1.Program(kyberswap_router_solana_1.IDL, routerAddress, anchorProvider);\n    }\n}\nexports.Context = Context;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Pool = void 0;\nconst tiny_invariant_1 = __importDefault(require(\"tiny-invariant\"));\nconst constants_1 = require(\"../constants\");\nconst utils_1 = require(\"../utils\");\nconst errors_1 = require(\"../errors\");\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst web3_js_1 = require(\"@solana/web3.js\");\nconst ks_sdk_core_1 = require(\"@kyberswap/ks-sdk-core\");\nclass Pool {\n    constructor(context, address, tokenAmountA, tokenAmountB, virtualTokenAmountA, virtualTokenAmountB, fee, amp) {\n        this.address = address;\n        const tokenAmounts = tokenAmountA.currency.sortsBefore(tokenAmountB.currency) // does safety checks\n            ? [tokenAmountA, tokenAmountB]\n            : [tokenAmountB, tokenAmountA];\n        const virtualTokenAmounts = tokenAmountA.currency.sortsBefore(tokenAmountB.currency) // does safety checks\n            ? [virtualTokenAmountA, virtualTokenAmountB]\n            : [virtualTokenAmountB, virtualTokenAmountA];\n        const [poolAuthority] = web3_js_1.PublicKey.findProgramAddressSync([this.address.toBuffer()], context.poolProgram.programId);\n        this.authority = poolAuthority;\n        const [liquidityTokenAddress] = web3_js_1.PublicKey.findProgramAddressSync([this.address.toBuffer(), Buffer.from('KyberSwapPoolLiquidityToken')], context.factoryProgram.programId);\n        const [poolToken0Account] = web3_js_1.PublicKey.findProgramAddressSync([this.address.toBuffer(), Buffer.from('KyberSwapPoolBalanceToken0')], context.factoryProgram.programId);\n        this.token0Account = poolToken0Account;\n        const [poolToken1Account] = web3_js_1.PublicKey.findProgramAddressSync([this.address.toBuffer(), Buffer.from('KyberSwapPoolBalanceToken1')], context.factoryProgram.programId);\n        this.token1Account = poolToken1Account;\n        this.liquidityToken = new ks_sdk_core_1.Token(ks_sdk_core_1.ChainId.SOLANA, liquidityTokenAddress.toBase58(), constants_1.LIQUIDITY_TOKEN_POOL_DECIMAL, 'DMM-LP', 'DMM LP');\n        this.tokenAmounts = tokenAmounts;\n        this.virtualTokenAmounts = virtualTokenAmounts;\n        this.fee = fee;\n        this.amp = amp;\n    }\n    /**\n     * Returns true if the token is either token0 or token1\n     * @param token to check\n     */\n    involvesToken(token) {\n        return token.equals(this.token0) || token.equals(this.token1);\n    }\n    /**\n     * Returns the current mid price of the pair in terms of token0, i.e. the ratio of reserve1 to reserve0\n     */\n    get token0Price() {\n        return new ks_sdk_core_1.Price({ baseAmount: this.virtualTokenAmounts[0], quoteAmount: this.virtualTokenAmounts[1] });\n    }\n    /**\n     * Returns the current mid price of the pair in terms of token1, i.e. the ratio of reserve0 to reserve1\n     */\n    get token1Price() {\n        return new ks_sdk_core_1.Price({ baseAmount: this.virtualTokenAmounts[1], quoteAmount: this.virtualTokenAmounts[0] });\n    }\n    /**\n     * Return the price of the given token in terms of the other token in the pair.\n     * @param token token to return price of\n     */\n    priceOf(token) {\n        (0, tiny_invariant_1.default)(this.involvesToken(token), 'TOKEN');\n        return token.equals(this.token0) ? this.token0Price : this.token1Price;\n    }\n    priceOfReal(token) {\n        (0, tiny_invariant_1.default)(this.involvesToken(token), 'TOKEN');\n        return token.equals(this.token0)\n            ? new ks_sdk_core_1.Price({ baseAmount: this.virtualTokenAmounts[0], quoteAmount: this.virtualTokenAmounts[1] })\n            : new ks_sdk_core_1.Price({ baseAmount: this.virtualTokenAmounts[1], quoteAmount: this.virtualTokenAmounts[0] });\n    }\n    get token0() {\n        return this.tokenAmounts[0].currency;\n    }\n    get token1() {\n        return this.tokenAmounts[1].currency;\n    }\n    get reserve0() {\n        return this.tokenAmounts[0];\n    }\n    get reserve1() {\n        return this.tokenAmounts[1];\n    }\n    get virtualReserve0() {\n        return this.virtualTokenAmounts[0];\n    }\n    get virtualReserve1() {\n        return this.virtualTokenAmounts[1];\n    }\n    reserveOf(token) {\n        (0, tiny_invariant_1.default)(this.involvesToken(token), 'TOKEN');\n        return token.equals(this.token0) ? this.reserve0 : this.reserve1;\n    }\n    virtualReserveOf(token) {\n        (0, tiny_invariant_1.default)(this.involvesToken(token), 'TOKEN');\n        return token.equals(this.token0) ? this.virtualReserve0 : this.virtualReserve1;\n    }\n    getOutputAmount(inputAmount) {\n        (0, tiny_invariant_1.default)(this.involvesToken(inputAmount.currency), 'TOKEN');\n        if (this.reserve0.equalTo(0) || this.reserve1.equalTo(0)) {\n            throw new errors_1.InsufficientReservesError();\n        }\n        const outputToken = inputAmount.currency.equals(this.token0) ? this.token1 : this.token0;\n        const inputReserve = this.virtualReserveOf(inputAmount.currency);\n        const outputReserve = this.virtualReserveOf(outputToken);\n        const inputAmountWithFee = inputAmount.quotientBN.mul(constants_1.PRECISION.sub(this.fee)).div(constants_1.PRECISION);\n        const numerator = inputAmountWithFee.mul(outputReserve.quotientBN);\n        const denominator = inputReserve.quotientBN.add(inputAmountWithFee);\n        const outputAmount = ks_sdk_core_1.TokenAmount.fromRawAmount(outputToken, numerator.div(denominator));\n        if (outputAmount.quotientBN.gte(this.reserveOf(outputToken).quotientBN)) {\n            throw new errors_1.InsufficientReservesError();\n        }\n        if (outputAmount.quotientBN.eq(constants_1.ZERO)) {\n            throw new errors_1.InsufficientInputAmountError();\n        }\n        return [outputAmount, [inputReserve.add(inputAmount), outputReserve.subtract(outputAmount)]];\n    }\n    getInputAmount(outputAmount) {\n        (0, tiny_invariant_1.default)(this.involvesToken(outputAmount.currency), 'TOKEN');\n        if (this.reserve0.quotientBN.eq(constants_1.ZERO) ||\n            this.reserve1.quotientBN.eq(constants_1.ZERO) ||\n            outputAmount.quotientBN.gte(this.reserveOf(outputAmount.currency).quotientBN)) {\n            throw new errors_1.InsufficientReservesError();\n        }\n        const inputToken = outputAmount.currency.equals(this.token0) ? this.token1 : this.token0;\n        const outputReserve = this.virtualReserveOf(outputAmount.currency);\n        const inputReserve = this.virtualReserveOf(inputToken);\n        ///\n        let numerator = inputReserve.quotientBN.mul(outputAmount.quotientBN);\n        let denominator = outputReserve.quotientBN.sub(outputAmount.quotientBN);\n        const inputAmountWithFee = numerator.div(denominator).add(constants_1.ONE);\n        numerator = inputAmountWithFee.mul(constants_1.PRECISION);\n        denominator = constants_1.PRECISION.sub(this.fee);\n        const inputAmount = ks_sdk_core_1.TokenAmount.fromRawAmount(inputToken, numerator.add(denominator).sub(constants_1.ONE).div(denominator));\n        return [inputAmount, [inputReserve.add(inputAmount), outputReserve.subtract(outputAmount)]];\n    }\n    getLiquidityMinted(totalSupply, tokenAmountA, tokenAmountB) {\n        (0, tiny_invariant_1.default)(totalSupply.currency.equals(this.liquidityToken), 'LIQUIDITY');\n        const tokenAmounts = tokenAmountA.currency.sortsBefore(tokenAmountB.currency) // does safety checks\n            ? [tokenAmountA, tokenAmountB]\n            : [tokenAmountB, tokenAmountA];\n        (0, tiny_invariant_1.default)(tokenAmounts[0].currency.equals(this.token0) && tokenAmounts[1].currency.equals(this.token1), 'TOKEN');\n        let liquidity;\n        if (totalSupply.quotientBN.eq(constants_1.ZERO)) {\n            liquidity = (0, utils_1.sqrt)(tokenAmounts[0].quotientBN.mul(tokenAmounts[1].quotientBN)).sub(new bn_js_1.default(constants_1.MINIMUM_LIQUIDITY));\n        }\n        else {\n            const amount0 = tokenAmounts[0].quotientBN.mul(totalSupply.quotientBN).div(this.reserve0.quotientBN);\n            const amount1 = tokenAmounts[1].quotientBN.mul(totalSupply.quotientBN).div(this.reserve1.quotientBN);\n            liquidity = amount0.lte(amount1) ? amount0 : amount1;\n        }\n        if (!liquidity.gt(constants_1.ZERO)) {\n            throw new errors_1.InsufficientInputAmountError();\n        }\n        return ks_sdk_core_1.TokenAmount.fromRawAmount(this.liquidityToken, liquidity);\n    }\n    getLiquidityValue(token, totalSupply, liquidity, feeBps = constants_1.ZERO, kLast) {\n        (0, tiny_invariant_1.default)(this.involvesToken(token), 'TOKEN');\n        (0, tiny_invariant_1.default)(totalSupply.currency.equals(this.liquidityToken), 'TOTAL_SUPPLY');\n        (0, tiny_invariant_1.default)(liquidity.currency.equals(this.liquidityToken), 'LIQUIDITY');\n        (0, tiny_invariant_1.default)(liquidity.quotientBN.lte(totalSupply.quotientBN), 'LIQUIDITY');\n        let totalSupplyAdjusted;\n        if (feeBps.eq(constants_1.ZERO)) {\n            totalSupplyAdjusted = totalSupply;\n        }\n        else {\n            (0, tiny_invariant_1.default)(!!kLast, 'K_LAST');\n            const kLastParsed = (0, utils_1.parseBigintIsh)(kLast);\n            if (!kLastParsed.eq(constants_1.ZERO)) {\n                const rootK = (0, utils_1.sqrt)(this.virtualReserve0.quotientBN.mul(this.virtualReserve1.quotientBN));\n                const rootKLast = (0, utils_1.sqrt)(kLastParsed);\n                if (rootK.gt(rootKLast)) {\n                    const numerator = totalSupply.quotientBN.mul(rootK.sub(rootKLast)).mul(feeBps);\n                    const denominator = rootK.add(rootKLast).mul(new bn_js_1.default(5000));\n                    const feeLiquidity = numerator.div(denominator);\n                    totalSupplyAdjusted = totalSupply.add(ks_sdk_core_1.TokenAmount.fromRawAmount(this.liquidityToken, feeLiquidity));\n                }\n                else {\n                    totalSupplyAdjusted = totalSupply;\n                }\n            }\n            else {\n                totalSupplyAdjusted = totalSupply;\n            }\n        }\n        return ks_sdk_core_1.TokenAmount.fromRawAmount(token, liquidity.quotientBN.mul(this.reserveOf(token).quotientBN).div(totalSupplyAdjusted.quotientBN));\n    }\n}\nexports.Pool = Pool;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WSOL = exports.SOL = void 0;\nconst ks_sdk_core_1 = require(\"@kyberswap/ks-sdk-core\");\nexports.SOL = new ks_sdk_core_1.NativeCurrency(ks_sdk_core_1.ChainId.SOLANA, 9, 'SOL', 'SOL');\nexports.WSOL = exports.SOL.wrapped;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./Pool\"), exports);\n__exportStar(require(\"./route\"), exports);\n__exportStar(require(\"./trade\"), exports);\n__exportStar(require(\"./currency\"), exports);\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Route = void 0;\nconst tiny_invariant_1 = __importDefault(require(\"tiny-invariant\"));\nconst currency_1 = require(\"./currency\");\nconst constants_1 = require(\"../constants\");\nconst ks_sdk_core_1 = require(\"@kyberswap/ks-sdk-core\");\nclass Route {\n    constructor(pairs, input, output) {\n        this._midPrice = null;\n        (0, tiny_invariant_1.default)(pairs.length > 0, 'PAIRS');\n        (0, tiny_invariant_1.default)((input instanceof ks_sdk_core_1.Token && pairs[0].involvesToken(input)) || (input === currency_1.SOL && pairs[0].involvesToken(currency_1.WSOL)), 'INPUT');\n        (0, tiny_invariant_1.default)(typeof output === 'undefined' ||\n            (output instanceof ks_sdk_core_1.Token && pairs[pairs.length - 1].involvesToken(output)) ||\n            (output === currency_1.SOL && pairs[pairs.length - 1].involvesToken(currency_1.WSOL)), 'OUTPUT');\n        const path = [input instanceof ks_sdk_core_1.Token ? input : currency_1.WSOL];\n        for (const [i, pair] of pairs.entries()) {\n            const currentInput = path[i];\n            (0, tiny_invariant_1.default)(currentInput.equals(pair.token0) || currentInput.equals(pair.token1), 'PATH');\n            const output = currentInput.equals(pair.token0) ? pair.token1 : pair.token0;\n            path.push(output);\n        }\n        this.pairs = pairs;\n        this.path = path;\n        this.input = input;\n        this.output = output !== null && output !== void 0 ? output : path[path.length - 1];\n    }\n    get midPrice() {\n        if (this._midPrice !== null)\n            return this._midPrice;\n        const prices = [];\n        for (const [i, pair] of this.pairs.entries()) {\n            prices.push(pair.priceOf(this.path[i]));\n        }\n        const reduced = prices.slice(1).reduce((accumulator, currentValue) => accumulator.multiply(currentValue), prices[0]);\n        return (this._midPrice = new ks_sdk_core_1.Price(this.input, this.output, reduced.denominator, reduced.numerator));\n    }\n    /**\n     * Get the direction of each pool in the route\n     */\n    get tradeDirections() {\n        const dirs = [];\n        for (let i = 0; i < this.pairs.length; i += 1) {\n            if (this.pairs[i].token0.equals(this.path[i])) {\n                dirs.push(constants_1.TradeDirection.ZERO_TO_ONE);\n            }\n            else {\n                dirs.push(constants_1.TradeDirection.ONE_TO_ZERO);\n            }\n        }\n        return dirs;\n    }\n    /**\n     * Get AccountMetas of pools in the route\n     */\n    get accountMetas() {\n        return this.pairs.map((p) => ({\n            pubkey: p.address,\n            isSigner: false,\n            isWritable: true,\n        }));\n    }\n}\nexports.Route = Route;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tradeComparator = exports.inputOutputComparator = exports.Trade = void 0;\n/**\n * Represents a trade executed against a list of pairs.\n * Does not account for slippage, i.e. trades that front run this trade and move the price.\n */\nconst route_1 = require(\"./route\");\nconst constants_1 = require(\"../constants\");\n// import { Fraction } from './fractions'\n// import { Percent } from './fractions'\nconst tiny_invariant_1 = __importDefault(require(\"tiny-invariant\"));\nconst utils_1 = require(\"../utils\");\nconst ks_sdk_core_1 = require(\"@kyberswap/ks-sdk-core\");\n/**\n * Returns the percent difference between the mid price and the execution price, i.e. price impact.\n * @param midPrice mid price before the trade\n * @param inputAmount the input amount of the trade\n * @param outputAmount the output amount of the trade\n */\n// export function computePriceImpact<TInput extends Currency, TOutput extends Currency>(\n//   midPrice: Price<TInput, TOutput>,\n//   inputAmount: CurrencyAmount<TInput>,\n//   outputAmount: CurrencyAmount<TOutput>,\n// ): Percent {\n//   const exactQuote = midPrice.quote(inputAmount)\n//   // calculate priceImpact := (exactQuote - outputAmount) / exactQuote\n//   const priceImpact = exactQuote.subtract(outputAmount).divide(exactQuote)\n//   return new Percent(priceImpact.numerator, priceImpact.denominator)\n// }\nclass Trade {\n    constructor(route, amount, tradeType) {\n        const tokenAmounts = new Array(route.path.length);\n        const amounts = new Array(route.path.length);\n        const nextInputReserves = new Array(route.pairs.length);\n        const nextOutputReserves = new Array(route.pairs.length);\n        if (tradeType === ks_sdk_core_1.TradeType.EXACT_INPUT) {\n            (0, tiny_invariant_1.default)((0, utils_1.currencyEquals)(amount.currency, route.input), 'INPUT');\n            tokenAmounts[0] = amount.wrapped;\n            for (let i = 0; i < route.path.length - 1; i++) {\n                const pair = route.pairs[i];\n                const [outputAmount, nextPair] = pair.getOutputAmount(tokenAmounts[i]);\n                tokenAmounts[i + 1] = outputAmount;\n                nextInputReserves[i] = nextPair[0];\n                nextOutputReserves[i] = nextPair[1];\n            }\n        }\n        else {\n            (0, tiny_invariant_1.default)(amount.currency.equals(route.output), 'OUTPUT');\n            tokenAmounts[tokenAmounts.length - 1] = amount.wrapped;\n            for (let i = route.path.length - 1; i > 0; i--) {\n                const pair = route.pairs[i - 1];\n                const [inputAmount, nextPair] = pair.getInputAmount(tokenAmounts[i]);\n                tokenAmounts[i - 1] = inputAmount;\n                nextInputReserves[i - 1] = nextPair[0];\n                nextOutputReserves[i - 1] = nextPair[1];\n            }\n        }\n        this.route = route;\n        this.tradeType = tradeType;\n        this.inputAmount =\n            tradeType === ks_sdk_core_1.TradeType.EXACT_INPUT\n                ? ks_sdk_core_1.CurrencyAmount.fromFractionalAmount(route.input, amount.numerator, amount.denominator)\n                : ks_sdk_core_1.CurrencyAmount.fromFractionalAmount(route.input, tokenAmounts[0].numerator, tokenAmounts[0].denominator);\n        this.outputAmount =\n            tradeType === ks_sdk_core_1.TradeType.EXACT_OUTPUT\n                ? ks_sdk_core_1.CurrencyAmount.fromFractionalAmount(route.output, amount.numerator, amount.denominator)\n                : ks_sdk_core_1.CurrencyAmount.fromFractionalAmount(route.output, tokenAmounts[tokenAmounts.length - 1].numerator, tokenAmounts[tokenAmounts.length - 1].denominator);\n        this.executionPrice = new ks_sdk_core_1.Price(this.inputAmount.currency, this.outputAmount.currency, this.inputAmount.quotient, this.outputAmount.quotient);\n        // this.nextMidPrice = Price.fromReserves(nextInputReserves, nextOutputReserves)\n        this.priceImpact = (0, ks_sdk_core_1.computePriceImpact)(route.midPrice, this.inputAmount, this.outputAmount);\n    }\n    /**\n     * Constructs an exact in trade with the given amount in and route\n     * @param route route of the exact in trade\n     * @param amountIn the amount being passed in\n     */\n    // public static exactIn(route: Route, amountIn: CurrencyAmount<Currency>): Trade {\n    static exactIn(route, amountIn) {\n        return new Trade(route, amountIn, ks_sdk_core_1.TradeType.EXACT_INPUT);\n    }\n    /**\n     * Constructs an exact out trade with the given amount out and route\n     * @param route route of the exact out trade\n     * @param amountOut the amount returned by the trade\n     */\n    static exactOut(route, amountOut) {\n        return new Trade(route, amountOut, ks_sdk_core_1.TradeType.EXACT_OUTPUT);\n    }\n    /**\n     * Get the minimum amount that must be received from this trade for the given slippage tolerance\n     * @param slippageTolerance tolerance of unfavorable slippage from the execution price of this trade\n     */\n    minimumAmountOut(slippageTolerance) {\n        (0, tiny_invariant_1.default)(!slippageTolerance.lessThan(constants_1.ZERO_JSBI), 'SLIPPAGE_TOLERANCE');\n        if (this.tradeType === ks_sdk_core_1.TradeType.EXACT_OUTPUT) {\n            return this.outputAmount;\n        }\n        else {\n            const slippageAdjustedAmountOut = new ks_sdk_core_1.Fraction(constants_1.ONE_JSBI)\n                .add(slippageTolerance)\n                .invert()\n                .multiply(this.outputAmount.quotient).quotient;\n            return ks_sdk_core_1.CurrencyAmount.fromRawAmount(this.outputAmount.currency, slippageAdjustedAmountOut);\n        }\n    }\n    /**\n     * Get the maximum amount in that can be spent via this trade for the given slippage tolerance\n     * @param slippageTolerance tolerance of unfavorable slippage from the execution price of this trade\n     */\n    maximumAmountIn(slippageTolerance) {\n        (0, tiny_invariant_1.default)(!slippageTolerance.lessThan(constants_1.ZERO_JSBI), 'SLIPPAGE_TOLERANCE');\n        if (this.tradeType === ks_sdk_core_1.TradeType.EXACT_INPUT) {\n            return this.inputAmount;\n        }\n        else {\n            const slippageAdjustedAmountIn = new ks_sdk_core_1.Fraction(constants_1.ONE_JSBI)\n                .add(slippageTolerance)\n                .multiply(this.inputAmount.quotient).quotient;\n            return ks_sdk_core_1.CurrencyAmount.fromRawAmount(this.inputAmount.currency, slippageAdjustedAmountIn);\n        }\n    }\n    /**\n     * Given a list of pairs, and a fixed amount in, returns the top `maxNumResults` trades that go from an input token\n     * amount to an output token, making at most `maxHops` hops.\n     * Note this does not consider aggregation, as routes are linear. It's possible a better route exists by splitting\n     * the amount in among multiple routes.\n     * @param pairs the pairs to consider in finding the best trade\n     * @param currencyAmountIn exact amount of input currency to spend\n     * @param currencyOut the desired currency out\n     * @param maxNumResults maximum number of results to return\n     * @param maxHops maximum number of hops a returned trade can make, e.g. 1 hop goes through a single pair\n     * @param currentPairs used in recursion; the current list of pairs\n     * @param originalAmountIn used in recursion; the original value of the currencyAmountIn parameter\n     * @param bestTrades used in recursion; the current list of best trades\n     */\n    static bestTradeExactIn(pairs, originalAmountIn, currencyOut, { maxNumResults = 3, maxHops = 3 } = {}, \n    // used in recursion.\n    currentPairs = [], currencyAmountIn = originalAmountIn, bestTrades = []) {\n        (0, tiny_invariant_1.default)(pairs.length > 0, 'PAIRS');\n        (0, tiny_invariant_1.default)(maxHops > 0, 'MAX_HOPS');\n        (0, tiny_invariant_1.default)(originalAmountIn === currencyAmountIn || currentPairs.length > 0, 'INVALID_RECURSION');\n        const amountIn = currencyAmountIn.wrapped;\n        const tokenOut = currencyOut.wrapped;\n        for (let i = 0; i < pairs.length; i++) {\n            const pair = pairs[i];\n            (0, tiny_invariant_1.default)(pair.length > 0, 'PAIRS');\n            // pair irrelevant\n            if (!pair[0].token0.equals(amountIn.currency) && !pair[0].token1.equals(amountIn.currency))\n                continue;\n            const token0 = pair[0].token0;\n            const token1 = pair[0].token1;\n            // iterate each pool, find the best rate\n            let bestPool;\n            let bestAmountOut;\n            for (let j = 0; j < pair.length; j++) {\n                const pool = pair[j];\n                (0, tiny_invariant_1.default)(pool.token0.equals(token0), 'INVALID_PAIR');\n                (0, tiny_invariant_1.default)(pool.token1.equals(token1), 'INVALID_PAIR');\n                if (pool.reserve0.equalTo(constants_1.ZERO_JSBI) || pool.reserve1.equalTo(constants_1.ZERO_JSBI))\n                    continue;\n                let amountOut;\n                try {\n                    ;\n                    [amountOut] = pool.getOutputAmount(amountIn);\n                }\n                catch (error) {\n                    // input too low || not enough liquidity in this pair\n                    if (error.isInsufficientInputAmountError || error.isInsufficientReservesError) {\n                        continue;\n                    }\n                    throw error;\n                }\n                if (bestAmountOut === undefined) {\n                    bestAmountOut = amountOut;\n                    bestPool = pool;\n                }\n                else {\n                    if (amountOut.greaterThan(bestAmountOut)) {\n                        bestAmountOut = amountOut;\n                        bestPool = pool;\n                    }\n                }\n            }\n            // not found any pool has rate\n            if (bestAmountOut === undefined || bestPool === undefined) {\n                continue;\n            }\n            // we have arrived at the output token, so this is the final trade of one of the paths\n            if (bestAmountOut.currency.equals(tokenOut)) {\n                (0, utils_1.sortedInsert)(bestTrades, new Trade(new route_1.Route([...currentPairs, bestPool], originalAmountIn.currency, currencyOut), originalAmountIn, ks_sdk_core_1.TradeType.EXACT_INPUT), maxNumResults, tradeComparator);\n            }\n            else if (maxHops > 1 && pairs.length > 1) {\n                const pairsExcludingThisPair = pairs.slice(0, i).concat(pairs.slice(i + 1, pairs.length));\n                // otherwise, consider all the other paths that lead from this token as long as we have not exceeded maxHops\n                Trade.bestTradeExactIn(pairsExcludingThisPair, originalAmountIn, currencyOut, {\n                    maxNumResults,\n                    maxHops: maxHops - 1,\n                }, [...currentPairs, bestPool], bestAmountOut, bestTrades);\n            }\n        }\n        return bestTrades;\n    }\n    /**\n     * similar to the above method but instead targets a fixed output amount\n     * given a list of pairs, and a fixed amount out, returns the top `maxNumResults` trades that go from an input token\n     * to an output token amount, making at most `maxHops` hops\n     * note this does not consider aggregation, as routes are linear. it's possible a better route exists by splitting\n     * the amount in among multiple routes.\n     * @param pairs the pairs to consider in finding the best trade\n     * @param currencyIn the currency to spend\n     * @param currencyAmountOut the exact amount of currency out\n     * @param maxNumResults maximum number of results to return\n     * @param maxHops maximum number of hops a returned trade can make, e.g. 1 hop goes through a single pair\n     * @param currentPairs used in recursion; the current list of pairs\n     * @param originalAmountOut used in recursion; the original value of the currencyAmountOut parameter\n     * @param bestTrades used in recursion; the current list of best trades\n     */\n    static bestTradeExactOut(pairs, currencyIn, originalAmountOut, { maxNumResults = 3, maxHops = 3 } = {}, \n    // used in recursion.\n    currentPairs = [], currencyAmountOut = originalAmountOut, bestTrades = []) {\n        (0, tiny_invariant_1.default)(pairs.length > 0, 'PAIRS');\n        (0, tiny_invariant_1.default)(maxHops > 0, 'MAX_HOPS');\n        (0, tiny_invariant_1.default)(originalAmountOut === currencyAmountOut || currentPairs.length > 0, 'INVALID_RECURSION');\n        const amountOut = currencyAmountOut.wrapped;\n        const tokenIn = currencyIn.wrapped;\n        for (let i = 0; i < pairs.length; i++) {\n            const pair = pairs[i];\n            (0, tiny_invariant_1.default)(pair.length > 0, 'PAIRS');\n            // pair irrelevant\n            if (!pair[0].token0.equals(amountOut.currency) && !pair[0].token1.equals(amountOut.currency))\n                continue;\n            const token0 = pair[0].token0;\n            const token1 = pair[0].token1;\n            // iterate each pool, find the best rate\n            let bestPool;\n            let bestAmountIn;\n            for (let j = 0; j < pair.length; j++) {\n                let pool = pair[j];\n                (0, tiny_invariant_1.default)(pool.token0.equals(token0), 'INVALID_PAIR');\n                (0, tiny_invariant_1.default)(pool.token1.equals(token1), 'INVALID_PAIR');\n                if (pool.reserve0.equalTo(constants_1.ZERO_JSBI) || pool.reserve1.equalTo(constants_1.ZERO_JSBI))\n                    continue;\n                let amountIn;\n                try {\n                    ;\n                    [amountIn] = pool.getInputAmount(amountOut);\n                }\n                catch (error) {\n                    // input too low || not enough liquidity in this pair\n                    if (error.isInsufficientInputAmountError || error.isInsufficientReservesError) {\n                        continue;\n                    }\n                    throw error;\n                }\n                if (bestAmountIn === undefined) {\n                    bestAmountIn = amountIn;\n                    bestPool = pool;\n                }\n                else {\n                    if (amountIn.lessThan(bestAmountIn)) {\n                        bestAmountIn = amountIn;\n                        bestPool = pool;\n                    }\n                }\n            }\n            // not found any pool has rate\n            if (bestAmountIn === undefined || bestPool === undefined) {\n                continue;\n            }\n            // we have arrived at the input token, so this is the first trade of one of the paths\n            if (bestAmountIn.currency.equals(tokenIn)) {\n                (0, utils_1.sortedInsert)(bestTrades, new Trade(new route_1.Route([bestPool, ...currentPairs], currencyIn, originalAmountOut.currency), originalAmountOut, ks_sdk_core_1.TradeType.EXACT_OUTPUT), maxNumResults, tradeComparator);\n            }\n            else if (maxHops > 1 && pairs.length > 1) {\n                const pairsExcludingThisPair = pairs.slice(0, i).concat(pairs.slice(i + 1, pairs.length));\n                // otherwise, consider all the other paths that arrive at this token as long as we have not exceeded maxHops\n                Trade.bestTradeExactOut(pairsExcludingThisPair, currencyIn, originalAmountOut, {\n                    maxNumResults,\n                    maxHops: maxHops - 1,\n                }, [bestPool, ...currentPairs], bestAmountIn, bestTrades);\n            }\n        }\n        return bestTrades;\n    }\n}\nexports.Trade = Trade;\n// comparator function that allows sorting trades by their output amounts, in decreasing order, and then input amounts\n// in increasing order. i.e. the best trades have the most outputs for the least inputs and are sorted first\nfunction inputOutputComparator(a, b) {\n    // must have same input and output token for comparison\n    (0, tiny_invariant_1.default)((0, utils_1.currencyEquals)(a.inputAmount.currency, b.inputAmount.currency), 'INPUT_CURRENCY');\n    (0, tiny_invariant_1.default)((0, utils_1.currencyEquals)(a.outputAmount.currency, b.outputAmount.currency), 'OUTPUT_CURRENCY');\n    if (a.outputAmount.equalTo(b.outputAmount)) {\n        if (a.inputAmount.equalTo(b.inputAmount)) {\n            return 0;\n        }\n        // trade A requires less input than trade B, so A should come first\n        if (a.inputAmount.lessThan(b.inputAmount)) {\n            return -1;\n        }\n        else {\n            return 1;\n        }\n    }\n    else {\n        // tradeA has less output than trade B, so should come second\n        if (a.outputAmount.lessThan(b.outputAmount)) {\n            return 1;\n        }\n        else {\n            return -1;\n        }\n    }\n}\nexports.inputOutputComparator = inputOutputComparator;\n// extension of the input output comparator that also considers other dimensions of the trade in ranking them\nfunction tradeComparator(a, b) {\n    const ioComp = inputOutputComparator(a, b);\n    if (ioComp !== 0) {\n        return ioComp;\n    }\n    // consider lowest slippage next, since these are less likely to fail\n    if (a.priceImpact.lessThan(b.priceImpact)) {\n        return -1;\n    }\n    else if (a.priceImpact.greaterThan(b.priceImpact)) {\n        return 1;\n    }\n    // finally consider the number of hops since each hop costs gas\n    return a.route.path.length - b.route.path.length;\n}\nexports.tradeComparator = tradeComparator;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InsufficientInputAmountError = exports.InsufficientReservesError = void 0;\n// see https://stackoverflow.com/a/41102306\nconst CAN_SET_PROTOTYPE = 'setPrototypeOf' in Object;\n/**\n * Indicates that the pair has insufficient reserves for a desired output amount. I.e. the amount of output cannot be\n * obtained by sending any amount of input.\n */\nclass InsufficientReservesError extends Error {\n    constructor() {\n        super();\n        this.isInsufficientReservesError = true;\n        this.name = this.constructor.name;\n        if (CAN_SET_PROTOTYPE)\n            Object.setPrototypeOf(this, new.target.prototype);\n    }\n}\nexports.InsufficientReservesError = InsufficientReservesError;\n/**\n * Indicates that the input amount is too small to produce any amount of output. I.e. the amount of input sent is less\n * than the price of a single unit of output after fees.\n */\nclass InsufficientInputAmountError extends Error {\n    constructor() {\n        super();\n        this.isInsufficientInputAmountError = true;\n        this.name = this.constructor.name;\n        if (CAN_SET_PROTOTYPE)\n            Object.setPrototypeOf(this, new.target.prototype);\n    }\n}\nexports.InsufficientInputAmountError = InsufficientInputAmountError;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Fetcher = void 0;\nconst anchor_1 = require(\"@project-serum/anchor\");\nconst src_1 = require(\"../src\");\nconst spl_token_1 = require(\"@solana/spl-token\");\nconst utils_1 = require(\"./utils\");\nconst ks_sdk_core_1 = require(\"@kyberswap/ks-sdk-core\");\nclass Fetcher {\n    /**\n     * Cannot be constructed.\n     */\n    constructor() { }\n    /**\n     * @param address address of the token\n     * @param anchorProvider anchorProvider which contains the network and wallet context\n     * @param symbol Optional symbol name of the token\n     * @param name Optional name of the token\n     */\n    static fetchTokenData(address, anchorProvider, symbol, name) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // get Token Mint info from node.\n            const mint = yield (0, spl_token_1.getMint)(anchorProvider.connection, address);\n            return new ks_sdk_core_1.Token(ks_sdk_core_1.ChainId.SOLANA, address.toBase58(), mint.decimals, symbol, name);\n        });\n    }\n    /**\n     * Fetch all pair addresses which belongs to our Factory\n     * @param tokenA tokenA Pubkey\n     * @param tokenB tokenB Pubkey\n     * @param context current context\n     */\n    static fetchPoolAddresses(tokenA, tokenB, context) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            // We don't need to sort the tokens since we already do this\n            // in function getTokenPairAddress and function getPoolAddressByTokenPairNonce\n            const currentTokenPairAddress = yield (0, utils_1.getTokenPairAddress)(context, tokenA, tokenB);\n            const tokenPairState = yield context.factoryProgram.account.tokenPair.fetch(currentTokenPairAddress);\n            const pairAddresses = [];\n            // Check whether the 0'th pool is exist, if existed then add to result.\n            const unamplifiedPool = yield (0, utils_1.getPoolAddressByTokenPairNonce)(context, tokenA, tokenB, new anchor_1.BN(0));\n            // The owner of the pool should equal to pool program id.\n            if ((_b = (_a = (yield context.anchorProvider.connection.getAccountInfo(unamplifiedPool))) === null || _a === void 0 ? void 0 : _a.owner) === null || _b === void 0 ? void 0 : _b.equals(context.poolProgram.programId))\n                pairAddresses.push(unamplifiedPool);\n            // add amplified pools to the result.\n            for (let i = 1; new anchor_1.BN(i).lte(tokenPairState.numAmplifiedPools); i++) {\n                const currentPool = yield (0, utils_1.getPoolAddressByTokenPairNonce)(context, tokenA, tokenB, new anchor_1.BN(i));\n                pairAddresses.push(currentPool);\n            }\n            return pairAddresses;\n        });\n    }\n    /**\n     * Fetches information about pairs and constructs pairs array from the given two tokens.\n     * @param tokenA first token\n     * @param tokenB second token\n     * @param context the current context\n     */\n    static fetchPoolData(tokenA, tokenB, context) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const addresses = yield Fetcher.fetchPoolAddresses(tokenA.mint, tokenB.mint, context);\n            return Promise.all(addresses.map((address) => __awaiter(this, void 0, void 0, function* () {\n                let poolState = yield context.poolProgram.account.pool.fetch(address);\n                const reserve0 = poolState.balance.reserve0;\n                const reserve1 = poolState.balance.reserve1;\n                const vReserve0 = poolState.virtualBalance.vReserve0;\n                const vReserve1 = poolState.virtualBalance.vReserve1;\n                const feeInPrecision = poolState.feeInPrecision;\n                const ampBps = poolState.curve.curveParameters;\n                const balances = tokenA.sortsBefore(tokenB)\n                    ? [reserve0, reserve1, vReserve0, vReserve1]\n                    : [reserve1, reserve0, vReserve1, vReserve0];\n                return new src_1.Pool(context, address, ks_sdk_core_1.TokenAmount.fromRawAmount(tokenA, balances[0]), ks_sdk_core_1.TokenAmount.fromRawAmount(tokenB, balances[1]), ks_sdk_core_1.TokenAmount.fromRawAmount(tokenA, balances[2]), ks_sdk_core_1.TokenAmount.fromRawAmount(tokenB, balances[3]), (0, src_1.parseBigintIsh)(feeInPrecision), ampBps);\n            })));\n        });\n    }\n}\nexports.Fetcher = Fetcher;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MINIMUM_LIQUIDITY = exports.Rounding = exports.BN = void 0;\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nexports.BN = bn_js_1.default;\n__exportStar(require(\"./computeBudget\"), exports);\n__exportStar(require(\"./entities\"), exports);\nvar constants_1 = require(\"./constants\");\nObject.defineProperty(exports, \"Rounding\", { enumerable: true, get: function () { return constants_1.Rounding; } });\nObject.defineProperty(exports, \"MINIMUM_LIQUIDITY\", { enumerable: true, get: function () { return constants_1.MINIMUM_LIQUIDITY; } });\n__exportStar(require(\"./context\"), exports);\n__exportStar(require(\"./constants\"), exports);\n__exportStar(require(\"./errors\"), exports);\n__exportStar(require(\"./entities\"), exports);\n__exportStar(require(\"./fetcher\"), exports);\n__exportStar(require(\"./router\"), exports);\n__exportStar(require(\"./utils\"), exports);\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Router = void 0;\nconst web3_js_1 = require(\"@solana/web3.js\");\nconst anchor_1 = require(\"@project-serum/anchor\");\nconst spl_token_1 = require(\"@solana/spl-token\");\nconst entities_1 = require(\"./entities\");\nconst utils_1 = require(\"./utils\");\nconst constants_1 = require(\"./constants\");\nconst tiny_invariant_1 = __importDefault(require(\"tiny-invariant\"));\nconst ks_sdk_core_1 = require(\"@kyberswap/ks-sdk-core\");\n/**\n * Represents the KyberSwap Router, and has methods for creating liquidity txs.\n */\nclass Router {\n    /**\n     * @param context The KyberSwap context\n     */\n    constructor(context) {\n        const [routerState] = web3_js_1.PublicKey.findProgramAddressSync([Buffer.from('KyberSwapRouterState')], context.routerProgram.programId);\n        this._context = context;\n        this._routerStateAddress = routerState;\n    }\n    get context() {\n        return this._context;\n    }\n    /**\n     * Get the address of the storage account of this router\n     */\n    get routerStateAddress() {\n        return this._routerStateAddress;\n    }\n    /**\n     * Get the address to delegate fund to.\n     * @returns The delegating address\n     */\n    getDelegatingAddress() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const [routerAuthority] = yield web3_js_1.PublicKey.findProgramAddress([Buffer.from('KyberSwapRouter')], this._context.routerProgram.programId);\n            return routerAuthority;\n        });\n    }\n    /**\n     * Get the Wrapped SOL TokenAccount whose owner is the KyberSwap Router program\n     */\n    getWSOLUnwrapper() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const [routerBalanceWsol] = yield web3_js_1.PublicKey.findProgramAddress([Buffer.from('WSOLUnwrapper')], this._context.routerProgram.programId);\n            return routerBalanceWsol;\n        });\n    }\n    /**\n     * Construct an AddLiquidity transaction or AddLiquiditySOL transaction if prefer native token.\n     * @param poolStateAddress The account address of the KyberSwap pool to add liquidity to\n     * @param liquidityProvider The public key of liquidity anchorProvider\n     * @param tokenAMintAddress The mint address of one of the two tokens of the pool\n     * @param tokenAAmount The liquidity amount of the first token\n     * @param tokenBAmount The liquidity amount of the second token\n     * @param tokenAAmountMin The minimum liquidity amount should be added of the first token\n     * @param tokenBAmountMin The minimum liquidity amount should be added of the second token\n     * @param preferNativeToken If one of the two token is WSOL, use liquidity anchorProvider's native SOL instead\n     * @returns The built transaction\n     * The transaction contains the following instruction(s):\n     *   1. `AddLiquidity` or `AddLiquiditySOL` instruction of the KyberSwap Router program\n     */\n    addLiquidity(poolStateAddress, liquidityProvider, tokenAMintAddress, tokenAAmount, tokenBAmount, tokenAAmountMin, tokenBAmountMin, preferNativeToken = false) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const poolState = yield this._context.poolProgram.account.pool.fetch(poolStateAddress);\n            if (!(tokenAMintAddress.equals(poolState.token0Mint) || tokenAMintAddress.equals(poolState.token1Mint))) {\n                throw `the given pool does not contain token ${tokenAMintAddress.toBase58()}`;\n            }\n            if (preferNativeToken) {\n                if (!(poolState.token0Mint.equals(new web3_js_1.PublicKey(entities_1.WSOL.address)) ||\n                    poolState.token1Mint.equals(new web3_js_1.PublicKey(entities_1.WSOL.address)))) {\n                    throw `the given pool does not contain Wrapped SOL token, please set preferNativeToken to false`;\n                }\n            }\n            const [poolAuthority] = yield web3_js_1.PublicKey.findProgramAddress([poolStateAddress.toBuffer()], this._context.poolProgram.programId);\n            const factoryState = yield this._context.factoryProgram.account.factory.fetch(poolState.factoryAddress);\n            const factoryBalanceFeeTo = yield (0, spl_token_1.getAssociatedTokenAddress)(poolState.poolMint, factoryState.feeTo);\n            const liquidityProviderLiquidityToken = yield (0, spl_token_1.getAssociatedTokenAddress)(poolState.poolMint, liquidityProvider);\n            const delegatingAddress = yield this.getDelegatingAddress();\n            let ix;\n            if (preferNativeToken) {\n                const token = poolState.token0Mint.equals(new web3_js_1.PublicKey(entities_1.WSOL.address))\n                    ? poolState.token1Mint\n                    : poolState.token0Mint;\n                const tokenAmount = tokenAMintAddress.equals(token) ? tokenAAmount : tokenBAmount;\n                const solAmount = tokenAMintAddress.equals(token) ? tokenBAmount : tokenAAmount;\n                const tokenAmountMin = tokenAMintAddress.equals(token) ? tokenAAmountMin : tokenBAmountMin;\n                const solAmountMin = tokenAMintAddress.equals(token) ? tokenBAmountMin : tokenAAmountMin;\n                const liquidityProviderToken = yield (0, spl_token_1.getAssociatedTokenAddress)(token, liquidityProvider);\n                ix = this._context.routerProgram.instruction.addLiquiditySol(tokenAmount, solAmount, tokenAmountMin, solAmountMin, {\n                    accounts: {\n                        router: this._routerStateAddress,\n                        user: liquidityProvider,\n                        routerAuthority: delegatingAddress,\n                        userBalanceToken: liquidityProviderToken,\n                        poolProgram: this._context.poolProgram.programId,\n                        systemProgram: web3_js_1.SystemProgram.programId,\n                        poolState: poolStateAddress,\n                        poolAuthority,\n                        poolBalanceToken0: poolState.token0Account,\n                        poolBalanceToken1: poolState.token1Account,\n                        poolMintLiquidity: poolState.poolMint,\n                        poolBalanceLockedLiquidity: poolState.poolBalanceLockedLiquidity,\n                        userBalanceLiquidity: liquidityProviderLiquidityToken,\n                        factoryState: poolState.factoryAddress,\n                        factoryBalanceFeeTo,\n                        systemTokenProgram: spl_token_1.TOKEN_PROGRAM_ID,\n                    },\n                });\n            }\n            else {\n                const token0Amount = tokenAMintAddress.equals(poolState.token0Mint) ? tokenAAmount : tokenBAmount;\n                const token1Amount = tokenAMintAddress.equals(poolState.token0Mint) ? tokenBAmount : tokenAAmount;\n                const token0AmountMin = tokenAMintAddress.equals(poolState.token0Mint) ? tokenAAmountMin : tokenBAmountMin;\n                const token1AmountMin = tokenAMintAddress.equals(poolState.token0Mint) ? tokenBAmountMin : tokenAAmountMin;\n                const liquidityProviderToken0 = yield (0, spl_token_1.getAssociatedTokenAddress)(poolState.token0Mint, liquidityProvider);\n                const liquidityProviderToken1 = yield (0, spl_token_1.getAssociatedTokenAddress)(poolState.token1Mint, liquidityProvider);\n                ix = this._context.routerProgram.instruction.addLiquidity(token0Amount, token1Amount, token0AmountMin, token1AmountMin, {\n                    accounts: {\n                        user: liquidityProvider,\n                        router: this._routerStateAddress,\n                        poolAuthority,\n                        poolState: poolStateAddress,\n                        poolBalanceToken0: poolState.token0Account,\n                        poolBalanceToken1: poolState.token1Account,\n                        poolMintLiquidity: poolState.poolMint,\n                        poolBalanceLockedLiquidity: poolState.poolBalanceLockedLiquidity,\n                        userBalanceLiquidity: liquidityProviderLiquidityToken,\n                        routerAuthority: delegatingAddress,\n                        userBalanceToken0: liquidityProviderToken0,\n                        userBalanceToken1: liquidityProviderToken1,\n                        factoryState: poolState.factoryAddress,\n                        factoryBalanceFeeTo,\n                        poolProgram: this._context.poolProgram.programId,\n                        systemTokenProgram: spl_token_1.TOKEN_PROGRAM_ID,\n                    },\n                });\n            }\n            const [poolMintLiquidity] = yield web3_js_1.PublicKey.findProgramAddress([poolStateAddress.toBuffer(), Buffer.from('KyberSwapPoolLiquidityToken')], this._context.factoryProgram.programId);\n            // The instructions need to be wrapped in one tx.\n            let ixs;\n            // Account doesn't exist when it's lamports === 0 && owner == Sys::ID\n            // We need to create if it's not exist, before adding the addLiquidity tx\n            if (!(yield (0, utils_1.isInitializedTokenAccount)(this._context.anchorProvider.connection, liquidityProviderLiquidityToken))) {\n                ixs = [\n                    (0, spl_token_1.createAssociatedTokenAccountInstruction)(liquidityProvider, liquidityProviderLiquidityToken, liquidityProvider, poolMintLiquidity),\n                    ix,\n                ];\n            }\n            else {\n                ixs = [ix];\n            }\n            return new web3_js_1.Transaction().add(...ixs);\n        });\n    }\n    /**\n     * Construct a transaction that create a new pool then add liquidity to it.\n     * @param liquidityProvider The public key of liquidity anchorProvider\n     * @param tokenAMintAddress The mint address of the first token of the being created pool\n     * @param tokenBMintAddress The mint address of the second token of the being created pool\n     * @param amplificationFactorInBps The amplification factor of the being created pool, in basis points\n     * @param feeInBps The trading fee of the being created pool, in basis points\n     * @param tokenAAmount The liquidity amount of the first token\n     * @param tokenBAmount The liquidity amount of the second token\n     * @param tokenAAmountMin The minimum liquidity amount should be added of the first token\n     * @param tokenBAmountMin The minimum liquidity amount should be added of the second token\n     * @param preferNativeToken If one of the two token is WSOL, use liquidity provider's native SOL instead\n     * @returns The built transaction\n     * The transaction contains the following instruction(s):\n     *   1. `CreatePool` instruction of the KyberSwap Factory program\n     *   2. `Create` instruction of the AssociatedToken program,\n     *       to create an associated token account of liquidity pool token for the user\n     *   3. `AddLiquidity` instruction of the KyberSwap Pool program\n     */\n    addLiquidityNewPool(liquidityProvider, tokenAMintAddress, tokenBMintAddress, amplificationFactorInBps, feeInBps, tokenAAmount, tokenBAmount, tokenAAmountMin, tokenBAmountMin, preferNativeToken = false) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (preferNativeToken) {\n                if (!(tokenAMintAddress.equals(entities_1.WSOL.mint) || tokenBMintAddress.equals(entities_1.WSOL.mint))) {\n                    throw `the given pool does not contain Wrapped SOL token, please set preferNativeToken to false`;\n                }\n            }\n            const routerState = yield this._context.routerProgram.account.router.fetch(this._routerStateAddress);\n            const factoryState = yield this._context.factoryProgram.account.factory.fetch(routerState.factoryAddress);\n            const [token0MintAddress, token1MintAddress] = (0, utils_1.sortedTokens)(tokenAMintAddress, tokenBMintAddress);\n            const poolStateAddress = yield (0, utils_1.getNextPoolStateAddress)(this._context, tokenAMintAddress, tokenBMintAddress, (0, utils_1.isAmplifiedPool)(amplificationFactorInBps));\n            const [poolAuthority] = yield web3_js_1.PublicKey.findProgramAddress([poolStateAddress.toBuffer()], this._context.poolProgram.programId);\n            const [poolBalanceToken0] = yield web3_js_1.PublicKey.findProgramAddress([poolStateAddress.toBuffer(), Buffer.from('KyberSwapPoolBalanceToken0')], this._context.factoryProgram.programId);\n            const [poolBalanceToken1] = yield web3_js_1.PublicKey.findProgramAddress([poolStateAddress.toBuffer(), Buffer.from('KyberSwapPoolBalanceToken1')], this._context.factoryProgram.programId);\n            const [poolMintLiquidity] = yield web3_js_1.PublicKey.findProgramAddress([poolStateAddress.toBuffer(), Buffer.from('KyberSwapPoolLiquidityToken')], this._context.factoryProgram.programId);\n            const [poolBalanceLiquidity] = yield web3_js_1.PublicKey.findProgramAddress([poolStateAddress.toBuffer(), Buffer.from('KyberSwapPoolLiquidityBalance')], this._context.factoryProgram.programId);\n            const [poolBalanceLockedLiquidity] = yield web3_js_1.PublicKey.findProgramAddress([poolStateAddress.toBuffer(), Buffer.from('KyberSwapPoolLockedLiquidity')], this._context.factoryProgram.programId);\n            const liquidityProviderLiquidityToken = yield (0, spl_token_1.getAssociatedTokenAddress)(poolMintLiquidity, liquidityProvider);\n            const factoryBalanceFeeTo = yield (0, spl_token_1.getAssociatedTokenAddress)(poolMintLiquidity, factoryState.feeTo);\n            const delegatingAddress = yield this.getDelegatingAddress();\n            const createAtaIx = [];\n            if (!factoryState.feeTo.equals(liquidityProvider)) {\n                createAtaIx.push((0, spl_token_1.createAssociatedTokenAccountInstruction)(liquidityProvider, liquidityProviderLiquidityToken, liquidityProvider, poolMintLiquidity));\n            }\n            let addLiquidityIx;\n            if (preferNativeToken) {\n                const token = tokenAMintAddress.equals(entities_1.WSOL.mint) ? tokenBMintAddress : tokenAMintAddress;\n                const tokenAmount = tokenAMintAddress.equals(token) ? tokenAAmount : tokenBAmount;\n                const solAmount = tokenAMintAddress.equals(token) ? tokenBAmount : tokenAAmount;\n                const tokenAmountMin = tokenAMintAddress.equals(token) ? tokenAAmountMin : tokenBAmountMin;\n                const solAmountMin = tokenAMintAddress.equals(token) ? tokenBAmountMin : tokenAAmountMin;\n                const liquidityProviderToken = yield (0, spl_token_1.getAssociatedTokenAddress)(token, liquidityProvider);\n                addLiquidityIx = this._context.routerProgram.instruction.addLiquiditySol(tokenAmount, solAmount, tokenAmountMin, solAmountMin, {\n                    accounts: {\n                        router: this._routerStateAddress,\n                        user: liquidityProvider,\n                        routerAuthority: delegatingAddress,\n                        userBalanceToken: liquidityProviderToken,\n                        poolProgram: this._context.poolProgram.programId,\n                        systemProgram: web3_js_1.SystemProgram.programId,\n                        poolState: poolStateAddress,\n                        poolAuthority,\n                        poolBalanceToken0,\n                        poolBalanceToken1,\n                        poolMintLiquidity,\n                        poolBalanceLockedLiquidity,\n                        userBalanceLiquidity: liquidityProviderLiquidityToken,\n                        factoryState: routerState.factoryAddress,\n                        factoryBalanceFeeTo,\n                        systemTokenProgram: spl_token_1.TOKEN_PROGRAM_ID,\n                    },\n                });\n            }\n            else {\n                const token0Amount = tokenAMintAddress.equals(token0MintAddress) ? tokenAAmount : tokenBAmount;\n                const token1Amount = tokenAMintAddress.equals(token0MintAddress) ? tokenBAmount : tokenAAmount;\n                const token0AmountMin = tokenAMintAddress.equals(token0MintAddress) ? tokenAAmountMin : tokenBAmountMin;\n                const token1AmountMin = tokenAMintAddress.equals(token0MintAddress) ? tokenBAmountMin : tokenAAmountMin;\n                const liquidityProviderToken0 = yield (0, spl_token_1.getAssociatedTokenAddress)(token0MintAddress, liquidityProvider);\n                const liquidityProviderToken1 = yield (0, spl_token_1.getAssociatedTokenAddress)(token1MintAddress, liquidityProvider);\n                addLiquidityIx = this._context.routerProgram.instruction.addLiquidity(token0Amount, token1Amount, token0AmountMin, token1AmountMin, {\n                    accounts: {\n                        user: liquidityProvider,\n                        router: this._routerStateAddress,\n                        poolAuthority,\n                        poolState: poolStateAddress,\n                        poolBalanceToken0,\n                        poolBalanceToken1,\n                        poolMintLiquidity,\n                        poolBalanceLockedLiquidity,\n                        routerAuthority: delegatingAddress,\n                        userBalanceLiquidity: liquidityProviderLiquidityToken,\n                        userBalanceToken0: liquidityProviderToken0,\n                        userBalanceToken1: liquidityProviderToken1,\n                        factoryState: routerState.factoryAddress,\n                        factoryBalanceFeeTo,\n                        poolProgram: this._context.poolProgram.programId,\n                        systemTokenProgram: spl_token_1.TOKEN_PROGRAM_ID,\n                    },\n                });\n            }\n            const ixs = [\n                this._context.factoryProgram.instruction.createPool(new anchor_1.BN(amplificationFactorInBps), new anchor_1.BN(feeInBps), {\n                    accounts: {\n                        payer: liquidityProvider,\n                        factoryState: routerState.factoryAddress,\n                        tokenPair: yield (0, utils_1.getTokenPairAddress)(this._context, tokenAMintAddress, tokenBMintAddress),\n                        poolState: poolStateAddress,\n                        poolAuthority,\n                        token0Mint: token0MintAddress,\n                        token1Mint: token1MintAddress,\n                        poolBalanceToken0,\n                        poolBalanceToken1,\n                        incinerator: constants_1.INCINERATOR,\n                        poolMint: poolMintLiquidity,\n                        poolBalanceLiquidity,\n                        poolBalanceLockedLiquidity,\n                        factoryBalanceFeeTo,\n                        factoryFeeTo: factoryState.feeTo,\n                        poolProgram: this._context.poolProgram.programId,\n                        tokenProgram: spl_token_1.TOKEN_PROGRAM_ID,\n                        associatedTokenProgram: spl_token_1.ASSOCIATED_TOKEN_PROGRAM_ID,\n                        systemProgram: web3_js_1.SystemProgram.programId,\n                        rent: web3_js_1.SYSVAR_RENT_PUBKEY,\n                    },\n                }),\n                ...createAtaIx,\n                ...[addLiquidityIx],\n            ];\n            return new web3_js_1.Transaction().add(...ixs);\n        });\n    }\n    /**\n     * Construct a RemoveLiquidity transaction or RemoveLiquiditySOL transaction if prepfer native token.\n     * The transaction contains the following instruction(s):\n     *   1. `RemoveLiquidity` or `RemoveLiquiditySOL` of the KyberSwap Router program\n     * @param poolStateAddress The account address of the KyberSwap pool to add liquidity to\n     * @param liquidityProvider The public key of liquidity anchorProvider\n     * @param tokenAMintAddress The mint address of one of the two tokens of the pool\n     * @param liquidity The liquidity amount to be removed\n     * @param amountAMin The minimum amount that liquidity anchorProvider should get back of the first token\n     * @param amountBMin The minimum amount that liquidity anchorProvider should get back of the second token\n     * @param preferNativeToken If one of the two token is WSOL, use liquidity anchorProvider's native SOL instead\n     * @returns The built transaction\n     * The transaction contains the following instruction(s):\n     *   1. `RemoveLiquidity` or `RemoveLiquiditySOL` instruction of the KyberSwap Router program\n     */\n    removeLiquidity(poolStateAddress, liquidityProvider, tokenAMintAddress, liquidity, amountAMin, amountBMin, preferNativeToken = false) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const poolState = yield this._context.poolProgram.account.pool.fetch(poolStateAddress);\n            if (!(tokenAMintAddress.equals(poolState.token0Mint) || tokenAMintAddress.equals(poolState.token1Mint))) {\n                throw `the given pool does not contain token ${tokenAMintAddress.toBase58()}`;\n            }\n            if (preferNativeToken) {\n                if (!(poolState.token0Mint.equals(entities_1.WSOL.mint) || poolState.token1Mint.equals(entities_1.WSOL.mint))) {\n                    throw `the given pool does not contain Wrapped SOL token, please set preferNativeToken to false`;\n                }\n            }\n            const [poolAuthority] = yield web3_js_1.PublicKey.findProgramAddress([poolStateAddress.toBuffer()], this._context.poolProgram.programId);\n            const factoryState = yield this._context.factoryProgram.account.factory.fetch(poolState.factoryAddress);\n            const factoryBalanceFeeTo = yield (0, spl_token_1.getAssociatedTokenAddress)(poolState.poolMint, factoryState.feeTo);\n            const liquidityProviderLiquidityToken = yield (0, spl_token_1.getAssociatedTokenAddress)(poolState.poolMint, liquidityProvider);\n            const delegatingAddress = yield this.getDelegatingAddress();\n            let ix;\n            if (preferNativeToken) {\n                const token = poolState.token0Mint.equals(entities_1.WSOL.mint) ? poolState.token1Mint : poolState.token0Mint;\n                const tokenAmountMin = tokenAMintAddress.equals(token) ? amountAMin : amountBMin;\n                const solAmountMin = tokenAMintAddress.equals(token) ? amountBMin : amountAMin;\n                const liquidityProviderToken = yield (0, spl_token_1.getAssociatedTokenAddress)(token, liquidityProvider);\n                const [routerBalanceWsol] = yield web3_js_1.PublicKey.findProgramAddress([Buffer.from('WSOLUnwrapper')], this._context.routerProgram.programId);\n                ix = this._context.routerProgram.instruction.removeLiquiditySol(liquidity, tokenAmountMin, solAmountMin, {\n                    accounts: {\n                        router: this._routerStateAddress,\n                        user: liquidityProvider,\n                        routerAuthority: delegatingAddress,\n                        userBalanceLiquidity: liquidityProviderLiquidityToken,\n                        routerBalanceWsol,\n                        wrappedSol: entities_1.WSOL.mint,\n                        poolProgram: this._context.poolProgram.programId,\n                        systemProgram: web3_js_1.SystemProgram.programId,\n                        rent: web3_js_1.SYSVAR_RENT_PUBKEY,\n                        poolState: poolStateAddress,\n                        poolAuthority,\n                        poolBalanceToken0: poolState.token0Account,\n                        poolBalanceToken1: poolState.token1Account,\n                        poolMintLiquidity: poolState.poolMint,\n                        poolBalanceLiquidity: poolState.poolBalanceLiquidity,\n                        userBalanceToken: liquidityProviderToken,\n                        factoryState: poolState.factoryAddress,\n                        factoryBalanceFeeTo,\n                        systemTokenProgram: spl_token_1.TOKEN_PROGRAM_ID,\n                    },\n                });\n            }\n            else {\n                const amount0Min = tokenAMintAddress.equals(poolState.token0Mint) ? amountAMin : amountBMin;\n                const amount1Min = tokenAMintAddress.equals(poolState.token0Mint) ? amountBMin : amountAMin;\n                const liquidityProviderToken0 = yield (0, spl_token_1.getAssociatedTokenAddress)(poolState.token0Mint, liquidityProvider);\n                const liquidityProviderToken1 = yield (0, spl_token_1.getAssociatedTokenAddress)(poolState.token1Mint, liquidityProvider);\n                ix = this._context.routerProgram.instruction.removeLiquidity(liquidity, amount0Min, amount1Min, {\n                    accounts: {\n                        user: liquidityProvider,\n                        router: this._routerStateAddress,\n                        routerAuthority: delegatingAddress,\n                        userBalanceLiquidity: liquidityProviderLiquidityToken,\n                        poolProgram: this._context.poolProgram.programId,\n                        poolState: poolStateAddress,\n                        poolAuthority,\n                        poolBalanceToken0: poolState.token0Account,\n                        poolBalanceToken1: poolState.token1Account,\n                        poolMintLiquidity: poolState.poolMint,\n                        poolBalanceLiquidity: poolState.poolBalanceLiquidity,\n                        userBalanceToken0: liquidityProviderToken0,\n                        userBalanceToken1: liquidityProviderToken1,\n                        factoryState: poolState.factoryAddress,\n                        factoryBalanceFeeTo,\n                        systemTokenProgram: spl_token_1.TOKEN_PROGRAM_ID,\n                    },\n                });\n            }\n            return new web3_js_1.Transaction().add(ix);\n        });\n    }\n    /**\n     * Produces the on-chain transaction for a given trade.\n     * @param trader the address of the trader\n     * @param trade to produce call parameters for\n     * @param options options for the call parameters\n     */\n    swap(trader, trade, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const solIn = trade.inputAmount.currency.isNative;\n            const solOut = trade.outputAmount.currency.isNative;\n            // the router does not support both sol in and out\n            (0, tiny_invariant_1.default)(!(solIn && solOut), 'SOL_IN_OUT');\n            const amountIn = trade.maximumAmountIn(options.allowedSlippage).quotientBN;\n            const amountOut = trade.minimumAmountOut(options.allowedSlippage).quotientBN;\n            switch (trade.tradeType) {\n                case ks_sdk_core_1.TradeType.EXACT_INPUT:\n                    if (solIn) {\n                        // SwapExactSOLForTokens\n                        return yield this.swapExactSOLForTokens(trader, trade.route, amountIn, amountOut);\n                    }\n                    else {\n                        // SwapExactTokensForSOL if solOut, otherwise SwapExactTokensForTokens\n                        return yield this.swapExactTokensForTokensOrSOL(trader, trade.route, amountIn, amountOut, !solOut);\n                    }\n                case ks_sdk_core_1.TradeType.EXACT_OUTPUT:\n                    if (solIn) {\n                        // SwapSOLForExactTokens\n                        return yield this.swapSOLForExactTokens(trader, trade.route, amountOut, amountIn);\n                    }\n                    else {\n                        // SwapTokensForExactSOL if solOut, otherwise SwapTokensForExactTokens\n                        return yield this.swapTokensForExactTokensOrSOL(trader, trade.route, amountOut, amountIn, !solOut);\n                    }\n            }\n        });\n    }\n    swapExactTokensForTokensOrSOL(trader, route, amountIn, minAmountOut, forToken) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const preIxs = [\n                this._context.routerProgram.instruction.prepareForSwapExactTokensForTokens(amountIn, minAmountOut, Buffer.from(route.tradeDirections), {\n                    accounts: {\n                        user: trader,\n                        router: this._routerStateAddress,\n                        routerAuthority: yield this.getDelegatingAddress(),\n                        poolProgram: this._context.poolProgram.programId,\n                        userBalanceTokenIn: yield (0, spl_token_1.getAssociatedTokenAddress)(route.path[0].mint, trader),\n                        firstPoolBalanceTokenIn: route.pairs[0].token0.equals(route.path[0])\n                            ? route.pairs[0].token0Account\n                            : route.pairs[0].token1Account,\n                        systemTokenProgram: spl_token_1.TOKEN_PROGRAM_ID,\n                    },\n                    remainingAccounts: route.accountMetas,\n                }),\n            ];\n            const swapIxs = yield this.makeSwapInstructions(trader, route, forToken);\n            return new web3_js_1.Transaction().add(...preIxs, ...swapIxs);\n        });\n    }\n    swapExactSOLForTokens(trader, route, amountIn, minAmountOut) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const preIxs = [\n                this._context.routerProgram.instruction.prepareForSwapExactSolForTokens(amountIn, minAmountOut, Buffer.from(route.tradeDirections), {\n                    accounts: {\n                        user: trader,\n                        router: this._routerStateAddress,\n                        poolProgram: this._context.poolProgram.programId,\n                        firstPoolBalanceWsol: route.pairs[0].token0.equals(entities_1.WSOL)\n                            ? route.pairs[0].token0Account\n                            : route.pairs[0].token1Account,\n                        systemTokenProgram: spl_token_1.TOKEN_PROGRAM_ID,\n                        systemProgram: web3_js_1.SystemProgram.programId,\n                    },\n                    remainingAccounts: route.accountMetas,\n                }),\n            ];\n            const swapIxs = yield this.makeSwapInstructions(trader, route, true);\n            return new web3_js_1.Transaction().add(...preIxs, ...swapIxs);\n        });\n    }\n    swapTokensForExactTokensOrSOL(trader, route, amountOut, maxAmountIn, forToken) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const preIxs = [\n                this._context.routerProgram.instruction.prepareForSwapTokensForExactTokens(amountOut, maxAmountIn, Buffer.from(route.tradeDirections), {\n                    accounts: {\n                        user: trader,\n                        router: this._routerStateAddress,\n                        routerAuthority: yield this.getDelegatingAddress(),\n                        poolProgram: this._context.poolProgram.programId,\n                        userBalanceTokenIn: yield (0, spl_token_1.getAssociatedTokenAddress)(route.path[0].mint, trader),\n                        firstPoolBalanceTokenIn: route.pairs[0].token0.equals(route.path[0])\n                            ? route.pairs[0].token0Account\n                            : route.pairs[0].token1Account,\n                        systemTokenProgram: spl_token_1.TOKEN_PROGRAM_ID,\n                    },\n                    remainingAccounts: route.accountMetas,\n                }),\n            ];\n            const swapIxs = yield this.makeSwapInstructions(trader, route, forToken);\n            return new web3_js_1.Transaction().add(...preIxs, ...swapIxs);\n        });\n    }\n    swapSOLForExactTokens(trader, route, amountOut, maxAmountIn) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const preIxs = [\n                this._context.routerProgram.instruction.prepareForSwapSolForExactTokens(amountOut, maxAmountIn, Buffer.from(route.tradeDirections), {\n                    accounts: {\n                        user: trader,\n                        router: this._routerStateAddress,\n                        poolProgram: this._context.poolProgram.programId,\n                        firstPoolBalanceWsol: route.pairs[0].token0.equals(entities_1.WSOL)\n                            ? route.pairs[0].token0Account\n                            : route.pairs[0].token1Account,\n                        systemTokenProgram: spl_token_1.TOKEN_PROGRAM_ID,\n                        systemProgram: web3_js_1.SystemProgram.programId,\n                    },\n                    remainingAccounts: route.accountMetas,\n                }),\n            ];\n            const swapIxs = yield this.makeSwapInstructions(trader, route, true);\n            return new web3_js_1.Transaction().add(...preIxs, ...swapIxs);\n        });\n    }\n    makeSwapInstructions(trader, route, forToken) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const tradeDirections = route.tradeDirections;\n            const traderTokenAccountOut = yield (0, spl_token_1.getAssociatedTokenAddress)(route.path[route.path.length - 1].mint, trader);\n            const swapIxs = [];\n            for (let i = 0; i < route.pairs.length - 1; i += 1) {\n                const to = route.pairs[i + 1].token0.equals(route.path[i + 1])\n                    ? route.pairs[i + 1].token0Account\n                    : route.pairs[i + 1].token1Account;\n                swapIxs.push(this._context.poolProgram.instruction.swap2(tradeDirections[i], {\n                    accounts: {\n                        poolState: route.pairs[i].address,\n                        poolAuthority: route.pairs[i].authority,\n                        userBalanceTo: to,\n                        poolBalanceToken0: route.pairs[i].token0Account,\n                        poolBalanceToken1: route.pairs[i].token1Account,\n                        systemTokenProgram: spl_token_1.TOKEN_PROGRAM_ID,\n                    },\n                }));\n            }\n            if (forToken) {\n                const tokenOutAtaInitialized = yield (0, utils_1.isInitializedTokenAccount)(this._context.anchorProvider.connection, traderTokenAccountOut);\n                if (!tokenOutAtaInitialized) {\n                    swapIxs.push((0, spl_token_1.createAssociatedTokenAccountInstruction)(trader, traderTokenAccountOut, trader, route.path[route.path.length - 1].mint));\n                }\n                swapIxs.push(this._context.poolProgram.instruction.swap2(tradeDirections[route.pairs.length - 1], {\n                    accounts: {\n                        poolState: route.pairs[route.pairs.length - 1].address,\n                        poolAuthority: route.pairs[route.pairs.length - 1].authority,\n                        userBalanceTo: traderTokenAccountOut,\n                        poolBalanceToken0: route.pairs[route.pairs.length - 1].token0Account,\n                        poolBalanceToken1: route.pairs[route.pairs.length - 1].token1Account,\n                        systemTokenProgram: spl_token_1.TOKEN_PROGRAM_ID,\n                    },\n                }));\n            }\n            else {\n                swapIxs.push(this._context.routerProgram.instruction.swapToSol({\n                    accounts: {\n                        user: trader,\n                        router: this._routerStateAddress,\n                        routerAuthority: yield this.getDelegatingAddress(),\n                        routerBalanceWsol: yield this.getWSOLUnwrapper(),\n                        poolProgram: this._context.poolProgram.programId,\n                        wrappedSol: entities_1.WSOL.mint,\n                        systemProgram: web3_js_1.SystemProgram.programId,\n                        rent: web3_js_1.SYSVAR_RENT_PUBKEY,\n                        poolState: route.pairs[route.pairs.length - 1].address,\n                        poolAuthority: route.pairs[route.pairs.length - 1].authority,\n                        poolBalanceToken0: route.pairs[route.pairs.length - 1].token0Account,\n                        poolBalanceToken1: route.pairs[route.pairs.length - 1].token1Account,\n                        systemTokenProgram: spl_token_1.TOKEN_PROGRAM_ID,\n                    },\n                }));\n            }\n            return swapIxs;\n        });\n    }\n}\nexports.Router = Router;\n/** The compute budget needed for the AddLiquidityNewPool transaction to be successfully executed */\nRouter.ADD_LIQUIDITY_NEW_POOL_COMPUTE_BUDGET = 500000;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BNtoJSBI = exports.currencyEquals = exports.sortedTokens = exports.isInitializedTokenAccount = exports.sortedInsert = exports.parseBigintIsh = exports.approveTokenForRouter = exports.sendAndConfirmTransaction = exports.createUserAssociatedTokenAccount = exports.isAmplifiedPool = exports.getPoolAddressByTokenPairNonce = exports.getAmplifiedPoolAddress = exports.getUnamplifiedPoolAddress = exports.getNextPoolStateAddress = exports.getTokenPairAddress = exports.sqrt = exports.validateRustTypeValue = void 0;\nconst anchor_1 = require(\"@project-serum/anchor\");\nconst web3_js_1 = require(\"@solana/web3.js\");\nconst constants_1 = require(\"./constants\");\nconst spl_token_1 = require(\"@solana/spl-token\");\nconst tiny_invariant_1 = __importDefault(require(\"tiny-invariant\"));\nconst ks_sdk_core_1 = require(\"@kyberswap/ks-sdk-core\");\nconst jsbi_1 = __importDefault(require(\"jsbi\"));\nfunction validateRustTypeValue(value, rustType) {\n    (0, tiny_invariant_1.default)(value.gte(constants_1.ZERO), `${value} is not a ${rustType}.`);\n    (0, tiny_invariant_1.default)(value.lte(constants_1.RUST_TYPE_MAXIMA[rustType]), `${value} is not a ${rustType}.`);\n}\nexports.validateRustTypeValue = validateRustTypeValue;\n// mock the on-chain sqrt function\nfunction sqrt(y) {\n    validateRustTypeValue(y, constants_1.RustType.U256);\n    let z = constants_1.ZERO;\n    let x;\n    if (y.gt(constants_1.THREE)) {\n        z = y;\n        x = y.div(constants_1.TWO).add(constants_1.ONE);\n        while (x.lt(z)) {\n            z = x;\n            x = y.div(x).add(x).div(constants_1.TWO);\n        }\n    }\n    else if (!y.eq(constants_1.ZERO)) {\n        z = constants_1.ONE;\n    }\n    return z;\n}\nexports.sqrt = sqrt;\n/**\n * Get the address of the account holding information of the given token pair\n * @param context The KyberSwap context\n * @param tokenAMintAddress The mint address of the first token in the pair\n * @param tokenBMintAddress The mint address of the second token in the pair\n * @returns The account address\n */\nfunction getTokenPairAddress(context, tokenAMintAddress, tokenBMintAddress) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const [token0MintAddress, token1MintAddress] = sortedTokens(tokenAMintAddress, tokenBMintAddress);\n        const [tokenPairAddress] = yield web3_js_1.PublicKey.findProgramAddress([Buffer.from('KyberSwapTokenPair'), token0MintAddress.toBuffer(), token1MintAddress.toBuffer()], context.factoryProgram.programId);\n        return tokenPairAddress;\n    });\n}\nexports.getTokenPairAddress = getTokenPairAddress;\n/**\n * Get the next pool state address of the given token pair\n * @param context The KyberSwap context\n * @param tokenAMintAddress The mint address of the first token in the pair\n * @param tokenBMintAddress The mint address of the second token in the pair\n * @param isAmplifiedPool Is the next pool amplified?\n * @returns The pool state address\n */\nfunction getNextPoolStateAddress(context, tokenAMintAddress, tokenBMintAddress, isAmplifiedPool) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let tokenPairNonce;\n        if (!isAmplifiedPool) {\n            tokenPairNonce = new anchor_1.BN(0);\n        }\n        else {\n            try {\n                // the next pool is not the first amplified pool of the token pair\n                const tokenPair = yield context.factoryProgram.account.tokenPair.fetch(yield getTokenPairAddress(context, tokenAMintAddress, tokenBMintAddress));\n                tokenPairNonce = tokenPair.numAmplifiedPools.add(new anchor_1.BN(1));\n            }\n            catch (e) {\n                // the next pool is the first amplified pool of the token pair\n                tokenPairNonce = new anchor_1.BN(1);\n            }\n        }\n        return yield getPoolAddressByTokenPairNonce(context, tokenAMintAddress, tokenBMintAddress, tokenPairNonce);\n    });\n}\nexports.getNextPoolStateAddress = getNextPoolStateAddress;\n/**\n * Get account address of the unamplified pool of the given token pair.\n * @param context The KyberSwap context\n * @param tokenAMintAddress The mint address of the first token in the pair\n * @param tokenBMintAddress The mint address of the second token in the pair\n */\nfunction getUnamplifiedPoolAddress(context, tokenAMintAddress, tokenBMintAddress) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return yield getPoolAddressByTokenPairNonce(context, tokenAMintAddress, tokenBMintAddress, new anchor_1.BN(0));\n    });\n}\nexports.getUnamplifiedPoolAddress = getUnamplifiedPoolAddress;\n/**\n * Get account address of the amplified pool of the given token pair.\n * @param context The KyberSwap context\n * @param tokenAMintAddress The mint address of the first token in the pair\n * @param tokenBMintAddress The mint address of the second token in the pair\n * @param index The index of the amplified pool in the pool list\n */\nfunction getAmplifiedPoolAddress(context, tokenAMintAddress, tokenBMintAddress, index) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (index < 1) {\n            throw 'index of amplified pool starts from 1';\n        }\n        return yield getPoolAddressByTokenPairNonce(context, tokenAMintAddress, tokenBMintAddress, new anchor_1.BN(index));\n    });\n}\nexports.getAmplifiedPoolAddress = getAmplifiedPoolAddress;\nfunction getPoolAddressByTokenPairNonce(context, tokenAMintAddress, tokenBMintAddress, tokenPairNonce) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const [token0MintAddress, token1MintAddress] = sortedTokens(tokenAMintAddress, tokenBMintAddress);\n        const [poolStateAddress] = yield web3_js_1.PublicKey.findProgramAddress([\n            Buffer.from('KyberSwapPool'),\n            token0MintAddress.toBuffer(),\n            token1MintAddress.toBuffer(),\n            tokenPairNonce.toArrayLike(Buffer, 'le', 8),\n        ], context.factoryProgram.programId);\n        return poolStateAddress;\n    });\n}\nexports.getPoolAddressByTokenPairNonce = getPoolAddressByTokenPairNonce;\n/**\n * Return true if the pool is an amplified pool based on its amplification factor in basis points.\n * @param amplificationFactorInBps The amplification factor in basis points.\n */\nfunction isAmplifiedPool(amplificationFactorInBps) {\n    if (amplificationFactorInBps < constants_1.AMPLIFICATION_FACTOR_BPS) {\n        throw `amplification factor in basis points must be larger than basis points = ${constants_1.AMPLIFICATION_FACTOR_BPS}`;\n    }\n    return amplificationFactorInBps != constants_1.AMPLIFICATION_FACTOR_BPS;\n}\nexports.isAmplifiedPool = isAmplifiedPool;\n/**\n * Create and initialize a new associated token account\n *\n * @param anchorProvider                 The anchorProvider\n * @param mint                     Mint for the account\n * @param owner                    Owner of the new account\n * @param confirmOptions           Options for confirming the transaction\n * @param programId                SPL Token program account\n * @param associatedTokenProgramId SPL Associated Token program account\n *\n * @return Address of the new associated token account\n */\nfunction createUserAssociatedTokenAccount(anchorProvider, mint, owner, confirmOptions, programId = spl_token_1.TOKEN_PROGRAM_ID, associatedTokenProgramId = spl_token_1.ASSOCIATED_TOKEN_PROGRAM_ID) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const associatedToken = yield (0, spl_token_1.getAssociatedTokenAddress)(mint, owner, false, programId, associatedTokenProgramId);\n        const latestBlockHash = yield anchorProvider.connection.getLatestBlockhash();\n        let transaction = new web3_js_1.Transaction(Object.assign({ feePayer: anchorProvider.wallet.publicKey }, latestBlockHash)).add((0, spl_token_1.createAssociatedTokenAccountInstruction)(anchorProvider.wallet.publicKey, associatedToken, owner, mint, programId, associatedTokenProgramId));\n        transaction = yield anchorProvider.wallet.signTransaction(transaction);\n        const signature = yield anchorProvider.connection.sendRawTransaction(transaction.serialize(), confirmOptions);\n        yield anchorProvider.connection.confirmTransaction(Object.assign({ signature }, latestBlockHash), confirmOptions === null || confirmOptions === void 0 ? void 0 : confirmOptions.commitment);\n        return associatedToken;\n    });\n}\nexports.createUserAssociatedTokenAccount = createUserAssociatedTokenAccount;\n/**\n * Send and confirm a transaction signed by the anchorProvider\n * @param anchorProvider The anchorProvider to sign the transaction\n * @param transaction The transaction to be sent\n */\nfunction sendAndConfirmTransaction(anchorProvider, transaction) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const latestBlockHash = yield anchorProvider.connection.getLatestBlockhash();\n        transaction.feePayer = anchorProvider.wallet.publicKey;\n        transaction.recentBlockhash = latestBlockHash.blockhash;\n        transaction.lastValidBlockHeight = latestBlockHash.lastValidBlockHeight;\n        transaction = yield anchorProvider.wallet.signTransaction(transaction);\n        try {\n            const txSign = yield anchorProvider.connection.sendRawTransaction(transaction.serialize());\n            yield anchorProvider.connection.confirmTransaction(Object.assign({ signature: txSign }, latestBlockHash));\n            return txSign;\n        }\n        catch (e) {\n            // console.log(e);\n            throw e;\n        }\n    });\n}\nexports.sendAndConfirmTransaction = sendAndConfirmTransaction;\n/**\n * Approve tokens\n * @param router The Router object\n * @param mint The mint address of the token\n * @param owner The owner of the token account\n * @param amount The amount to be approved\n */\nfunction approveTokenForRouter(router, mint, owner, amount) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const approveKncTx = new web3_js_1.Transaction().add((0, spl_token_1.createApproveInstruction)(yield (0, spl_token_1.getAssociatedTokenAddress)(mint, owner), yield router.getDelegatingAddress(), owner, BigInt(amount.toString())));\n        yield sendAndConfirmTransaction(router.context.anchorProvider, approveKncTx);\n    });\n}\nexports.approveTokenForRouter = approveTokenForRouter;\nfunction parseBigintIsh(bigintIsh) {\n    if (typeof bigintIsh === 'bigint')\n        return new anchor_1.BN(bigintIsh.toString());\n    return new anchor_1.BN(bigintIsh);\n}\nexports.parseBigintIsh = parseBigintIsh;\n// given an array of items sorted by `comparator`, insert an item into its sort index and constrain the size to\n// `maxSize` by removing the last item\nfunction sortedInsert(items, add, maxSize, comparator) {\n    (0, tiny_invariant_1.default)(maxSize > 0, 'MAX_SIZE_ZERO');\n    // this is an invariant because the interface cannot return multiple removed items if items.length exceeds maxSize\n    (0, tiny_invariant_1.default)(items.length <= maxSize, 'ITEMS_SIZE');\n    // short circuit first item add\n    if (items.length === 0) {\n        items.push(add);\n        return null;\n    }\n    else {\n        const isFull = items.length === maxSize;\n        // short circuit if full and the additional item does not come before the last item\n        if (isFull && comparator(items[items.length - 1], add) <= 0) {\n            return add;\n        }\n        let lo = 0, hi = items.length;\n        while (lo < hi) {\n            const mid = (lo + hi) >>> 1;\n            if (comparator(items[mid], add) <= 0) {\n                lo = mid + 1;\n            }\n            else {\n                hi = mid;\n            }\n        }\n        items.splice(lo, 0, add);\n        return isFull ? items.pop() : null;\n    }\n}\nexports.sortedInsert = sortedInsert;\n/**\n * Check whether the account is TokenAccount which has been initialized\n * @param connection current connection to node\n * @param address the PubKey of account\n */\nfunction isInitializedTokenAccount(connection, address) {\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            yield (0, spl_token_1.getAccount)(connection, address, null, spl_token_1.TOKEN_PROGRAM_ID);\n        }\n        catch (error) {\n            if (error instanceof spl_token_1.TokenAccountNotFoundError || error instanceof spl_token_1.TokenInvalidAccountOwnerError) {\n                return false;\n            }\n        }\n        return true;\n    });\n}\nexports.isInitializedTokenAccount = isInitializedTokenAccount;\n/**\n * Sort the token pair by their addresses\n * @param tokenA the first token to compare\n * @param tokenB the second token to compare\n * @returns The sorted token pair\n */\nfunction sortedTokens(tokenA, tokenB) {\n    const shouldSwapAddress = new anchor_1.BN(tokenA.toBytes()).gt(new anchor_1.BN(tokenB.toBytes()));\n    if (shouldSwapAddress) {\n        return [tokenB, tokenA];\n    }\n    else {\n        return [tokenA, tokenB];\n    }\n}\nexports.sortedTokens = sortedTokens;\n/**\n * Compares two currencies for equality\n */\nfunction currencyEquals(currencyA, currencyB) {\n    if (currencyA instanceof ks_sdk_core_1.Token && currencyB instanceof ks_sdk_core_1.Token) {\n        return currencyA.equals(currencyB);\n    }\n    if (currencyA instanceof ks_sdk_core_1.Token || currencyB instanceof ks_sdk_core_1.Token) {\n        return false;\n    }\n    return currencyA === currencyB;\n}\nexports.currencyEquals = currencyEquals;\nconst BNtoJSBI = (value) => {\n    return jsbi_1.default.BigInt(value);\n};\nexports.BNtoJSBI = BNtoJSBI;\n// todo: add this to natively in CurrencyAmount\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Command = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z\"\n  }));\n});\nCommand.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nCommand.displayName = 'Command';\nexport default Command;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar DollarSign = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"12\",\n    y1: \"1\",\n    x2: \"12\",\n    y2: \"23\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6\"\n  }));\n});\nDollarSign.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nDollarSign.displayName = 'DollarSign';\nexport default DollarSign;","import React from 'react';\n\n/**\n * @internal\n */\nconst SkeletonThemeContext = React.createContext({});\n\n/* eslint-disable react/no-array-index-key */\nconst defaultEnableAnimation = true;\n// For performance & cleanliness, don't add any inline styles unless we have to\nfunction styleOptionsToCssProperties({ baseColor, highlightColor, width, height, borderRadius, circle, direction, duration, enableAnimation = defaultEnableAnimation, }) {\n    const style = {};\n    if (direction === 'rtl')\n        style['--animation-direction'] = 'reverse';\n    if (typeof duration === 'number')\n        style['--animation-duration'] = `${duration}s`;\n    if (!enableAnimation)\n        style['--pseudo-element-display'] = 'none';\n    if (typeof width === 'string' || typeof width === 'number')\n        style.width = width;\n    if (typeof height === 'string' || typeof height === 'number')\n        style.height = height;\n    if (typeof borderRadius === 'string' || typeof borderRadius === 'number')\n        style.borderRadius = borderRadius;\n    if (circle)\n        style.borderRadius = '50%';\n    if (typeof baseColor !== 'undefined')\n        style['--base-color'] = baseColor;\n    if (typeof highlightColor !== 'undefined')\n        style['--highlight-color'] = highlightColor;\n    return style;\n}\nfunction Skeleton({ count = 1, wrapper: Wrapper, className: customClassName, containerClassName, containerTestId, circle = false, style: styleProp, ...originalPropsStyleOptions }) {\n    var _a, _b, _c;\n    const contextStyleOptions = React.useContext(SkeletonThemeContext);\n    const propsStyleOptions = { ...originalPropsStyleOptions };\n    // DO NOT overwrite style options from the context if `propsStyleOptions`\n    // has properties explicity set to undefined\n    for (const [key, value] of Object.entries(originalPropsStyleOptions)) {\n        if (typeof value === 'undefined') {\n            delete propsStyleOptions[key];\n        }\n    }\n    // Props take priority over context\n    const styleOptions = {\n        ...contextStyleOptions,\n        ...propsStyleOptions,\n        circle,\n    };\n    // `styleProp` has the least priority out of everything\n    const style = {\n        ...styleProp,\n        ...styleOptionsToCssProperties(styleOptions),\n    };\n    let className = 'react-loading-skeleton';\n    if (customClassName)\n        className += ` ${customClassName}`;\n    const inline = (_a = styleOptions.inline) !== null && _a !== void 0 ? _a : false;\n    const elements = [];\n    const countCeil = Math.ceil(count);\n    for (let i = 0; i < countCeil; i++) {\n        let thisStyle = style;\n        if (countCeil > count && i === countCeil - 1) {\n            // count is not an integer and we've reached the last iteration of\n            // the loop, so add a \"fractional\" skeleton.\n            //\n            // For example, if count is 3.5, we've already added 3 full\n            // skeletons, so now we add one more skeleton that is 0.5 times the\n            // original width.\n            const width = (_b = thisStyle.width) !== null && _b !== void 0 ? _b : '100%'; // 100% is the default since that's what's in the CSS\n            const fractionalPart = count % 1;\n            const fractionalWidth = typeof width === 'number'\n                ? width * fractionalPart\n                : `calc(${width} * ${fractionalPart})`;\n            thisStyle = { ...thisStyle, width: fractionalWidth };\n        }\n        const skeletonSpan = (React.createElement(\"span\", { className: className, style: thisStyle, key: i }, \"\\u200C\"));\n        if (inline) {\n            elements.push(skeletonSpan);\n        }\n        else {\n            // Without the <br />, the skeleton lines will all run together if\n            // `width` is specified\n            elements.push(React.createElement(React.Fragment, { key: i },\n                skeletonSpan,\n                React.createElement(\"br\", null)));\n        }\n    }\n    return (React.createElement(\"span\", { className: containerClassName, \"data-testid\": containerTestId, \"aria-live\": \"polite\", \"aria-busy\": (_c = styleOptions.enableAnimation) !== null && _c !== void 0 ? _c : defaultEnableAnimation }, Wrapper\n        ? elements.map((el, i) => React.createElement(Wrapper, { key: i }, el))\n        : elements));\n}\n\nfunction SkeletonTheme({ children, ...styleOptions }) {\n    return (React.createElement(SkeletonThemeContext.Provider, { value: styleOptions }, children));\n}\n\nexport { SkeletonTheme, Skeleton as default };\n","\nimport { Coords, getElementCoords, dist, getElementDims, Dims, getCombinedData, fitsWithin, isWithinAt, isForeignTarget } from \"./dom\";\nimport { getViewportCenter, addAppropriateOffset, applyCenterOffset, centerViewportAroundElements, centerViewportAroundElement, getCurrentScrollOffset } from \"./offset\";\nimport { getViewportDims, getViewportScrollEnd, getScrolledViewportPosition, getViewportScrollStart, isElementInView, getViewportStart } from \"./viewport\";\n\nexport enum CardinalOrientation {\n  EAST = 'east',\n  SOUTH = 'south',\n  WEST = 'west',\n  NORTH = 'north',\n  CENTER = 'center',\n  EASTNORTH = 'east-north',\n  EASTSOUTH = 'east-south',\n  SOUTHEAST = 'south-east',\n  SOUTHWEST = 'south-west',\n  WESTSOUTH = 'west-south',\n  WESTNORTH = 'west-north',\n  NORTHWEST = 'north-west',\n  NORTHEAST = 'north-east'\n}\n\nexport interface OrientationCoords {\n  orientation: CardinalOrientation;\n  coords: Coords;\n}\n\nexport interface GetTooltipPositionArgs {\n  target: HTMLElement;\n  tooltip: HTMLElement;\n  padding: number;\n  tooltipSeparation: number;\n  root: Element;\n  orientationPreferences?: CardinalOrientation[];\n  getPositionFromCandidates?: (candidates: OrientationCoords[]) => OrientationCoords;\n  disableAutoScroll?: boolean;\n  allowForeignTarget?: boolean;\n  selector?: string;\n}\n\nfunction getTooltipPositionCandidates(target: HTMLElement, tooltip: HTMLElement, padding: number, tooltipDistance: number, includeAllPositions?: boolean): OrientationCoords[] {\n  if (!target || !tooltip) {\n    return;\n  }\n\n  const tooltipDims: Dims = getElementDims(tooltip);\n  const targetCoords: Coords = getElementCoords(target);\n  const targetDims: Dims = getElementDims(target);\n  const centerX: number = targetCoords.x - ((tooltipDims.width - targetDims.width) / 2);\n  const centerY: number = targetCoords.y - ((tooltipDims.height - targetDims.height) / 2);\n  const eastOffset: number = targetCoords.x + targetDims.width + padding + tooltipDistance;\n  const southOffset: number = targetCoords.y + targetDims.height + padding + tooltipDistance;\n  const westOffset: number = targetCoords.x - tooltipDims.width - padding - tooltipDistance;\n  const northOffset: number = targetCoords.y - tooltipDims.height - padding - tooltipDistance;\n\n  const east: Coords = { x: eastOffset, y: centerY }\n  const south: Coords = { x: centerX, y: southOffset }\n  const west: Coords = { x: westOffset, y: centerY };\n  const north: Coords = { x: centerX, y: northOffset };\n  const center: Coords = applyCenterOffset(targetCoords, targetDims, tooltipDims);\n\n  const standardPositions = [\n    { orientation: CardinalOrientation.EAST, coords: east },\n    { orientation: CardinalOrientation.SOUTH, coords: south },\n    { orientation: CardinalOrientation.WEST, coords: west },\n    { orientation: CardinalOrientation.NORTH, coords: north },\n  ];\n\n  let additionalPositions: OrientationCoords[];\n  if (includeAllPositions) {\n    const eastAlign: number = targetCoords.x - (tooltipDims.width - targetDims.width) + padding;\n    const southAlign: number = targetCoords.y - (tooltipDims.height - targetDims.height) + padding;\n    const westAlign: number = targetCoords.x - padding;\n    const northAlign: number = targetCoords.y - padding;\n\n    const eastNorth: Coords = { x: eastOffset, y: northAlign }\n    const eastSouth: Coords = { x: eastOffset, y: southAlign }\n    const southEast: Coords = { x: eastAlign, y: southOffset }\n    const southWest: Coords = { x: westAlign, y: southOffset }\n    const westSouth: Coords = { x: westOffset, y: southAlign }\n    const westNorth: Coords = { x: westOffset, y: northAlign }\n    const northWest: Coords = { x: westAlign, y: northOffset }\n    const northEast: Coords = { x: eastAlign, y: northOffset }\n\n    additionalPositions = [\n      { orientation: CardinalOrientation.EASTNORTH, coords: eastNorth },\n      { orientation: CardinalOrientation.EASTSOUTH, coords: eastSouth },\n      { orientation: CardinalOrientation.SOUTHEAST, coords: southEast },\n      { orientation: CardinalOrientation.SOUTHWEST, coords: southWest },\n      { orientation: CardinalOrientation.WESTSOUTH, coords: westSouth },\n      { orientation: CardinalOrientation.WESTNORTH, coords: westNorth },\n      { orientation: CardinalOrientation.NORTHWEST, coords: northWest },\n      { orientation: CardinalOrientation.NORTHEAST, coords: northEast }\n    ]\n  }\n\n  return [\n    ...standardPositions,\n    ...additionalPositions,\n    { orientation: CardinalOrientation.CENTER, coords: center }\n  ]\n}\n\n// simple reducer who selects for coordinates closest to the current center of the viewport\nfunction getCenterReducer(root: Element, tooltip: HTMLElement, target: HTMLElement, predictViewport?: boolean):\n  ((acc: OrientationCoords, cur: OrientationCoords, ind: number, arr: OrientationCoords[]) => OrientationCoords) {\n  const currentCenter: Coords = getViewportCenter(root, tooltip);\n\n  // store the center of the predicted viewport location with the tooltip at acc\n  // to have a meaningful distance comparison\n  let accCenter: Coords = currentCenter;\n\n  const getCenter = (coords: Coords) => {\n    if (predictViewport && (!isElementInView(root, target) || !isElementInView(root, tooltip, coords, true))) {\n      return getViewportCenter(root, tooltip, getScrolledViewportPosition(root, centerViewportAroundElements(root, tooltip, target, coords)));\n    } else {\n      return currentCenter;\n    }\n  }\n\n  return (acc: OrientationCoords, cur: OrientationCoords, ind: number, arr: OrientationCoords[]): OrientationCoords => {\n    if (cur.orientation === CardinalOrientation.CENTER) { //ignore centered coords since those will always be closest to the center\n      if (ind === arr.length - 1 && acc === undefined) { //unless  we're at the end and we still haven't picked a coord\n        return cur;\n      } else {\n        return acc;\n      }\n    } else if (acc === undefined) {\n      accCenter = getCenter(cur.coords);\n      return cur;\n    } else {\n      const center: Coords = getCenter(cur.coords);\n\n      if (dist(center, cur.coords) > dist(accCenter, acc.coords)) {\n        return acc;\n      } else {\n        accCenter = center;\n        return cur;\n      }\n    }\n  }\n}\n\n// complex candidate reducer function that tries to place the tooltip as close to the center of the \n// screen as possible, even after the screen has scrolled to a particular location.\nfunction chooseBestTooltipPosition(preferredCandidates: OrientationCoords[], root: Element, tooltip: HTMLElement, target: HTMLElement, scrollDisabled: boolean): OrientationCoords {\n  if (preferredCandidates.length === 1) {\n    //if there's only a single pref candidate, use that\n    return preferredCandidates[0];\n  } else if (scrollDisabled) {\n    // if scrolling is disabled, there's not much we can do except use the naive center reducer\n    return preferredCandidates.reduce(getCenterReducer(root, tooltip, target, false), undefined);\n  } else {\n    // scrolling is allowed, which means we have to figure out:\n    // 1. what candidates are valid positions (not out of the scrolling root's bounds)\n    // 2. which positions are absolutely compatible (allow both target & tooltip to fit within the viewport at the same time)\n    // 3. which positions are currently compatible (allow both target & tooltip to fit with the CURRENT viewport)\n    // 4. which of those positions is *best* - use same closest-to-center heuristic.\n    // priority is 3 > 2 > 1 for the pool of positions from which 4 is chosen\n\n    const viewportDims: Dims = getViewportDims(root);\n    const viewportScrollStart: Coords = getViewportScrollStart(root);\n    const viewportCurrentStart: Coords = getViewportStart(root);\n    const viewportScrollEnd: Coords = getViewportScrollEnd(root);\n    const tooltipDims: Dims = getElementDims(tooltip);\n    const targetDims: Dims = getElementDims(target);\n    const targetCoords: Coords = getElementCoords(target);\n    const curriedGetCombinedData = (coords: Coords) => getCombinedData(coords, tooltipDims, targetCoords, targetDims);\n\n    const validPositions: OrientationCoords[] = preferredCandidates.filter(getInBoundsFilter(tooltipDims, viewportScrollStart, viewportScrollEnd));\n    const absoluteCompatiblePositions: OrientationCoords[] = validPositions.filter(getAbsoluteCompatibleArrangementFilter(curriedGetCombinedData, viewportDims));\n    const currentCompatiblePositions: OrientationCoords[] = absoluteCompatiblePositions.filter(getCurrentInViewFilter(curriedGetCombinedData, viewportDims, viewportCurrentStart));\n\n    // // if possible, use only those positions which don't force a scroll. Default back to those which can fit in the viewport, even if that means scrolling\n    const compatiblePositions: OrientationCoords[] = currentCompatiblePositions.length > 0 ? currentCompatiblePositions : absoluteCompatiblePositions;\n\n    // if there are NO compatible positions, the viewport is too small to accomodate both the target/tooltip, in any arrangement.\n    // we default to our valid positions, even if that means placing the elements slightly off screen.\n    const filteredList = compatiblePositions.length > 0 ? compatiblePositions : validPositions;\n\n    return filteredList.reduce(getCenterReducer(root, tooltip, target, true), undefined);\n  }\n}\n\n// filter out any positions which would have the tooltip be out of the bounds of the root container \n// (i.e. in a position that the viewport can't \"reach\"/scroll to)\nfunction getInBoundsFilter(tooltipDims: Dims, viewportScrollStart: Coords, viewportScrollEnd: Coords): (oc: OrientationCoords) => boolean {\n  return (oc: OrientationCoords): boolean => {\n    const coords: Coords = oc.coords;\n    return !(coords.x < viewportScrollStart.x || coords.y < viewportScrollStart.y ||\n      (coords.x + tooltipDims.width) > viewportScrollEnd.x || (coords.y + tooltipDims.height) > viewportScrollEnd.y)\n  }\n}\n\n// filters out any positions which would cause the target/tooltip to not fit within the viewport\nfunction getAbsoluteCompatibleArrangementFilter(curriedGetCombinedData: (coords: Coords) => { dims: Dims, coords: Coords }, viewportDims: Dims): (oc: OrientationCoords) => boolean {\n  return (oc: OrientationCoords): boolean => {\n    const coords: Coords = oc.coords;\n    // we only care about the resultant dims but the input coords are critical here\n    const { dims: combinedDims } = curriedGetCombinedData(coords);\n\n    return fitsWithin(combinedDims, viewportDims);\n  }\n}\n\nfunction getCurrentInViewFilter(curriedGetCombinedData: (coords: Coords) => { dims: Dims, coords: Coords }, viewportDims: Dims, viewportCurrentStart: Coords): (oc: OrientationCoords) => boolean {\n  return (oc: OrientationCoords): boolean => {\n    const coords: Coords = oc.coords;\n\n    const { dims: combinedDims, coords: combinedCoords } = curriedGetCombinedData(coords);\n\n    return isWithinAt(combinedDims, viewportDims, combinedCoords, viewportCurrentStart);\n  }\n}\n\nfunction getPreferredCandidates(candidates: OrientationCoords[], orientationPreferences?: CardinalOrientation[]): OrientationCoords[] {\n  if (!orientationPreferences || orientationPreferences.length === 0) {\n    return candidates;\n  } else if (orientationPreferences.length === 1) {\n    const specifiedCandidate = candidates.find((oc: OrientationCoords) => oc.orientation === orientationPreferences[0])\n    if (specifiedCandidate) {\n      return [specifiedCandidate];\n    } else {\n      return candidates; // if the specified orientation isn't available for whatever reason, default to standard behavior\n    }\n  } else {\n    const preferenceFilter = (cc: OrientationCoords) => orientationPreferences.indexOf(cc.orientation) !== -1;\n    return candidates.filter(preferenceFilter);\n  }\n}\n\nfunction restrictToCurrentViewport(root: Element, coords: Coords, dims: Dims, padding: number): Coords {\n  if (!root) {\n    return coords;\n  }\n\n  const viewportStart: Coords = getCurrentScrollOffset(root);\n  const viewportDims: Dims = getViewportDims(root);\n  const viewportEnd: Coords = {\n    x: viewportStart.x + viewportDims.width,\n    y: viewportStart.y + viewportDims.height\n  }\n  const sx = viewportStart.x + padding;\n  const sy = viewportStart.y + padding;\n  const ex = viewportEnd.x - dims.width - padding;\n  const ey = viewportEnd.y - dims.height - padding;\n\n  let x: number = coords.x;\n  let y: number = coords.y;\n\n  if (coords.x < sx) {\n    x = sx;\n  } else if ((coords.x + dims.width) > ex) {\n    x = ex;\n  }\n\n  if (coords.y < sy) {\n    y = sy;\n  } else if ((coords.y + dims.height) > ey) {\n    y = ey;\n  }\n\n  return { x, y }\n}\n\nexport function getTooltipPosition(args: GetTooltipPositionArgs): OrientationCoords {\n  const { target, tooltip, padding, tooltipSeparation, orientationPreferences, getPositionFromCandidates, root: tourRoot, disableAutoScroll: scrollDisabled, allowForeignTarget, selector } = args;\n  const center: Coords = target ? getViewportCenter(tourRoot, tooltip, getScrolledViewportPosition(tourRoot, centerViewportAroundElement(tourRoot, target))) : getViewportCenter(tourRoot, tooltip)\n  const defaultPosition: Coords = addAppropriateOffset(tourRoot, center);\n\n  if (!tooltip || !tourRoot) {\n    return;\n  }\n\n  if (!target) {\n    return {orientation: null, coords: defaultPosition};\n  }\n\n  const foreignTarget: boolean = allowForeignTarget && isForeignTarget(tourRoot, selector);\n  const noScroll: boolean = scrollDisabled || foreignTarget;\n  const candidates: OrientationCoords[] = getTooltipPositionCandidates(target, tooltip, padding, tooltipSeparation, true);\n  const choosePosition = getPositionFromCandidates || ((cans: OrientationCoords[]) => chooseBestTooltipPosition(cans, tourRoot, tooltip, target, noScroll));\n\n  const rawPosition: OrientationCoords = choosePosition(getPreferredCandidates(candidates, orientationPreferences)); //position relative to current viewport\n\n  if (!rawPosition) {\n    return {orientation: CardinalOrientation.CENTER, coords: defaultPosition};\n  }\n\n  const adjustedPosition: OrientationCoords = {orientation: rawPosition.orientation, coords: addAppropriateOffset(tourRoot, rawPosition.coords)};\n\n  if (foreignTarget) {\n    return {orientation: adjustedPosition.orientation, coords: restrictToCurrentViewport(tourRoot, adjustedPosition.coords, getElementDims(tooltip), padding + tooltipSeparation)}\n  }\n\n  return adjustedPosition;\n}\n\nexport function getTargetPosition(root: Element, target: HTMLElement): Coords {\n  return addAppropriateOffset(root, getElementCoords(target));\n}\n","export const TAB_KEYCODE = 9;\n\n//  selector adapted from https://gist.github.com/r3lk3r/0030bab99347a2326334e00b23188cab#file-focusloopingutil-js\nexport const focusableSelector: string = 'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, [tabindex]:not([tabindex^=\"-\"]):not([disabled]), [contenteditable]';\n","import { Coords, getElementCoords, Dims, isDefaultScrollingElement, getCombinedData, getElementDims } from \"./dom\";\nimport { getViewportStart, getViewportDims } from \"./viewport\";\n\nexport function getCurrentScrollOffset(root: Element): Coords {\n  return {\n    x: root.scrollLeft,\n    y: root.scrollTop\n  }\n}\n\nexport function addScrollOffset(root: Element, coords: Coords) {\n  const curOffset: Coords = getCurrentScrollOffset(root);\n  return {\n    x: coords.x + curOffset.x,\n    y: coords.y + curOffset.y\n  }\n}\n\nexport function addAppropriateOffset(root: Element, coords: Coords) {\n  if (!coords || !root) {\n    return;\n  }\n\n  // if there's a custom root, then we need to offset by that root's positioning relative to the window\n  // before adjusting for its scroll values\n  if (!isDefaultScrollingElement(root)) {\n    const rootCoords: Coords = getElementCoords(root);\n    return addScrollOffset(root, {\n      x: coords.x - rootCoords.x,\n      y: coords.y - rootCoords.y\n    })\n  } else {\n    return addScrollOffset(root, coords);\n  }\n}\n\n// apply a common offset calculation where b is centered relative to a. If b is larger than a, the result is that a will be centered within b.\n// b is the moveable element: the returned value will specify where to place b to achieve centering.\nexport function applyCenterOffset(aCoords: Coords, aDims: Dims, b: Dims): Coords {\n  return {\n    x: aCoords.x + (aDims.width / 2) - (b.width / 2),\n    y: aCoords.y + (aDims.height / 2) - (b.height / 2)\n  }\n}\n\nexport function centerViewportAroundElements(root: Element, a: HTMLElement, b: HTMLElement, aPosition?: Coords, bPosition?: Coords): Coords {\n  if (!root || !a || !b) {\n    return;\n  }\n\n  const aCoords = aPosition || getElementCoords(a);\n  const bCoords = bPosition || getElementCoords(b);\n  const aDims = getElementDims(a);\n  const bDims = getElementDims(b);\n  const {coords, dims} = getCombinedData(aCoords, aDims, bCoords, bDims);\n  return centerViewportAround(root, coords, dims);\n}\n\nexport function centerViewportAround(root: Element, coords: Coords, dims: Dims): Coords {\n  return applyCenterOffset(coords, dims, getViewportDims(root));\n}\n\n// get the coordinates the viewport would need to be placed for the element to be centered\nexport function centerViewportAroundElement(root: Element, element: HTMLElement): Coords {\n  const elementDims: Dims = getElementDims(element);\n  const elementCoords: Coords = getElementCoords(element);\n\n  return centerViewportAround(root, elementCoords, elementDims);\n}\n\n// get the center coord of the viewport. If element is provided, the return value is the origin \n// which would align that element's center with the viewport center. If atViewportPosition is provided,\n// gets the viewport's center at that position\nexport function getViewportCenter(root: Element, element?: HTMLElement, atViewportPosition?: Coords): Coords {\n  if (!root) {\n    return;\n  }\n  const startCoords: Coords = atViewportPosition || getViewportStart(root);\n  const viewportDims: Dims = getViewportDims(root);\n  const elementDims: Dims = element ? getElementDims(element) : {height: 0, width: 0}\n\n  return applyCenterOffset(startCoords, viewportDims, elementDims);\n}\n\n","import { focusableSelector } from \"./constants\";\nimport { getTargetPosition } from \"./positioning\";\n\nexport interface Coords {\n  x: number;\n  y: number;\n}\n\nexport interface Dims {\n  width: number;\n  height: number;\n}\n\nexport interface ElementInfo {\n  dims: Dims;\n  coords: Coords;\n}\n\nexport function isValidCoords(coords: Coords): boolean {\n  if (!coords) {\n    return false;\n  } else if ((!coords.x && coords.x !== 0) || (!coords.y && coords.y !== 0)) {\n    return false;\n  } else {\n    return true;\n  }\n}\n\nexport function isValidDims(dims: Dims): boolean {\n  if (!dims) {\n    return false;\n  } else if ((!dims.height && dims.height !== 0) || (!dims.width && dims.height !== 0)) {\n    return false;\n  } else if (dims.height < 0 || dims.width < 0) {\n    return false;\n  } else {\n    return true;\n  }\n}\n\nexport function dist(a: Coords, b: Coords): number {\n  if (!isValidCoords(a) || !isValidCoords(b)) {\n    return;\n  }\n\n  return Math.sqrt(\n    Math.pow((Math.abs(a.x - b.x)), 2) +\n    Math.pow((Math.abs(a.y - b.y)), 2))\n}\n\nexport function areaDiff(a: Dims, b: Dims): number {\n  if (!isValidDims(a) || !isValidDims(b)) {\n    return;\n  }\n\n  return Math.abs((a.height * a.width) - (b.height * b.width));\n}\n\nexport function getElementCoords(element: Element): Coords {\n  if (!element) {\n    return;\n  }\n  const elementData: ClientRect = element.getBoundingClientRect();\n  return {\n    x: elementData.left,\n    y: elementData.top\n  }\n}\n\nexport function getElementDims(element: Element): Dims {\n  if (!element) {\n    return;\n  }\n  const elementData = element.getBoundingClientRect();\n  return {\n    width: elementData.width,\n    height: elementData.height\n  }\n}\n\n//https://gist.github.com/gre/296291b8ce0d8fe6e1c3ea4f1d1c5c3b\nexport function getNearestScrollAncestor(element: Element): Element {\n  const regex = /(auto|scroll)/;\n\n  const style = (el: Element, prop: string) =>\n    getComputedStyle(el, null).getPropertyValue(prop);\n\n  const scroll = (el: Element) =>\n    regex.test(\n      style(el, \"overflow\") +\n      style(el, \"overflow-y\") +\n      style(el, \"overflow-x\"));\n\n  if (!element || isDefaultScrollingElement(element)) {\n    return getDefaultScrollingElement();\n  } else {\n    if (scroll(element)) {\n      return element;\n    } else {\n      return getNearestScrollAncestor(element.parentElement)\n    }\n  }\n}\n\n//https://github.com/GreenGremlin/scroll-doc/blob/master/index.js\nexport function getDefaultScrollingElement(): Element {\n  const windowStart: number = window.pageYOffset; //slightly better support than scrollY\n  document.documentElement.scrollTop = windowStart + 1;\n  if (window.pageXOffset > windowStart) {\n    document.documentElement.scrollTop = windowStart; //reset\n    return document.documentElement;\n  } else {\n    return document.scrollingElement || document.body;\n  }\n}\n\nexport function isDefaultScrollingElement(root: Element) {\n  return root.isSameNode(document.body) || root.isSameNode(document.scrollingElement) || root.isSameNode(document.documentElement);\n}\n\n//if we're not putting the portal in a custom container, it needs to be at the body level\nexport function getValidPortalRoot(root: Element) {\n  // check for the potential default scrolling elements that might be returned from the above function\n  if (isDefaultScrollingElement(root)) {\n    return document.body;\n  } else {\n    return root;\n  }\n}\n\nexport function getCombinedData(aCoords: Coords, aDims: Dims, bCoords: Coords, bDims: Dims): { coords: Coords, dims: Dims } {\n\n  // generates similar data as getBoundingClientRect but using hypothetical positions\n  const generateBounds = (coords: Coords, dims: Dims): { left: number, right: number, top: number, bottom: number } => {\n    return {\n      left: coords.x,\n      right: coords.x + dims.width,\n      top: coords.y,\n      bottom: coords.y + dims.height\n    }\n  }\n\n  const mostExtreme = (a: number, b: number, largest: boolean): number => {\n    return (a > b)\n      ? (largest ? a : b)\n      : (largest ? b : a)\n  }\n\n  const aBounds = generateBounds(aCoords, aDims);\n  const bBounds = generateBounds(bCoords, bDims);\n\n\n  const left: number = mostExtreme(aBounds.left, bBounds.left, false);\n  const right: number = mostExtreme(aBounds.right, bBounds.right, true);\n  const top: number = mostExtreme(aBounds.top, bBounds.top, false);\n  const bottom: number = mostExtreme(aBounds.bottom, bBounds.bottom, true);\n\n  return {\n    coords: {\n      x: left,\n      y: top\n    },\n    dims: {\n      height: bottom - top,\n      width: right - left\n    }\n  }\n}\n\n// determines if a can fit within b\nexport function fitsWithin(aDims: Dims, bDims: Dims) {\n  if (!isValidDims(aDims) || !isValidDims(bDims)) {\n    return false;\n  }\n\n  return aDims.height <= bDims.height && aDims.width <= bDims.width;\n}\n\n// determines if a does fit within b at the given coords\nexport function isWithinAt(aDims: Dims, bDims: Dims, aCoords?: Coords, bCoords?: Coords) {\n  if (!isValidDims(aDims) || !isValidDims(bDims)) {\n    return false;\n  }\n\n  const validCoordsA: Coords = isValidCoords(aCoords) ? aCoords : { x: 0, y: 0 };\n  const validCoordsB: Coords = isValidCoords(bCoords) ? bCoords : { x: 0, y: 0 };\n  const fitsDims: boolean = fitsWithin(aDims, bDims);\n  const fitsHorizontally: boolean = (validCoordsA.x >= validCoordsB.x) && (validCoordsA.x + aDims.width <= validCoordsB.x + bDims.width);\n  const fitsVertically: boolean = (validCoordsA.y >= validCoordsB.y) && (validCoordsA.y + aDims.height <= validCoordsB.y + bDims.height);\n\n  return fitsDims && fitsHorizontally && fitsVertically;\n}\n\nexport function getFocusableElements(root: Element, includeSelf?: boolean): HTMLElement[] {\n\n  const focusableChildren = root.querySelectorAll(focusableSelector)\n  let array: HTMLElement[] = [];\n  if (includeSelf && root.matches(focusableSelector)) {\n    array.push(root as HTMLElement);\n  }\n  if (focusableChildren.length > 0) {\n    focusableChildren.forEach(el => array.push(el as HTMLElement));\n  } \n\n  return array;\n}\n\n// helper function to get first/last focusable elements if possible\nexport function getEdgeFocusables(defaultElement: HTMLElement, container?: HTMLElement, includeSelf?: boolean): { start: HTMLElement, end: HTMLElement } {\n  if (container) {\n    const containerFocusables: HTMLElement[] = getFocusableElements(container, includeSelf);\n    if (containerFocusables.length > 0) {\n      return {\n        start: containerFocusables[0],\n        end: containerFocusables[containerFocusables.length - 1]\n      }\n    }\n  }\n\n  return {\n    start: defaultElement,\n    end: defaultElement\n  }\n}\n\nexport function getTargetInfo(root: Element, target?: HTMLElement): ElementInfo | undefined {\n  if (!root || !target) {\n    return;\n  }\n  const dims: Dims = getElementDims(target);\n  const coords: Coords = getTargetPosition(root, target);\n\n  return {\n    coords,\n    dims\n  }\n}\n\nexport function isForeignTarget(root: Element, selector: string): boolean {\n  return !root.querySelector(selector);\n}\n","import { Dims, Coords, getElementCoords, isDefaultScrollingElement, getElementDims, isWithinAt } from \"./dom\";\nimport { addAppropriateOffset, getCurrentScrollOffset } from \"./offset\";\n\nexport function getViewportHeight(root: Element): number {\n  return root.clientHeight;\n}\n\nexport function getViewportWidth(root: Element): number {\n  return root.clientWidth;\n}\n\nexport function getViewportDims(root: Element): Dims {\n  return {\n    width: getViewportWidth(root),\n    height: getViewportHeight(root)\n  }\n}\n\nexport function getViewportScrollHeight(root: Element): number {\n  return root.scrollHeight;\n}\n\nexport function getViewportScrollWidth(root: Element): number {\n  return root.scrollWidth;\n}\n\nexport function getViewportScrollDims(root: Element): Dims {\n  return {\n    width: getViewportScrollWidth(root),\n    height: getViewportScrollHeight(root)\n  }\n}\n\nexport function getViewportStart(root: Element): Coords {\n  if (isDefaultScrollingElement(root)) {\n    return {\n      x: 0,\n      y: 0\n    }\n  } else {\n    return getElementCoords(root);\n  }\n}\n\nexport function getViewportEnd(root: Element): Coords {\n  const startCoords: Coords = getViewportStart(root);\n  return {\n    x: startCoords.x + getViewportWidth(root),\n    y: startCoords.y + getViewportHeight(root)\n  }\n}\n\n\nexport function getViewportScrollStart(root: Element): Coords {\n  const curScrollOffset: Coords = getCurrentScrollOffset(root);\n  const start: Coords = getViewportStart(root);\n\n  return {\n    x: start.x - curScrollOffset.x,\n    y: start.y - curScrollOffset.y\n  }\n}\n\nexport function getViewportScrollEnd(root: Element): Coords {\n  const startCoords: Coords = getViewportScrollStart(root);\n  const { width, height } = getViewportScrollDims(root);\n  return {\n    x: startCoords.x + width,\n    y: startCoords.y + height\n  };\n}\n\nexport function isElementInView(root: Element, element: HTMLElement, atPosition?: Coords, needsAdjusting?: boolean): boolean {\n  if (!root || !element) {\n    return false;\n  }\n  const explicitPosition: Coords = atPosition && (needsAdjusting ? addAppropriateOffset(root, atPosition) : atPosition)\n  const position: Coords = explicitPosition || addAppropriateOffset(root, getElementCoords(element));\n  const elementDims: Dims = getElementDims(element);\n  const startCoords: Coords = addAppropriateOffset(root, getViewportStart(root));\n  const viewportDims: Dims = getViewportDims(root);\n\n  return isWithinAt(elementDims, viewportDims, position, startCoords);\n}\n\n// if directed to scroll to a position which is outside the bounds of the scrolling container, the \n// viewport will stop at the edges of that container. We want to get the coords that the viewport\n// will end up when given certain coords\nexport function getScrolledViewportPosition(root: Element, scrollDestination: Coords) {\n  const dims = getViewportDims(root);\n  const startCoords = getViewportScrollStart(root);\n  const endCoords = getViewportScrollEnd(root);\n\n  const rightmost = endCoords.x - dims.width;\n  const bottommost = endCoords.y - dims.height;\n\n  let coords: Coords = scrollDestination;\n\n  if (scrollDestination.x < startCoords.x) {\n    coords.x = startCoords.x;\n  } else if (scrollDestination.x > rightmost) {\n    coords.x = rightmost;\n  } else {\n    coords.x = scrollDestination.x;\n  }\n\n  if (scrollDestination.y < startCoords.y) {\n    coords.y = startCoords.y;\n  } else if (scrollDestination.y > bottommost) {\n    coords.y = bottommost;\n  } else {\n    coords.y = scrollDestination.y;\n  }\n\n  return coords;\n}","import * as React from 'react';\nimport { Coords, Dims, ElementInfo } from '../utils/dom';\nimport { getViewportScrollDims } from '../utils/viewport';\n\nexport interface MaskOptions {\n  targetInfo?: ElementInfo;\n  padding: number;\n  close: () => void;\n  tourRoot: Element;\n  disableMaskInteraction?: boolean;\n  disableCloseOnClick?: boolean;\n  maskId: string;\n}\n\nexport function Mask(props: MaskOptions): JSX.Element {\n  const { targetInfo, disableMaskInteraction, padding, tourRoot, close, disableCloseOnClick, maskId } = props;\n  const {width: containerWidth, height: containerHeight} = getViewportScrollDims(tourRoot);\n  const pathId = `clip-path-${maskId}`;\n\n  const getCutoutPoints = (target?: {coords: Coords, dims: Dims}): string => {\n    if (!target) {\n      return '';\n    }\n\n    const {\n      dims,\n      coords\n    } = target;\n\n    const cutoutTop: number = coords.y - padding;\n    const cutoutLeft: number = coords.x - padding;\n    const cutoutRight: number = coords.x + dims.width + padding;\n    const cutoutBottom: number = coords.y + dims.height + padding;\n\n    return `0 0, \n            0 ${containerHeight}, \n            ${cutoutLeft} ${containerHeight}, \n            ${cutoutLeft} ${cutoutTop}, \n            ${cutoutRight} ${cutoutTop}, \n            ${cutoutRight} ${cutoutBottom}, \n            ${cutoutLeft} ${cutoutBottom}, \n            ${cutoutLeft} ${containerHeight}, \n            ${containerWidth} ${containerHeight}, \n            ${containerWidth} 0`;\n  }\n\n  const svgStyle: React.CSSProperties = {\n    height: containerHeight,\n    width: containerWidth,\n    pointerEvents: disableMaskInteraction ? 'auto' : 'none',\n  }\n\n  return (\n    <svg style={svgStyle}>\n      {targetInfo &&\n        <defs>\n          <clipPath id={pathId}>\n            <polygon points={getCutoutPoints(targetInfo)}\n            />\n          </clipPath>\n        </defs>\n      }\n\n      <rect\n        onClick={disableCloseOnClick ? undefined : close}\n        x={0}\n        y={0}\n        width={containerWidth}\n        height={containerHeight}\n        fill='black'\n        fillOpacity={0.3}\n        pointerEvents='auto'\n        clipPath={targetInfo ? `url(#${pathId})` : undefined}\n      />\n    </svg>\n  );\n}\n","import { CSSProperties } from \"react\";\n\n\nexport interface WalktourStyles {\n  tooltip: CSSProperties;\n  footer: CSSProperties;\n  title: CSSProperties;\n  description: CSSProperties;\n  primaryButton: CSSProperties;\n  secondaryButton: CSSProperties;\n  tertiaryButton: CSSProperties;\n  disabledButton: CSSProperties;\n}\n\nconst contentMargin: number = 4;\nconst baseButtonStyle: React.CSSProperties = {\n  cursor: 'pointer',\n  padding: '4px 16px', \n  textAlign: 'center',\n  border: 0,\n  borderRadius: 3,\n  backgroundColor: '#0084ff',\n  color: '#fff',\n  fontSize: 14,\n  margin: contentMargin\n};\n\nexport const defaultStyles: WalktourStyles = {\n  tooltip: {\n    display: 'flex', \n    flexDirection: 'column', \n    zIndex: 9999,\n    fontFamily: 'Roboto, sans-serif',\n    fontSize: 14,\n    backgroundColor: 'white',\n    padding: '10px 10px 5px 10px',\n    borderRadius: '5px',\n    boxShadow: '0 3px 8px 0 rgba(0,0,0,.25)',\n    color: '#4d4d4d',\n    minWidth: 215, //so that buttons have adequate spacing\n    maxWidth: 285,\n  },\n  footer: {\n    display: 'flex',\n    justifyContent: 'center',\n    marginTop: contentMargin\n  },\n  title: {\n    margin: contentMargin,\n    fontSize: 24,\n  },\n  description: {\n    margin: contentMargin,\n  },\n  primaryButton: {\n    ...baseButtonStyle,\n    backgroundColor: \"#0084ff\",\n    color: \"#ffffff\"\n  },\n  secondaryButton: {\n    ...baseButtonStyle,\n    backgroundColor: \"#8400ff\",\n    color: \"#fff\",\n    border: \"solid 1px #8400ff\"\n  },\n  tertiaryButton: {\n    ...baseButtonStyle,\n    marginRight: 'auto',\n    backgroundColor: `transparent`,\n    color: \"#025c53\",\n    border: \"solid 1px #025c53\"\n  },\n  disabledButton: {\n    ...baseButtonStyle,\n    backgroundColor: \"#bebebe\",\n    color: \"#989898\",\n    cursor: \"default\"\n  },\n}","import * as React from 'react';\nimport { WalktourLogic } from './Walktour';\nimport { WalktourStyles, defaultStyles } from '../defaultstyles';\n\ninterface TooltipProps extends WalktourLogic {\n  styles?: WalktourStyles;\n}\n\nexport function Tooltip(props: TooltipProps) {\n  const {\n    next,\n    prev,\n    close,\n    stepContent: {\n      title,\n      description,\n      customTitleRenderer,\n      customDescriptionRenderer,\n      customFooterRenderer,\n      disableClose,\n      disableNext,\n      disablePrev,\n      nextLabel,\n      prevLabel,\n      closeLabel,\n    },\n    stepIndex,\n    allSteps,\n    styles,\n  } = {\n    styles: defaultStyles,\n    ...props\n  };\n\n  const tooltipStyle: React.CSSProperties = {\n    ...styles.tooltip,\n  }\n\n  const prevDisabled: boolean = disablePrev !== undefined ? disablePrev : stepIndex === 0;\n  const nextDisabled: boolean = disableNext !== undefined ? disableNext : stepIndex + 1 === allSteps.length;\n\n  return (\n    <div style={tooltipStyle}>\n      {customTitleRenderer\n        ? customTitleRenderer(title, props)\n        : (title &&\n          <div style={styles.title}>\n            {title}\n          </div>\n        )\n      }\n\n      {customDescriptionRenderer\n        ? customDescriptionRenderer(description, props)\n        : (\n          <div style={styles.description}>\n            {description}\n          </div>\n        )\n      }\n\n      {customFooterRenderer\n        ? customFooterRenderer(props)\n        : (\n          <div style={styles.footer}>\n            <button \n            onClick={() => close()} \n            style={{...styles.tertiaryButton, ...disableClose && styles.disabledButton}}\n            disabled={disableClose}\n            >\n              {closeLabel || \"close\"}\n            </button>\n            <button\n              onClick={prev}\n              disabled={prevDisabled}\n              style={{...styles.secondaryButton, ...prevDisabled && styles.disabledButton}}\n            >\n              {prevLabel || \"prev\"}\n            </button>\n            <button\n              onClick={() => next()}\n              disabled={nextDisabled}\n              style={{...styles.primaryButton, ...nextDisabled && styles.disabledButton}}\n            >\n              {nextLabel || \"next\"}\n            </button>\n          </div>\n        )}\n    </div>\n  )\n}","import { Coords } from \"./dom\";\nimport { addAppropriateOffset, centerViewportAroundElement } from \"./offset\";\n\nexport function scrollToElement(root: Element, element: HTMLElement, disableSmoothScrolling?: boolean): void {\n  if (!root || !element) {\n    return;\n  }\n\n  const coords = addAppropriateOffset(root, centerViewportAroundElement(root, element));\n\n  scrollToDestination(root, coords, disableSmoothScrolling);\n}\n\nexport function scrollToDestination(root: Element, destination: Coords, disableSmoothScrolling?: boolean): void {\n  if (!root || !destination) {\n    return;\n  }\n  // check if the 'scrollBehavior' property is supported. Support for this property is consistent\n  // with support for scrollToOptions, and if it's supported we can scroll smoothly\n  const smoothScrollingIsSupported = 'scrollBehavior' in document.documentElement.style;\n  if (smoothScrollingIsSupported && !disableSmoothScrolling) {\n    const scrollOptions: ScrollToOptions = {\n      top: destination.y,\n      left: destination.x,\n      behavior: 'smooth'\n    }\n\n    root.scrollTo(scrollOptions);\n  } else {\n    root.scrollTop = destination.y;\n    root.scrollLeft = destination.x;\n  }\n}","import { Coords, dist, Dims, areaDiff, fitsWithin, getElementDims, getEdgeFocusables, isForeignTarget } from \"./dom\";\nimport { getTargetPosition, GetTooltipPositionArgs, getTooltipPosition, OrientationCoords } from \"./positioning\";\nimport { isElementInView, getViewportDims } from \"./viewport\";\nimport { TAB_KEYCODE } from \"./constants\";\n\n//miscellaneous tour utilities\n\nexport function debounce<T extends any[]>(f: (...args: T) => void, interval: number = 300) {\n  let timeoutId: number;\n  return (...args: T) => {\n    if (timeoutId) {\n      window.clearTimeout(timeoutId);\n    }\n    timeoutId = window.setTimeout(() => f(...args), interval);\n  }\n}\n\nexport function getIdString(base: string, identifier?: string): string {\n  return `${base}${identifier ? `-${identifier}` : ``}`\n}\n\nexport function setTargetWatcher(callback: () => void, interval: number): (() => void) {\n  const intervalId: number = window.setInterval(callback, interval);\n\n  return () => window.clearInterval(intervalId);\n}\n\nexport interface SetTourUpdateListenerArgs {\n  update: () => void;\n  customSetListener?: (update: () => void) => void;\n  customRemoveListener?: (update: () => void) => void;\n  event?: string; // default is resize event\n}\n\nexport function setTourUpdateListener(args: SetTourUpdateListenerArgs) {\n  const { update, customSetListener, customRemoveListener, event } = { event: 'resize', ...args }\n  if (customSetListener && customRemoveListener) {\n    customSetListener(update);\n    return () => customRemoveListener(update);\n  } else {\n    window.addEventListener(event, update)\n    return () => window.removeEventListener(event, update);\n  }\n}\n\ninterface FocusTrapArgs {\n  start: HTMLElement;\n  end: HTMLElement;\n  beforeStart?: HTMLElement;\n  afterEnd?: HTMLElement;\n  // element that should be excluded from the focus trap but may obtain focus.\n  // any focus changes from this element will be directed back to the trap.\n  // behavior is based on \"verify address\" example from https://www.w3.org/TR/wai-aria-practices/examples/dialog-modal/dialog.html\n  lightningRod?: HTMLElement;\n}\n\n// helper function to create a keyboard focus trap, potentially including multiple elements\nfunction getFocusTrapHandler(args: FocusTrapArgs): (e: KeyboardEvent) => void {\n  const { start, end, beforeStart, afterEnd, lightningRod } = args;\n  return (e: KeyboardEvent) => {\n    if (e.keyCode === TAB_KEYCODE) {\n      if (e.shiftKey && e.target === start) {\n        e.preventDefault();\n        beforeStart ? beforeStart.focus() : end.focus();\n      } else if (!e.shiftKey && e.target === end) {\n        e.preventDefault();\n        afterEnd ? afterEnd.focus() : start.focus();\n      } else if (e.target === lightningRod) {\n        e.preventDefault();\n        start.focus();\n      }\n    }\n  }\n}\n\nexport const setFocusTrap = (tooltipContainer: HTMLElement, target?: HTMLElement, disableMaskInteraction?: boolean): (() => void) => {\n  if (!tooltipContainer) {\n    return;\n  }\n\n  const { start: tooltipFirst, end: tooltipLast } = getEdgeFocusables(tooltipContainer, tooltipContainer);\n  const { start: targetFirst, end: targetLast } = getEdgeFocusables(undefined, target, true);\n\n  let tooltipBeforeStart: HTMLElement;\n  let tooltipAfterEnd: HTMLElement;\n  let targetTrapHandler: (e: KeyboardEvent) => void;\n\n  if (target && !disableMaskInteraction && targetFirst && targetLast) {\n    tooltipAfterEnd = targetFirst;\n    tooltipBeforeStart = targetLast;\n    targetTrapHandler = getFocusTrapHandler({ start: targetFirst, end: targetLast, beforeStart: tooltipLast, afterEnd: tooltipFirst })\n    target.addEventListener('keydown', targetTrapHandler);\n  }\n\n  const tooltipTrapHandler = getFocusTrapHandler({ start: tooltipFirst, end: tooltipLast, beforeStart: tooltipBeforeStart, afterEnd: tooltipAfterEnd, lightningRod: tooltipContainer });\n  tooltipContainer.addEventListener('keydown', tooltipTrapHandler);\n\n  return () => {\n    if (target) {\n      target.removeEventListener('keydown', targetTrapHandler);\n    }\n\n    tooltipContainer.removeEventListener('keydown', tooltipTrapHandler);\n  }\n}\n\ninterface NaiveShouldScrollArgs {\n  root: Element;\n  tooltip: HTMLElement;\n  tooltipPosition: Coords;\n  target: HTMLElement;\n}\n\nfunction naiveShouldScroll(args: NaiveShouldScrollArgs): boolean {\n  const { root, tooltip, tooltipPosition, target } = args;\n\n  if (!isElementInView(root, tooltip, tooltipPosition)) {\n    return true;\n  }\n\n  if (!isElementInView(root, target)) {\n    return fitsWithin(getElementDims(target), getViewportDims(root));\n  }\n\n  return false;\n}\nexport interface ShouldScrollArgs extends NaiveShouldScrollArgs {\n  disableAutoScroll?: boolean;\n  allowForeignTarget?: boolean;\n  selector?: string;\n}\n\nexport function shouldScroll(args: ShouldScrollArgs): boolean {\n  const { root, tooltip, target, disableAutoScroll, allowForeignTarget, selector: targetSelector } = args;\n  if (!root || !tooltip || !target) {\n    return false;\n  }\n\n  if (disableAutoScroll) {\n    return false;\n  }\n\n  if (allowForeignTarget && targetSelector) {\n    return !isForeignTarget(root, targetSelector);\n  }\n  return naiveShouldScroll({ ...args });\n}\n\nexport interface TargetChangedArgs {\n  root: Element;\n  target: HTMLElement;\n  targetCoords: Coords;\n  targetDims: Dims;\n  rerenderTolerance: number;\n}\nexport function targetChanged(args: TargetChangedArgs): boolean {\n  const { root, target, targetCoords, targetDims, rerenderTolerance } = args;\n  if (!target && !targetCoords && !targetDims) {\n    return false;\n  }\n\n  // when the target / target data are out of sync. usually due to a movingTarget, i.e. the target arg is more up to date than the pos/dims args\n  if ((!target && targetCoords && targetDims) || (target && !targetCoords && !targetDims)) {\n    return true;\n  }\n\n  const currentTargetSize: Dims = getElementDims(target);\n  const currentTargetPosition: Coords = getTargetPosition(root, target);\n\n  const sizeChanged: boolean = areaDiff(currentTargetSize, targetDims) > rerenderTolerance;\n  const positionChanged: boolean = dist(currentTargetPosition, targetCoords) > rerenderTolerance;\n\n  return sizeChanged || positionChanged;\n}\n\nexport interface TooltipDesyncArgs extends GetTooltipPositionArgs {\n tooltipPosition: Coords;\n}\n\n// if there's no target, we need to ensure that the tooltip is centered, even if the window/container/scroll changes \n// if a target exists, there's not a tooltip desync in this context; there are two other functions\n// to determine if the tooltip/target are out of sync - this is solely for non-target cases\nexport function tooltipDesync(args: TooltipDesyncArgs): boolean {\n  const { target, root, tooltip, tooltipPosition: currentPosition } = args;\n  if (target || !root || !tooltip) {\n    return false;\n  }\n\n  const newPosition: OrientationCoords = getTooltipPosition({...args})\n\n  // if there's a difference between the newly calculated position and the current position, we need to update\n  return dist(newPosition.coords, currentPosition) !== 0;\n  \n}\n\nexport interface ShouldUpdateArgs extends TargetChangedArgs, ShouldScrollArgs, TooltipDesyncArgs { }\n\nexport function shouldUpdate(args: ShouldUpdateArgs): boolean {\n  const { root, tooltip } = args;\n  if (!root || !tooltip) {\n    return false; // bail if these aren't present; need them for calculations\n  }\n\n  return targetChanged({ ...args }) || shouldScroll({ ...args }) || tooltipDesync({...args})\n}\n\nexport const takeActionIfValid = async (action: () => void, actionValidator?: () => Promise<boolean>) => {\n  if (actionValidator) {\n    const valid: boolean = await actionValidator();\n    if (valid) {\n      action();\n    }\n  } else {\n    action();\n  }\n}\n\nexport const setNextOnTargetClick = (target: HTMLElement, next: (fromTarget?: boolean) => void, validateNext?: () => Promise<boolean>): (() => void) => {\n  if (!target) {\n    return;\n  }\n\n  // if valid, call a handler which 1. calls the tetheredAction function and 2. removes itself from the target\n  const clickHandler = () => {\n    const actionWithCleanup = () => {\n      next(true);\n      target.removeEventListener('click', clickHandler);\n    }\n\n    takeActionIfValid(actionWithCleanup, validateNext)\n  }\n\n  target.addEventListener('click', clickHandler);\n  return () => target.removeEventListener('click', clickHandler); // return so we can remove the event elsewhere if the action doesn't get called\n}","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { Mask, MaskOptions } from './Mask';\nimport { Tooltip } from './Tooltip';\nimport { CardinalOrientation, OrientationCoords, getTargetPosition, getTooltipPosition } from '../utils/positioning';\nimport { Coords, getNearestScrollAncestor, getValidPortalRoot, Dims, getElementDims, getTargetInfo } from '../utils/dom';\nimport { scrollToDestination } from '../utils/scroll';\nimport { centerViewportAroundElements } from '../utils/offset';\nimport { debounce, getIdString, shouldUpdate, setFocusTrap, setTargetWatcher, setTourUpdateListener, shouldScroll, setNextOnTargetClick } from '../utils/tour';\n\nexport interface WalktourLogic {\n  next: (fromTarget?: boolean) => void;\n  prev: () => void;\n  close: (reset?: boolean) => void;\n  goToStep: (stepNumber: number) => void;\n  stepContent: Step;\n  stepIndex: number;\n  allSteps: Step[];\n  tooltipPosition: OrientationCoords;\n}\n\nexport interface WalktourOptions {\n  disableMaskInteraction?: boolean;\n  disableCloseOnClick?: boolean;\n  orientationPreferences?: CardinalOrientation[];\n  maskPadding?: number;\n  tooltipSeparation?: number;\n  transition?: string;\n  customTitleRenderer?: (title?: string, tourLogic?: WalktourLogic) => JSX.Element;\n  customDescriptionRenderer?: (description: string, tourLogic?: WalktourLogic) => JSX.Element;\n  customFooterRenderer?: (tourLogic?: WalktourLogic) => JSX.Element;\n  customTooltipRenderer?: (tourLogic?: WalktourLogic) => JSX.Element;\n  customNextFunc?: (tourLogic: WalktourLogic, fromTarget?: boolean) => void;\n  customPrevFunc?: (tourLogic: WalktourLogic) => void;\n  customCloseFunc?: (tourLogic: WalktourLogic) => void;\n  prevLabel?: string;\n  nextLabel?: string;\n  closeLabel?: string;\n  disableNext?: boolean;\n  disablePrev?: boolean;\n  disableClose?: boolean;\n  disableAutoScroll?: boolean;\n  getPositionFromCandidates?: (candidates: OrientationCoords[]) => OrientationCoords;\n  movingTarget?: boolean;\n  updateInterval?: number;\n  renderTolerance?: number;\n  disableMask?: boolean;\n  renderMask?: (maskOptions: MaskOptions) => JSX.Element;\n  disableSmoothScroll?: boolean;\n  allowForeignTarget?: boolean;\n  nextOnTargetClick?: boolean;\n  validateNextOnTargetClick?: () => Promise<boolean>;\n}\n\nexport interface Step extends WalktourOptions {\n  selector: string;\n  title?: string;\n  description: string;\n}\n\nexport interface WalktourProps extends WalktourOptions {\n  steps: Step[];\n  initialStepIndex?: number;\n  zIndex?: number;\n  rootSelector?: string;\n  identifier?: string;\n  setUpdateListener?: (update: () => void) => void;\n  removeUpdateListener?: (update: () => void) => void;\n  disableListeners?: boolean;\n  isOpen?: boolean;\n  debug?: boolean;\n}\n\nconst walktourDefaultProps: Partial<WalktourProps> = {\n  maskPadding: 5,\n  tooltipSeparation: 10,\n  transition: 'top 300ms ease, left 300ms ease',\n  disableMaskInteraction: false,\n  disableCloseOnClick: false,\n  zIndex: 9999,\n  renderTolerance: 2,\n  updateInterval: 500\n}\n\nconst basePortalString: string = 'walktour-portal';\nconst baseMaskString: string = 'walktour-mask';\nconst baseTooltipContainerString: string = 'walktour-tooltip-container';\n\nexport const Walktour = (props: WalktourProps) => {\n\n  const {\n    steps,\n    initialStepIndex,\n    isOpen\n  } = props;\n\n  const controlled = isOpen !== undefined;\n  const [isOpenState, setIsOpenState] = React.useState<boolean>(isOpen == undefined);\n  const [target, setTarget] = React.useState<HTMLElement>(undefined);\n  const [tooltipPosition, setTooltipPosition] = React.useState<OrientationCoords>(undefined);\n  const [currentStepIndex, setCurrentStepIndex] = React.useState<number>(initialStepIndex || 0);\n  const [tourRoot, setTourRoot] = React.useState<Element>(undefined);\n\n  const cleanupRefs = React.useRef<Array<() => void>>([]);\n  const tooltip = React.useRef<HTMLElement>(undefined);\n  const portal = React.useRef<HTMLElement>(undefined);\n  const targetPosition = React.useRef<Coords>(undefined);\n  const targetSize = React.useRef<Dims>(undefined);\n\n  const currentStepContent: Step = steps[currentStepIndex];\n  const tourOpen: boolean = controlled ? isOpen : isOpenState;\n\n  const options: WalktourOptions & WalktourProps & Step = {\n    ...walktourDefaultProps,\n    ...props,\n    ...currentStepContent\n  }\n\n  const {\n    selector,\n    maskPadding,\n    disableMaskInteraction,\n    disableCloseOnClick,\n    tooltipSeparation,\n    transition,\n    orientationPreferences,\n    customTooltipRenderer,\n    zIndex,\n    rootSelector,\n    customNextFunc,\n    customPrevFunc,\n    customCloseFunc,\n    disableClose,\n    disableNext,\n    disablePrev,\n    disableAutoScroll,\n    identifier,\n    getPositionFromCandidates,\n    movingTarget,\n    renderTolerance,\n    updateInterval,\n    disableMask,\n    setUpdateListener,\n    removeUpdateListener,\n    disableListeners,\n    disableSmoothScroll,\n    debug,\n    allowForeignTarget,\n    nextOnTargetClick,\n    validateNextOnTargetClick,\n    renderMask\n  } = options;\n\n  React.useEffect(() => {\n    return cleanup;\n  }, []);\n\n  // set/reset the tour root \n  React.useEffect(() => {\n    let root: Element;\n    if (rootSelector) {\n      root = document.querySelector(rootSelector);\n    }\n    if (!root) {\n      root = getNearestScrollAncestor(portal.current);\n    }\n\n    if (tourOpen !== false && root !== tourRoot) {\n      setTourRoot(root);\n    }\n  }, [rootSelector, portal.current, tourOpen])\n\n  // update tour when step changes\n  React.useEffect(() => {\n    if (debug) {\n      console.log(`walktour debug (${identifier ? `${identifier}, ` : \"\"}${currentStepIndex}):`, {\n        \"options:\": options,\n        \"tour logic:\": tourLogic,\n        \"previous state/vars:\": {\n          isOpenState,\n          tourRoot,\n          target,\n          tooltipPosition,\n          targetPosition,\n          currentStepIndex,\n          targetSize,\n        }\n      })\n    }\n    if (tooltip.current && tourOpen) {\n      tooltip.current.focus();\n      updateTour();\n    } else {\n      cleanup();\n    }\n  }, [currentStepIndex, currentStepContent, tourOpen, tourRoot, tooltip.current])\n  \n  // update tooltip and target position in state\n  const updateTour = () => {\n    cleanup();\n    const root: Element = tourRoot;\n    const tooltipContainer: HTMLElement = tooltip.current;\n\n    if (!root || !tooltipContainer) {\n      setTarget(null);\n      setTooltipPosition(null);\n      targetPosition.current = null;\n      targetSize.current = null;\n      return;\n    }\n\n    const targetScope: Element | Document = allowForeignTarget ? document : root;\n    const getTarget = (): HTMLElement => targetScope.querySelector(selector);\n    const currentTarget: HTMLElement = getTarget();\n    const currentTargetPosition: Coords = getTargetPosition(root, currentTarget);\n    const currentTargetDims: Dims = getElementDims(currentTarget);\n    const smartPadding: number = disableMask ? 0 : maskPadding;\n    \n    const tooltipPosition: OrientationCoords = getTooltipPosition({\n      target: currentTarget,\n      tooltip: tooltipContainer,\n      padding: smartPadding,\n      tooltipSeparation,\n      orientationPreferences,\n      root,\n      getPositionFromCandidates,\n      disableAutoScroll,\n      allowForeignTarget,\n      selector\n    });\n\n    setTarget(currentTarget);\n    setTooltipPosition(tooltipPosition);\n    targetPosition.current = currentTargetPosition;\n    targetSize.current = currentTargetDims;\n\n    //focus trap subroutine\n    const cleanupFocusTrap = setFocusTrap(tooltipContainer, currentTarget, disableMaskInteraction);\n    cleanupRefs.current.push(cleanupFocusTrap);\n\n    if (shouldScroll({\n      disableAutoScroll,\n      allowForeignTarget,\n      selector,\n      root,\n      target: currentTarget,\n      tooltip: tooltipContainer,\n      tooltipPosition: tooltipPosition.coords\n    })) {\n      scrollToDestination(root, centerViewportAroundElements(root, tooltipContainer, currentTarget, tooltipPosition.coords, currentTargetPosition), disableSmoothScroll)\n    }\n\n    if (!disableListeners) {\n      const conditionalUpdate = () => {\n        const availableTarget = getTarget();\n\n        if (shouldUpdate({\n          root,\n          tooltipPosition: tooltipPosition.coords,\n          tooltip: tooltipContainer,\n          target: availableTarget,\n          disableAutoScroll,\n          rerenderTolerance: renderTolerance,\n          targetCoords: targetPosition.current,\n          targetDims: targetSize.current,\n          allowForeignTarget,\n          selector,\n          getPositionFromCandidates,\n          orientationPreferences, \n          padding: smartPadding, \n          tooltipSeparation\n        })) {\n          updateTour();\n        }\n      }\n\n      const cleanupUpdateListener = setTourUpdateListener({ update: debounce(conditionalUpdate), customSetListener: setUpdateListener, customRemoveListener: removeUpdateListener });\n      cleanupRefs.current.push(cleanupUpdateListener)\n\n      // if the user requests a watcher and there's supposed to be a target\n      if (movingTarget && (currentTarget || selector)) {\n        const cleanupWatcher = setTargetWatcher(conditionalUpdate, updateInterval)\n        cleanupRefs.current.push(cleanupWatcher);\n      }\n\n      if (nextOnTargetClick && currentTarget) {\n        const cleanupTargetTether = setNextOnTargetClick(currentTarget, tourLogic.next, validateNextOnTargetClick)\n        cleanupRefs.current.push(cleanupTargetTether);\n      }\n    }\n  }\n\n  const goToStep = (stepIndex: number) => {\n    if (stepIndex >= steps.length || stepIndex < 0) {\n      return;\n    }\n    setCurrentStepIndex(stepIndex);\n  }\n\n  const cleanup = () => {\n    cleanupRefs.current.forEach(f => f());\n    cleanupRefs.current = [];\n  }\n\n  const closeTour = (reset?: boolean) => {\n    reset && goToStep(0);\n    !controlled && setIsOpenState(false);\n    cleanup();\n    target && target.focus(); // return focus to last target when closed\n  }\n\n  const baseLogic: WalktourLogic = {\n    next: () => goToStep(currentStepIndex + 1),\n    prev: () => goToStep(currentStepIndex - 1),\n    close: (reset?: boolean) => closeTour(reset),\n    goToStep: goToStep,\n    stepContent: { ...options }, //pass options in as well to expose any defaults that aren't specified\n    stepIndex: currentStepIndex,\n    allSteps: steps,\n    tooltipPosition\n  };\n\n  const tourLogic: WalktourLogic = {\n    ...baseLogic,\n    ...customNextFunc && { next: (fromTarget?: boolean) => customNextFunc(baseLogic, fromTarget) },\n    ...customPrevFunc && { prev: () => customPrevFunc(baseLogic) },\n    ...customCloseFunc && { close: () => customCloseFunc(baseLogic) }\n  };\n\n  const keyPressHandler = (event: React.KeyboardEvent) => {\n    switch (event.key) {\n      case \"Escape\":\n        event.preventDefault();\n        if (!disableClose) {\n          tourLogic.close();\n        }\n        break;\n      case \"ArrowRight\":\n        event.preventDefault();\n        if (!disableNext) {\n          tourLogic.next()\n        }\n        break;\n      case \"ArrowLeft\":\n        event.preventDefault();\n        if (!disablePrev) {\n          tourLogic.prev();\n        }\n        break;\n    }\n  }\n\n  //don't render if the tour is hidden or if there's no step data\n  if (!tourOpen || !currentStepContent) {\n    return null;\n  };\n\n  const portalStyle: React.CSSProperties = {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    zIndex: zIndex,\n    visibility: tooltipPosition ? 'visible' : 'hidden',\n    pointerEvents: \"none\"\n  }\n\n  const tooltipContainerStyle: React.CSSProperties = {\n    position: 'absolute',\n    top: tooltipPosition?.coords?.y,\n    left: tooltipPosition?.coords?.x,\n    transition: transition,\n    pointerEvents: 'auto'\n  }\n\n  const MaskTag = renderMask ? renderMask : Mask;\n\n  // render mask, tooltip, and their shared \"portal\" container\n  const render = () => (\n    <div\n      ref={ref => portal.current = ref}\n      id={getIdString(basePortalString, identifier)}\n      style={portalStyle}\n    >\n      {tourRoot &&\n        <>\n          {!disableMask &&\n            <MaskTag\n              maskId={getIdString(baseMaskString, identifier)}\n              targetInfo={getTargetInfo(tourRoot, target)}\n              disableMaskInteraction={disableMaskInteraction}\n              disableCloseOnClick={disableCloseOnClick}\n              padding={maskPadding}\n              tourRoot={tourRoot}\n              close={tourLogic.close}\n            />\n          }\n\n          <div\n            ref={ref => tooltip.current = ref}\n            id={getIdString(baseTooltipContainerString, identifier)}\n            style={tooltipContainerStyle}\n            onKeyDown={keyPressHandler}\n            tabIndex={0}\n          >\n            {customTooltipRenderer\n              ? customTooltipRenderer(tourLogic)\n              : <Tooltip\n                {...tourLogic}\n              />\n            }\n          </div>\n        </>\n      }\n    </div>);\n\n  // on first render, put everything in its normal context.\n  // after first render (once we've determined the tour root) spawn a portal there for rendering.\n  if (tourRoot) {\n    return ReactDOM.createPortal(render(), getValidPortalRoot(tourRoot));\n  } else {\n    return render();\n  }\n}\n\n"],"sourceRoot":""}